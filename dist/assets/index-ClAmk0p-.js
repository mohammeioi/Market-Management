var Xm=e=>{throw TypeError(e)};var n1=(e,t,r)=>t.has(e)||Xm("Cannot "+r);var fe=(e,t,r)=>(n1(e,t,"read from private field"),r?r.call(e):t.get(e)),nt=(e,t,r)=>t.has(e)?Xm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ue=(e,t,r,n)=>(n1(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Br=(e,t,r)=>(n1(e,t,"access private method"),r);var $f=(e,t,r,n)=>({set _(a){Ue(e,t,a,r)},get _(){return fe(e,t,n)}});function Y8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function q8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var _E={exports:{}},Xd={},EE={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=Symbol.for("react.element"),Z8=Symbol.for("react.portal"),Q8=Symbol.for("react.fragment"),J8=Symbol.for("react.strict_mode"),ek=Symbol.for("react.profiler"),tk=Symbol.for("react.provider"),rk=Symbol.for("react.context"),nk=Symbol.for("react.forward_ref"),ak=Symbol.for("react.suspense"),ik=Symbol.for("react.memo"),sk=Symbol.for("react.lazy"),Km=Symbol.iterator;function ok(e){return e===null||typeof e!="object"?null:(e=Km&&e[Km]||e["@@iterator"],typeof e=="function"?e:null)}var CE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SE=Object.assign,AE={};function il(e,t,r){this.props=e,this.context=t,this.refs=AE,this.updater=r||CE}il.prototype.isReactComponent={};il.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};il.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bE(){}bE.prototype=il.prototype;function Tg(e,t,r){this.props=e,this.context=t,this.refs=AE,this.updater=r||CE}var kg=Tg.prototype=new bE;kg.constructor=Tg;SE(kg,il.prototype);kg.isPureReactComponent=!0;var Ym=Array.isArray,TE=Object.prototype.hasOwnProperty,Ig={current:null},kE={key:!0,ref:!0,__self:!0,__source:!0};function IE(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)TE.call(t,n)&&!kE.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:sf,type:e,key:i,ref:s,props:a,_owner:Ig.current}}function ck(e,t){return{$$typeof:sf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ng(e){return typeof e=="object"&&e!==null&&e.$$typeof===sf}function lk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qm=/\/+/g;function a1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lk(""+e.key):t.toString(36)}function P0(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case sf:case Z8:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+a1(s,0):n,Ym(a)?(r="",e!=null&&(r=e.replace(qm,"$&/")+"/"),P0(a,t,r,"",function(l){return l})):a!=null&&(Ng(a)&&(a=ck(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(qm,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",Ym(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+a1(i,o);s+=P0(i,t,r,c,a)}else if(c=ok(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+a1(i,o++),s+=P0(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Hf(e,t,r){if(e==null)return e;var n=[],a=0;return P0(e,n,"","",function(i){return t.call(r,i,a++)}),n}function uk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pn={current:null},D0={transition:null},fk={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:D0,ReactCurrentOwner:Ig};function NE(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:Hf,forEach:function(e,t,r){Hf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hf(e,function(){t++}),t},toArray:function(e){return Hf(e,function(t){return t})||[]},only:function(e){if(!Ng(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ke.Component=il;Ke.Fragment=Q8;Ke.Profiler=ek;Ke.PureComponent=Tg;Ke.StrictMode=J8;Ke.Suspense=ak;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fk;Ke.act=NE;Ke.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=SE({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Ig.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)TE.call(t,c)&&!kE.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var l=0;l<c;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:sf,type:e.type,key:a,ref:i,props:n,_owner:s}};Ke.createContext=function(e){return e={$$typeof:rk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tk,_context:e},e.Consumer=e};Ke.createElement=IE;Ke.createFactory=function(e){var t=IE.bind(null,e);return t.type=e,t};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(e){return{$$typeof:nk,render:e}};Ke.isValidElement=Ng;Ke.lazy=function(e){return{$$typeof:sk,_payload:{_status:-1,_result:e},_init:uk}};Ke.memo=function(e,t){return{$$typeof:ik,type:e,compare:t===void 0?null:t}};Ke.startTransition=function(e){var t=D0.transition;D0.transition={};try{e()}finally{D0.transition=t}};Ke.unstable_act=NE;Ke.useCallback=function(e,t){return pn.current.useCallback(e,t)};Ke.useContext=function(e){return pn.current.useContext(e)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(e){return pn.current.useDeferredValue(e)};Ke.useEffect=function(e,t){return pn.current.useEffect(e,t)};Ke.useId=function(){return pn.current.useId()};Ke.useImperativeHandle=function(e,t,r){return pn.current.useImperativeHandle(e,t,r)};Ke.useInsertionEffect=function(e,t){return pn.current.useInsertionEffect(e,t)};Ke.useLayoutEffect=function(e,t){return pn.current.useLayoutEffect(e,t)};Ke.useMemo=function(e,t){return pn.current.useMemo(e,t)};Ke.useReducer=function(e,t,r){return pn.current.useReducer(e,t,r)};Ke.useRef=function(e){return pn.current.useRef(e)};Ke.useState=function(e){return pn.current.useState(e)};Ke.useSyncExternalStore=function(e,t,r){return pn.current.useSyncExternalStore(e,t,r)};Ke.useTransition=function(){return pn.current.useTransition()};Ke.version="18.3.1";EE.exports=Ke;var E=EE.exports;const xe=bg(E),Og=Y8({__proto__:null,default:xe},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk=E,hk=Symbol.for("react.element"),pk=Symbol.for("react.fragment"),vk=Object.prototype.hasOwnProperty,gk=dk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xk={key:!0,ref:!0,__self:!0,__source:!0};function OE(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)vk.call(t,n)&&!xk.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:hk,type:e,key:i,ref:s,props:a,_owner:gk.current}}Xd.Fragment=pk;Xd.jsx=OE;Xd.jsxs=OE;_E.exports=Xd;var g=_E.exports,RE={exports:{}},Hn={},PE={exports:{}},DE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,L){var le=Y.length;Y.push(L);e:for(;0<le;){var de=le-1>>>1,N=Y[de];if(0<a(N,L))Y[de]=L,Y[le]=N,le=de;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var L=Y[0],le=Y.pop();if(le!==L){Y[0]=le;e:for(var de=0,N=Y.length,G=N>>>1;de<G;){var V=2*(de+1)-1,z=Y[V],W=V+1,X=Y[W];if(0>a(z,le))W<N&&0>a(X,z)?(Y[de]=X,Y[W]=le,de=W):(Y[de]=z,Y[V]=le,de=V);else if(W<N&&0>a(X,le))Y[de]=X,Y[W]=le,de=W;else break e}}return L}function a(Y,L){var le=Y.sortIndex-L.sortIndex;return le!==0?le:Y.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],l=[],u=1,f=null,d=3,h=!1,v=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(Y){for(var L=r(l);L!==null;){if(L.callback===null)n(l);else if(L.startTime<=Y)n(l),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(l)}}function _(Y){if(p=!1,m(Y),!v)if(r(c)!==null)v=!0,J(S);else{var L=r(l);L!==null&&se(_,L.startTime-Y)}}function S(Y,L){v=!1,p&&(p=!1,y(b),b=-1),h=!0;var le=d;try{for(m(L),f=r(c);f!==null&&(!(f.expirationTime>L)||Y&&!U());){var de=f.callback;if(typeof de=="function"){f.callback=null,d=f.priorityLevel;var N=de(f.expirationTime<=L);L=e.unstable_now(),typeof N=="function"?f.callback=N:f===r(c)&&n(c),m(L)}else n(c);f=r(c)}if(f!==null)var G=!0;else{var V=r(l);V!==null&&se(_,V.startTime-L),G=!1}return G}finally{f=null,d=le,h=!1}}var A=!1,C=null,b=-1,T=5,O=-1;function U(){return!(e.unstable_now()-O<T)}function R(){if(C!==null){var Y=e.unstable_now();O=Y;var L=!0;try{L=C(!0,Y)}finally{L?H():(A=!1,C=null)}}else A=!1}var H;if(typeof w=="function")H=function(){w(R)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Q=K.port2;K.port1.onmessage=R,H=function(){Q.postMessage(null)}}else H=function(){x(R,0)};function J(Y){C=Y,A||(A=!0,H())}function se(Y,L){b=x(function(){Y(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,J(S))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(Y){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var le=d;d=L;try{return Y()}finally{d=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,L){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var le=d;d=Y;try{return L()}finally{d=le}},e.unstable_scheduleCallback=function(Y,L,le){var de=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?de+le:de):le=de,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=le+N,Y={id:u++,callback:L,priorityLevel:Y,startTime:le,expirationTime:N,sortIndex:-1},le>de?(Y.sortIndex=le,t(l,Y),r(c)===null&&Y===r(l)&&(p?(y(b),b=-1):p=!0,se(_,le-de))):(Y.sortIndex=N,t(c,Y),v||h||(v=!0,J(S))),Y},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(Y){var L=d;return function(){var le=d;d=L;try{return Y.apply(this,arguments)}finally{d=le}}}})(DE);PE.exports=DE;var mk=PE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yk=E,Un=mk;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FE=new Set,Cu={};function Oo(e,t){Vc(e,t),Vc(e+"Capture",t)}function Vc(e,t){for(Cu[e]=t,e=0;e<t.length;e++)FE.add(t[e])}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_p=Object.prototype.hasOwnProperty,wk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zm={},Qm={};function _k(e){return _p.call(Qm,e)?!0:_p.call(Zm,e)?!1:wk.test(e)?Qm[e]=!0:(Zm[e]=!0,!1)}function Ek(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ck(e,t,r,n){if(t===null||typeof t>"u"||Ek(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vn(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fr[e]=new vn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fr[t]=new vn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fr[e]=new vn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fr[e]=new vn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fr[e]=new vn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fr[e]=new vn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fr[e]=new vn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fr[e]=new vn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fr[e]=new vn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rg=/[\-:]([a-z])/g;function Pg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rg,Pg);Fr[t]=new vn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rg,Pg);Fr[t]=new vn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rg,Pg);Fr[t]=new vn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fr[e]=new vn(e,1,!1,e.toLowerCase(),null,!1,!1)});Fr.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fr[e]=new vn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dg(e,t,r,n){var a=Fr.hasOwnProperty(t)?Fr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ck(t,r,a,n)&&(r=null),n||a===null?_k(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Di=yk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vf=Symbol.for("react.element"),sc=Symbol.for("react.portal"),oc=Symbol.for("react.fragment"),Fg=Symbol.for("react.strict_mode"),Ep=Symbol.for("react.profiler"),ME=Symbol.for("react.provider"),LE=Symbol.for("react.context"),Mg=Symbol.for("react.forward_ref"),Cp=Symbol.for("react.suspense"),Sp=Symbol.for("react.suspense_list"),Lg=Symbol.for("react.memo"),Yi=Symbol.for("react.lazy"),BE=Symbol.for("react.offscreen"),Jm=Symbol.iterator;function bl(e){return e===null||typeof e!="object"?null:(e=Jm&&e[Jm]||e["@@iterator"],typeof e=="function"?e:null)}var Ft=Object.assign,i1;function Ul(e){if(i1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);i1=t&&t[1]||""}return`
`+i1+e}var s1=!1;function o1(e,t){if(!e||s1)return"";s1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var a=l.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{s1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ul(e):""}function Sk(e){switch(e.tag){case 5:return Ul(e.type);case 16:return Ul("Lazy");case 13:return Ul("Suspense");case 19:return Ul("SuspenseList");case 0:case 2:case 15:return e=o1(e.type,!1),e;case 11:return e=o1(e.type.render,!1),e;case 1:return e=o1(e.type,!0),e;default:return""}}function Ap(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oc:return"Fragment";case sc:return"Portal";case Ep:return"Profiler";case Fg:return"StrictMode";case Cp:return"Suspense";case Sp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case LE:return(e.displayName||"Context")+".Consumer";case ME:return(e._context.displayName||"Context")+".Provider";case Mg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lg:return t=e.displayName||null,t!==null?t:Ap(e.type)||"Memo";case Yi:t=e._payload,e=e._init;try{return Ap(e(t))}catch{}}return null}function Ak(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ap(t);case 8:return t===Fg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bk(e){var t=jE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zf(e){e._valueTracker||(e._valueTracker=bk(e))}function UE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=jE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function J0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bp(e,t){var r=t.checked;return Ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function e2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=bs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $E(e,t){t=t.checked,t!=null&&Dg(e,"checked",t,!1)}function Tp(e,t){$E(e,t);var r=bs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kp(e,t.type,r):t.hasOwnProperty("defaultValue")&&kp(e,t.type,bs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function t2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function kp(e,t,r){(t!=="number"||J0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $l=Array.isArray;function _c(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+bs(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ip(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return Ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function r2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(pe(92));if($l(r)){if(1<r.length)throw Error(pe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:bs(r)}}function HE(e,t){var r=bs(t.value),n=bs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function n2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function VE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Np(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?VE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wf,zE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wf=Wf||document.createElement("div"),Wf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Su(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tk=["Webkit","ms","Moz","O"];Object.keys(eu).forEach(function(e){Tk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),eu[t]=eu[e]})});function WE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||eu.hasOwnProperty(e)&&eu[e]?(""+t).trim():t+"px"}function GE(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=WE(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var kk=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Op(e,t){if(t){if(kk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function Rp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pp=null;function Bg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dp=null,Ec=null,Cc=null;function a2(e){if(e=lf(e)){if(typeof Dp!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=Qd(t),Dp(e.stateNode,e.type,t))}}function XE(e){Ec?Cc?Cc.push(e):Cc=[e]:Ec=e}function KE(){if(Ec){var e=Ec,t=Cc;if(Cc=Ec=null,a2(e),t)for(e=0;e<t.length;e++)a2(t[e])}}function YE(e,t){return e(t)}function qE(){}var c1=!1;function ZE(e,t,r){if(c1)return e(t,r);c1=!0;try{return YE(e,t,r)}finally{c1=!1,(Ec!==null||Cc!==null)&&(qE(),KE())}}function Au(e,t){var r=e.stateNode;if(r===null)return null;var n=Qd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(pe(231,t,typeof r));return r}var Fp=!1;if(Ti)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){Fp=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Fp=!1}function Ik(e,t,r,n,a,i,s,o,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(u){this.onError(u)}}var tu=!1,ed=null,td=!1,Mp=null,Nk={onError:function(e){tu=!0,ed=e}};function Ok(e,t,r,n,a,i,s,o,c){tu=!1,ed=null,Ik.apply(Nk,arguments)}function Rk(e,t,r,n,a,i,s,o,c){if(Ok.apply(this,arguments),tu){if(tu){var l=ed;tu=!1,ed=null}else throw Error(pe(198));td||(td=!0,Mp=l)}}function Ro(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function QE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function i2(e){if(Ro(e)!==e)throw Error(pe(188))}function Pk(e){var t=e.alternate;if(!t){if(t=Ro(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return i2(a),e;if(i===n)return i2(a),t;i=i.sibling}throw Error(pe(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?e:t}function JE(e){return e=Pk(e),e!==null?e3(e):null}function e3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=e3(e);if(t!==null)return t;e=e.sibling}return null}var t3=Un.unstable_scheduleCallback,s2=Un.unstable_cancelCallback,Dk=Un.unstable_shouldYield,Fk=Un.unstable_requestPaint,Vt=Un.unstable_now,Mk=Un.unstable_getCurrentPriorityLevel,jg=Un.unstable_ImmediatePriority,r3=Un.unstable_UserBlockingPriority,rd=Un.unstable_NormalPriority,Lk=Un.unstable_LowPriority,n3=Un.unstable_IdlePriority,Kd=null,Za=null;function Bk(e){if(Za&&typeof Za.onCommitFiberRoot=="function")try{Za.onCommitFiberRoot(Kd,e,void 0,(e.current.flags&128)===128)}catch{}}var ka=Math.clz32?Math.clz32:$k,jk=Math.log,Uk=Math.LN2;function $k(e){return e>>>=0,e===0?32:31-(jk(e)/Uk|0)|0}var Gf=64,Xf=4194304;function Hl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=Hl(o):(i&=s,i!==0&&(n=Hl(i)))}else s=r&~a,s!==0?n=Hl(s):i!==0&&(n=Hl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ka(t),a=1<<r,n|=e[r],t&=~a;return n}function Hk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vk(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-ka(i),o=1<<s,c=a[s];c===-1?(!(o&r)||o&n)&&(a[s]=Hk(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Lp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function a3(){var e=Gf;return Gf<<=1,!(Gf&4194240)&&(Gf=64),e}function l1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function of(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ka(t),e[t]=r}function zk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ka(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Ug(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ka(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var dt=0;function i3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var s3,$g,o3,c3,l3,Bp=!1,Kf=[],hs=null,ps=null,vs=null,bu=new Map,Tu=new Map,Qi=[],Wk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function o2(e,t){switch(e){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":bu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(t.pointerId)}}function kl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=lf(t),t!==null&&$g(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Gk(e,t,r,n,a){switch(t){case"focusin":return hs=kl(hs,e,t,r,n,a),!0;case"dragenter":return ps=kl(ps,e,t,r,n,a),!0;case"mouseover":return vs=kl(vs,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return bu.set(i,kl(bu.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Tu.set(i,kl(Tu.get(i)||null,e,t,r,n,a)),!0}return!1}function u3(e){var t=Js(e.target);if(t!==null){var r=Ro(t);if(r!==null){if(t=r.tag,t===13){if(t=QE(r),t!==null){e.blockedOn=t,l3(e.priority,function(){o3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function F0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Pp=n,r.target.dispatchEvent(n),Pp=null}else return t=lf(r),t!==null&&$g(t),e.blockedOn=r,!1;t.shift()}return!0}function c2(e,t,r){F0(e)&&r.delete(t)}function Xk(){Bp=!1,hs!==null&&F0(hs)&&(hs=null),ps!==null&&F0(ps)&&(ps=null),vs!==null&&F0(vs)&&(vs=null),bu.forEach(c2),Tu.forEach(c2)}function Il(e,t){e.blockedOn===t&&(e.blockedOn=null,Bp||(Bp=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,Xk)))}function ku(e){function t(a){return Il(a,e)}if(0<Kf.length){Il(Kf[0],e);for(var r=1;r<Kf.length;r++){var n=Kf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(hs!==null&&Il(hs,e),ps!==null&&Il(ps,e),vs!==null&&Il(vs,e),bu.forEach(t),Tu.forEach(t),r=0;r<Qi.length;r++)n=Qi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Qi.length&&(r=Qi[0],r.blockedOn===null);)u3(r),r.blockedOn===null&&Qi.shift()}var Sc=Di.ReactCurrentBatchConfig,ad=!0;function Kk(e,t,r,n){var a=dt,i=Sc.transition;Sc.transition=null;try{dt=1,Hg(e,t,r,n)}finally{dt=a,Sc.transition=i}}function Yk(e,t,r,n){var a=dt,i=Sc.transition;Sc.transition=null;try{dt=4,Hg(e,t,r,n)}finally{dt=a,Sc.transition=i}}function Hg(e,t,r,n){if(ad){var a=jp(e,t,r,n);if(a===null)y1(e,t,n,id,r),o2(e,n);else if(Gk(a,e,t,r,n))n.stopPropagation();else if(o2(e,n),t&4&&-1<Wk.indexOf(e)){for(;a!==null;){var i=lf(a);if(i!==null&&s3(i),i=jp(e,t,r,n),i===null&&y1(e,t,n,id,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else y1(e,t,n,null,r)}}var id=null;function jp(e,t,r,n){if(id=null,e=Bg(n),e=Js(e),e!==null)if(t=Ro(e),t===null)e=null;else if(r=t.tag,r===13){if(e=QE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return id=e,null}function f3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mk()){case jg:return 1;case r3:return 4;case rd:case Lk:return 16;case n3:return 536870912;default:return 16}default:return 16}}var cs=null,Vg=null,M0=null;function d3(){if(M0)return M0;var e,t=Vg,r=t.length,n,a="value"in cs?cs.value:cs.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return M0=a.slice(e,1<n?1-n:void 0)}function L0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yf(){return!0}function l2(){return!1}function Vn(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yf:l2,this.isPropagationStopped=l2,this}return Ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yf)},persist:function(){},isPersistent:Yf}),t}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zg=Vn(sl),cf=Ft({},sl,{view:0,detail:0}),qk=Vn(cf),u1,f1,Nl,Yd=Ft({},cf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nl&&(Nl&&e.type==="mousemove"?(u1=e.screenX-Nl.screenX,f1=e.screenY-Nl.screenY):f1=u1=0,Nl=e),u1)},movementY:function(e){return"movementY"in e?e.movementY:f1}}),u2=Vn(Yd),Zk=Ft({},Yd,{dataTransfer:0}),Qk=Vn(Zk),Jk=Ft({},cf,{relatedTarget:0}),d1=Vn(Jk),e6=Ft({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),t6=Vn(e6),r6=Ft({},sl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),n6=Vn(r6),a6=Ft({},sl,{data:0}),f2=Vn(a6),i6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=o6[e])?!!t[e]:!1}function Wg(){return c6}var l6=Ft({},cf,{key:function(e){if(e.key){var t=i6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=L0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wg,charCode:function(e){return e.type==="keypress"?L0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?L0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),u6=Vn(l6),f6=Ft({},Yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d2=Vn(f6),d6=Ft({},cf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wg}),h6=Vn(d6),p6=Ft({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),v6=Vn(p6),g6=Ft({},Yd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x6=Vn(g6),m6=[9,13,27,32],Gg=Ti&&"CompositionEvent"in window,ru=null;Ti&&"documentMode"in document&&(ru=document.documentMode);var y6=Ti&&"TextEvent"in window&&!ru,h3=Ti&&(!Gg||ru&&8<ru&&11>=ru),h2=" ",p2=!1;function p3(e,t){switch(e){case"keyup":return m6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cc=!1;function w6(e,t){switch(e){case"compositionend":return v3(t);case"keypress":return t.which!==32?null:(p2=!0,h2);case"textInput":return e=t.data,e===h2&&p2?null:e;default:return null}}function _6(e,t){if(cc)return e==="compositionend"||!Gg&&p3(e,t)?(e=d3(),M0=Vg=cs=null,cc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return h3&&t.locale!=="ko"?null:t.data;default:return null}}var E6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E6[e.type]:t==="textarea"}function g3(e,t,r,n){XE(n),t=sd(t,"onChange"),0<t.length&&(r=new zg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var nu=null,Iu=null;function C6(e){T3(e,0)}function qd(e){var t=fc(e);if(UE(t))return e}function S6(e,t){if(e==="change")return t}var x3=!1;if(Ti){var h1;if(Ti){var p1="oninput"in document;if(!p1){var g2=document.createElement("div");g2.setAttribute("oninput","return;"),p1=typeof g2.oninput=="function"}h1=p1}else h1=!1;x3=h1&&(!document.documentMode||9<document.documentMode)}function x2(){nu&&(nu.detachEvent("onpropertychange",m3),Iu=nu=null)}function m3(e){if(e.propertyName==="value"&&qd(Iu)){var t=[];g3(t,Iu,e,Bg(e)),ZE(C6,t)}}function A6(e,t,r){e==="focusin"?(x2(),nu=t,Iu=r,nu.attachEvent("onpropertychange",m3)):e==="focusout"&&x2()}function b6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qd(Iu)}function T6(e,t){if(e==="click")return qd(t)}function k6(e,t){if(e==="input"||e==="change")return qd(t)}function I6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pa=typeof Object.is=="function"?Object.is:I6;function Nu(e,t){if(Pa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!_p.call(t,a)||!Pa(e[a],t[a]))return!1}return!0}function m2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y2(e,t){var r=m2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=m2(r)}}function y3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?y3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function w3(){for(var e=window,t=J0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=J0(e.document)}return t}function Xg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function N6(e){var t=w3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&y3(r.ownerDocument.documentElement,r)){if(n!==null&&Xg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=y2(r,i);var s=y2(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var O6=Ti&&"documentMode"in document&&11>=document.documentMode,lc=null,Up=null,au=null,$p=!1;function w2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$p||lc==null||lc!==J0(n)||(n=lc,"selectionStart"in n&&Xg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),au&&Nu(au,n)||(au=n,n=sd(Up,"onSelect"),0<n.length&&(t=new zg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=lc)))}function qf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var uc={animationend:qf("Animation","AnimationEnd"),animationiteration:qf("Animation","AnimationIteration"),animationstart:qf("Animation","AnimationStart"),transitionend:qf("Transition","TransitionEnd")},v1={},_3={};Ti&&(_3=document.createElement("div").style,"AnimationEvent"in window||(delete uc.animationend.animation,delete uc.animationiteration.animation,delete uc.animationstart.animation),"TransitionEvent"in window||delete uc.transitionend.transition);function Zd(e){if(v1[e])return v1[e];if(!uc[e])return e;var t=uc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _3)return v1[e]=t[r];return e}var E3=Zd("animationend"),C3=Zd("animationiteration"),S3=Zd("animationstart"),A3=Zd("transitionend"),b3=new Map,_2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(e,t){b3.set(e,t),Oo(t,[e])}for(var g1=0;g1<_2.length;g1++){var x1=_2[g1],R6=x1.toLowerCase(),P6=x1[0].toUpperCase()+x1.slice(1);Rs(R6,"on"+P6)}Rs(E3,"onAnimationEnd");Rs(C3,"onAnimationIteration");Rs(S3,"onAnimationStart");Rs("dblclick","onDoubleClick");Rs("focusin","onFocus");Rs("focusout","onBlur");Rs(A3,"onTransitionEnd");Vc("onMouseEnter",["mouseout","mouseover"]);Vc("onMouseLeave",["mouseout","mouseover"]);Vc("onPointerEnter",["pointerout","pointerover"]);Vc("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vl));function E2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Rk(n,t,void 0,e),e.currentTarget=null}function T3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;E2(a,o,l),i=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,l=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;E2(a,o,l),i=c}}}if(td)throw e=Mp,td=!1,Mp=null,e}function St(e,t){var r=t[Gp];r===void 0&&(r=t[Gp]=new Set);var n=e+"__bubble";r.has(n)||(k3(t,e,2,!1),r.add(n))}function m1(e,t,r){var n=0;t&&(n|=4),k3(r,e,n,t)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function Ou(e){if(!e[Zf]){e[Zf]=!0,FE.forEach(function(r){r!=="selectionchange"&&(D6.has(r)||m1(r,!1,e),m1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zf]||(t[Zf]=!0,m1("selectionchange",!1,t))}}function k3(e,t,r,n){switch(f3(t)){case 1:var a=Kk;break;case 4:a=Yk;break;default:a=Hg}r=a.bind(null,t,r,e),a=void 0,!Fp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function y1(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Js(o),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}o=o.parentNode}}n=n.return}ZE(function(){var l=i,u=Bg(r),f=[];e:{var d=b3.get(e);if(d!==void 0){var h=zg,v=e;switch(e){case"keypress":if(L0(r)===0)break e;case"keydown":case"keyup":h=u6;break;case"focusin":v="focus",h=d1;break;case"focusout":v="blur",h=d1;break;case"beforeblur":case"afterblur":h=d1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=u2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Qk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=h6;break;case E3:case C3:case S3:h=t6;break;case A3:h=v6;break;case"scroll":h=qk;break;case"wheel":h=x6;break;case"copy":case"cut":case"paste":h=n6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=d2}var p=(t&4)!==0,x=!p&&e==="scroll",y=p?d!==null?d+"Capture":null:d;p=[];for(var w=l,m;w!==null;){m=w;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,y!==null&&(_=Au(w,y),_!=null&&p.push(Ru(w,_,m)))),x)break;w=w.return}0<p.length&&(d=new h(d,v,null,r,u),f.push({event:d,listeners:p}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&r!==Pp&&(v=r.relatedTarget||r.fromElement)&&(Js(v)||v[ki]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=l,v=v?Js(v):null,v!==null&&(x=Ro(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=l),h!==v)){if(p=u2,_="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(p=d2,_="onPointerLeave",y="onPointerEnter",w="pointer"),x=h==null?d:fc(h),m=v==null?d:fc(v),d=new p(_,w+"leave",h,r,u),d.target=x,d.relatedTarget=m,_=null,Js(u)===l&&(p=new p(y,w+"enter",v,r,u),p.target=m,p.relatedTarget=x,_=p),x=_,h&&v)t:{for(p=h,y=v,w=0,m=p;m;m=Wo(m))w++;for(m=0,_=y;_;_=Wo(_))m++;for(;0<w-m;)p=Wo(p),w--;for(;0<m-w;)y=Wo(y),m--;for(;w--;){if(p===y||y!==null&&p===y.alternate)break t;p=Wo(p),y=Wo(y)}p=null}else p=null;h!==null&&C2(f,d,h,p,!1),v!==null&&x!==null&&C2(f,x,v,p,!0)}}e:{if(d=l?fc(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=S6;else if(v2(d))if(x3)S=k6;else{S=b6;var A=A6}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=T6);if(S&&(S=S(e,l))){g3(f,S,r,u);break e}A&&A(e,d,l),e==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&kp(d,"number",d.value)}switch(A=l?fc(l):window,e){case"focusin":(v2(A)||A.contentEditable==="true")&&(lc=A,Up=l,au=null);break;case"focusout":au=Up=lc=null;break;case"mousedown":$p=!0;break;case"contextmenu":case"mouseup":case"dragend":$p=!1,w2(f,r,u);break;case"selectionchange":if(O6)break;case"keydown":case"keyup":w2(f,r,u)}var C;if(Gg)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else cc?p3(e,r)&&(b="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(h3&&r.locale!=="ko"&&(cc||b!=="onCompositionStart"?b==="onCompositionEnd"&&cc&&(C=d3()):(cs=u,Vg="value"in cs?cs.value:cs.textContent,cc=!0)),A=sd(l,b),0<A.length&&(b=new f2(b,e,null,r,u),f.push({event:b,listeners:A}),C?b.data=C:(C=v3(r),C!==null&&(b.data=C)))),(C=y6?w6(e,r):_6(e,r))&&(l=sd(l,"onBeforeInput"),0<l.length&&(u=new f2("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=C))}T3(f,t)})}function Ru(e,t,r){return{instance:e,listener:t,currentTarget:r}}function sd(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Au(e,r),i!=null&&n.unshift(Ru(e,i,a)),i=Au(e,t),i!=null&&n.push(Ru(e,i,a))),e=e.return}return n}function Wo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function C2(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,l=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&l!==null&&(o=l,a?(c=Au(r,i),c!=null&&s.unshift(Ru(r,c,o))):a||(c=Au(r,i),c!=null&&s.push(Ru(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var F6=/\r\n?/g,M6=/\u0000|\uFFFD/g;function S2(e){return(typeof e=="string"?e:""+e).replace(F6,`
`).replace(M6,"")}function Qf(e,t,r){if(t=S2(t),S2(e)!==t&&r)throw Error(pe(425))}function od(){}var Hp=null,Vp=null;function zp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wp=typeof setTimeout=="function"?setTimeout:void 0,L6=typeof clearTimeout=="function"?clearTimeout:void 0,A2=typeof Promise=="function"?Promise:void 0,B6=typeof queueMicrotask=="function"?queueMicrotask:typeof A2<"u"?function(e){return A2.resolve(null).then(e).catch(j6)}:Wp;function j6(e){setTimeout(function(){throw e})}function w1(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),ku(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ku(t)}function gs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function b2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ol=Math.random().toString(36).slice(2),Xa="__reactFiber$"+ol,Pu="__reactProps$"+ol,ki="__reactContainer$"+ol,Gp="__reactEvents$"+ol,U6="__reactListeners$"+ol,$6="__reactHandles$"+ol;function Js(e){var t=e[Xa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ki]||r[Xa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=b2(e);e!==null;){if(r=e[Xa])return r;e=b2(e)}return t}e=r,r=e.parentNode}return null}function lf(e){return e=e[Xa]||e[ki],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function Qd(e){return e[Pu]||null}var Xp=[],dc=-1;function Ps(e){return{current:e}}function Tt(e){0>dc||(e.current=Xp[dc],Xp[dc]=null,dc--)}function mt(e,t){dc++,Xp[dc]=e.current,e.current=t}var Ts={},Yr=Ps(Ts),An=Ps(!1),mo=Ts;function zc(e,t){var r=e.type.contextTypes;if(!r)return Ts;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bn(e){return e=e.childContextTypes,e!=null}function cd(){Tt(An),Tt(Yr)}function T2(e,t,r){if(Yr.current!==Ts)throw Error(pe(168));mt(Yr,t),mt(An,r)}function I3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(pe(108,Ak(e)||"Unknown",a));return Ft({},r,n)}function ld(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ts,mo=Yr.current,mt(Yr,e),mt(An,An.current),!0}function k2(e,t,r){var n=e.stateNode;if(!n)throw Error(pe(169));r?(e=I3(e,t,mo),n.__reactInternalMemoizedMergedChildContext=e,Tt(An),Tt(Yr),mt(Yr,e)):Tt(An),mt(An,r)}var yi=null,Jd=!1,_1=!1;function N3(e){yi===null?yi=[e]:yi.push(e)}function H6(e){Jd=!0,N3(e)}function Ds(){if(!_1&&yi!==null){_1=!0;var e=0,t=dt;try{var r=yi;for(dt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yi=null,Jd=!1}catch(a){throw yi!==null&&(yi=yi.slice(e+1)),t3(jg,Ds),a}finally{dt=t,_1=!1}}return null}var hc=[],pc=0,ud=null,fd=0,Yn=[],qn=0,yo=null,_i=1,Ei="";function Gs(e,t){hc[pc++]=fd,hc[pc++]=ud,ud=e,fd=t}function O3(e,t,r){Yn[qn++]=_i,Yn[qn++]=Ei,Yn[qn++]=yo,yo=e;var n=_i;e=Ei;var a=32-ka(n)-1;n&=~(1<<a),r+=1;var i=32-ka(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,_i=1<<32-ka(t)+a|r<<a|n,Ei=i+e}else _i=1<<i|r<<a|n,Ei=e}function Kg(e){e.return!==null&&(Gs(e,1),O3(e,1,0))}function Yg(e){for(;e===ud;)ud=hc[--pc],hc[pc]=null,fd=hc[--pc],hc[pc]=null;for(;e===yo;)yo=Yn[--qn],Yn[qn]=null,Ei=Yn[--qn],Yn[qn]=null,_i=Yn[--qn],Yn[qn]=null}var Ln=null,Mn=null,Nt=!1,Ea=null;function R3(e,t){var r=Jn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function I2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ln=e,Mn=gs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ln=e,Mn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yo!==null?{id:_i,overflow:Ei}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Jn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ln=e,Mn=null,!0):!1;default:return!1}}function Kp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yp(e){if(Nt){var t=Mn;if(t){var r=t;if(!I2(e,t)){if(Kp(e))throw Error(pe(418));t=gs(r.nextSibling);var n=Ln;t&&I2(e,t)?R3(n,r):(e.flags=e.flags&-4097|2,Nt=!1,Ln=e)}}else{if(Kp(e))throw Error(pe(418));e.flags=e.flags&-4097|2,Nt=!1,Ln=e}}}function N2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ln=e}function Jf(e){if(e!==Ln)return!1;if(!Nt)return N2(e),Nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zp(e.type,e.memoizedProps)),t&&(t=Mn)){if(Kp(e))throw P3(),Error(pe(418));for(;t;)R3(e,t),t=gs(t.nextSibling)}if(N2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mn=gs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mn=null}}else Mn=Ln?gs(e.stateNode.nextSibling):null;return!0}function P3(){for(var e=Mn;e;)e=gs(e.nextSibling)}function Wc(){Mn=Ln=null,Nt=!1}function qg(e){Ea===null?Ea=[e]:Ea.push(e)}var V6=Di.ReactCurrentBatchConfig;function Ol(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pe(309));var n=r.stateNode}if(!n)throw Error(pe(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(pe(284));if(!r._owner)throw Error(pe(290,e))}return e}function e0(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function O2(e){var t=e._init;return t(e._payload)}function D3(e){function t(y,w){if(e){var m=y.deletions;m===null?(y.deletions=[w],y.flags|=16):m.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function a(y,w){return y=ws(y,w),y.index=0,y.sibling=null,y}function i(y,w,m){return y.index=m,e?(m=y.alternate,m!==null?(m=m.index,m<w?(y.flags|=2,w):m):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,w,m,_){return w===null||w.tag!==6?(w=k1(m,y.mode,_),w.return=y,w):(w=a(w,m),w.return=y,w)}function c(y,w,m,_){var S=m.type;return S===oc?u(y,w,m.props.children,_,m.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Yi&&O2(S)===w.type)?(_=a(w,m.props),_.ref=Ol(y,w,m),_.return=y,_):(_=z0(m.type,m.key,m.props,null,y.mode,_),_.ref=Ol(y,w,m),_.return=y,_)}function l(y,w,m,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==m.containerInfo||w.stateNode.implementation!==m.implementation?(w=I1(m,y.mode,_),w.return=y,w):(w=a(w,m.children||[]),w.return=y,w)}function u(y,w,m,_,S){return w===null||w.tag!==7?(w=po(m,y.mode,_,S),w.return=y,w):(w=a(w,m),w.return=y,w)}function f(y,w,m){if(typeof w=="string"&&w!==""||typeof w=="number")return w=k1(""+w,y.mode,m),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vf:return m=z0(w.type,w.key,w.props,null,y.mode,m),m.ref=Ol(y,null,w),m.return=y,m;case sc:return w=I1(w,y.mode,m),w.return=y,w;case Yi:var _=w._init;return f(y,_(w._payload),m)}if($l(w)||bl(w))return w=po(w,y.mode,m,null),w.return=y,w;e0(y,w)}return null}function d(y,w,m,_){var S=w!==null?w.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:o(y,w,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Vf:return m.key===S?c(y,w,m,_):null;case sc:return m.key===S?l(y,w,m,_):null;case Yi:return S=m._init,d(y,w,S(m._payload),_)}if($l(m)||bl(m))return S!==null?null:u(y,w,m,_,null);e0(y,m)}return null}function h(y,w,m,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(m)||null,o(w,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vf:return y=y.get(_.key===null?m:_.key)||null,c(w,y,_,S);case sc:return y=y.get(_.key===null?m:_.key)||null,l(w,y,_,S);case Yi:var A=_._init;return h(y,w,m,A(_._payload),S)}if($l(_)||bl(_))return y=y.get(m)||null,u(w,y,_,S,null);e0(w,_)}return null}function v(y,w,m,_){for(var S=null,A=null,C=w,b=w=0,T=null;C!==null&&b<m.length;b++){C.index>b?(T=C,C=null):T=C.sibling;var O=d(y,C,m[b],_);if(O===null){C===null&&(C=T);break}e&&C&&O.alternate===null&&t(y,C),w=i(O,w,b),A===null?S=O:A.sibling=O,A=O,C=T}if(b===m.length)return r(y,C),Nt&&Gs(y,b),S;if(C===null){for(;b<m.length;b++)C=f(y,m[b],_),C!==null&&(w=i(C,w,b),A===null?S=C:A.sibling=C,A=C);return Nt&&Gs(y,b),S}for(C=n(y,C);b<m.length;b++)T=h(C,y,b,m[b],_),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?b:T.key),w=i(T,w,b),A===null?S=T:A.sibling=T,A=T);return e&&C.forEach(function(U){return t(y,U)}),Nt&&Gs(y,b),S}function p(y,w,m,_){var S=bl(m);if(typeof S!="function")throw Error(pe(150));if(m=S.call(m),m==null)throw Error(pe(151));for(var A=S=null,C=w,b=w=0,T=null,O=m.next();C!==null&&!O.done;b++,O=m.next()){C.index>b?(T=C,C=null):T=C.sibling;var U=d(y,C,O.value,_);if(U===null){C===null&&(C=T);break}e&&C&&U.alternate===null&&t(y,C),w=i(U,w,b),A===null?S=U:A.sibling=U,A=U,C=T}if(O.done)return r(y,C),Nt&&Gs(y,b),S;if(C===null){for(;!O.done;b++,O=m.next())O=f(y,O.value,_),O!==null&&(w=i(O,w,b),A===null?S=O:A.sibling=O,A=O);return Nt&&Gs(y,b),S}for(C=n(y,C);!O.done;b++,O=m.next())O=h(C,y,b,O.value,_),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?b:O.key),w=i(O,w,b),A===null?S=O:A.sibling=O,A=O);return e&&C.forEach(function(R){return t(y,R)}),Nt&&Gs(y,b),S}function x(y,w,m,_){if(typeof m=="object"&&m!==null&&m.type===oc&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Vf:e:{for(var S=m.key,A=w;A!==null;){if(A.key===S){if(S=m.type,S===oc){if(A.tag===7){r(y,A.sibling),w=a(A,m.props.children),w.return=y,y=w;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Yi&&O2(S)===A.type){r(y,A.sibling),w=a(A,m.props),w.ref=Ol(y,A,m),w.return=y,y=w;break e}r(y,A);break}else t(y,A);A=A.sibling}m.type===oc?(w=po(m.props.children,y.mode,_,m.key),w.return=y,y=w):(_=z0(m.type,m.key,m.props,null,y.mode,_),_.ref=Ol(y,w,m),_.return=y,y=_)}return s(y);case sc:e:{for(A=m.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===m.containerInfo&&w.stateNode.implementation===m.implementation){r(y,w.sibling),w=a(w,m.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=I1(m,y.mode,_),w.return=y,y=w}return s(y);case Yi:return A=m._init,x(y,w,A(m._payload),_)}if($l(m))return v(y,w,m,_);if(bl(m))return p(y,w,m,_);e0(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,w!==null&&w.tag===6?(r(y,w.sibling),w=a(w,m),w.return=y,y=w):(r(y,w),w=k1(m,y.mode,_),w.return=y,y=w),s(y)):r(y,w)}return x}var Gc=D3(!0),F3=D3(!1),dd=Ps(null),hd=null,vc=null,Zg=null;function Qg(){Zg=vc=hd=null}function Jg(e){var t=dd.current;Tt(dd),e._currentValue=t}function qp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ac(e,t){hd=e,Zg=vc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Sn=!0),e.firstContext=null)}function na(e){var t=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:t,next:null},vc===null){if(hd===null)throw Error(pe(308));vc=e,hd.dependencies={lanes:0,firstContext:e}}else vc=vc.next=e;return t}var eo=null;function ex(e){eo===null?eo=[e]:eo.push(e)}function M3(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,ex(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ii(e,n)}function Ii(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qi=!1;function tx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Si(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,et&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ii(e,r)}return a=n.interleaved,a===null?(t.next=t,ex(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ii(e,r)}function B0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ug(e,r)}}function R2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pd(e,t,r,n){var a=e.updateQueue;qi=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,l=c.next;c.next=null,s===null?i=l:s.next=l,s=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,u=l=c=null,o=i;do{var d=o.lane,h=o.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,p=o;switch(d=t,h=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(h,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,d=typeof v=="function"?v.call(h,f,d):v,d==null)break e;f=Ft({},f,d);break e;case 2:qi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=a.effects,d===null?a.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(l=u=h,c=f):u=u.next=h,s|=d;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;d=o,o=d.next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);_o|=s,e.lanes=s,e.memoizedState=f}}function P2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(pe(191,a));a.call(n)}}}var uf={},Qa=Ps(uf),Du=Ps(uf),Fu=Ps(uf);function to(e){if(e===uf)throw Error(pe(174));return e}function rx(e,t){switch(mt(Fu,t),mt(Du,e),mt(Qa,uf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Np(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Np(t,e)}Tt(Qa),mt(Qa,t)}function Xc(){Tt(Qa),Tt(Du),Tt(Fu)}function B3(e){to(Fu.current);var t=to(Qa.current),r=Np(t,e.type);t!==r&&(mt(Du,e),mt(Qa,r))}function nx(e){Du.current===e&&(Tt(Qa),Tt(Du))}var Pt=Ps(0);function vd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var E1=[];function ax(){for(var e=0;e<E1.length;e++)E1[e]._workInProgressVersionPrimary=null;E1.length=0}var j0=Di.ReactCurrentDispatcher,C1=Di.ReactCurrentBatchConfig,wo=0,Dt=null,nr=null,mr=null,gd=!1,iu=!1,Mu=0,z6=0;function jr(){throw Error(pe(321))}function ix(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Pa(e[r],t[r]))return!1;return!0}function sx(e,t,r,n,a,i){if(wo=i,Dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j0.current=e===null||e.memoizedState===null?K6:Y6,e=r(n,a),iu){i=0;do{if(iu=!1,Mu=0,25<=i)throw Error(pe(301));i+=1,mr=nr=null,t.updateQueue=null,j0.current=q6,e=r(n,a)}while(iu)}if(j0.current=xd,t=nr!==null&&nr.next!==null,wo=0,mr=nr=Dt=null,gd=!1,t)throw Error(pe(300));return e}function ox(){var e=Mu!==0;return Mu=0,e}function Va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Dt.memoizedState=mr=e:mr=mr.next=e,mr}function aa(){if(nr===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=nr.next;var t=mr===null?Dt.memoizedState:mr.next;if(t!==null)mr=t,nr=e;else{if(e===null)throw Error(pe(310));nr=e,e={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},mr===null?Dt.memoizedState=mr=e:mr=mr.next=e}return mr}function Lu(e,t){return typeof t=="function"?t(e):t}function S1(e){var t=aa(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=nr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,c=null,l=i;do{var u=l.lane;if((wo&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var f={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,Dt.lanes|=u,_o|=u}l=l.next}while(l!==null&&l!==i);c===null?s=n:c.next=o,Pa(n,t.memoizedState)||(Sn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Dt.lanes|=i,_o|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function A1(e){var t=aa(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Pa(i,t.memoizedState)||(Sn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function j3(){}function U3(e,t){var r=Dt,n=aa(),a=t(),i=!Pa(n.memoizedState,a);if(i&&(n.memoizedState=a,Sn=!0),n=n.queue,cx(V3.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||mr!==null&&mr.memoizedState.tag&1){if(r.flags|=2048,Bu(9,H3.bind(null,r,n,a,t),void 0,null),_r===null)throw Error(pe(349));wo&30||$3(r,t,a)}return a}function $3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Dt.updateQueue,t===null?(t={lastEffect:null,stores:null},Dt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function H3(e,t,r,n){t.value=r,t.getSnapshot=n,z3(t)&&W3(e)}function V3(e,t,r){return r(function(){z3(t)&&W3(e)})}function z3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pa(e,r)}catch{return!0}}function W3(e){var t=Ii(e,1);t!==null&&Ia(t,e,1,-1)}function D2(e){var t=Va();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:e},t.queue=e,e=e.dispatch=X6.bind(null,Dt,e),[t.memoizedState,e]}function Bu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Dt.updateQueue,t===null?(t={lastEffect:null,stores:null},Dt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function G3(){return aa().memoizedState}function U0(e,t,r,n){var a=Va();Dt.flags|=e,a.memoizedState=Bu(1|t,r,void 0,n===void 0?null:n)}function eh(e,t,r,n){var a=aa();n=n===void 0?null:n;var i=void 0;if(nr!==null){var s=nr.memoizedState;if(i=s.destroy,n!==null&&ix(n,s.deps)){a.memoizedState=Bu(t,r,i,n);return}}Dt.flags|=e,a.memoizedState=Bu(1|t,r,i,n)}function F2(e,t){return U0(8390656,8,e,t)}function cx(e,t){return eh(2048,8,e,t)}function X3(e,t){return eh(4,2,e,t)}function K3(e,t){return eh(4,4,e,t)}function Y3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function q3(e,t,r){return r=r!=null?r.concat([e]):null,eh(4,4,Y3.bind(null,t,e),r)}function lx(){}function Z3(e,t){var r=aa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ix(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Q3(e,t){var r=aa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ix(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function J3(e,t,r){return wo&21?(Pa(r,t)||(r=a3(),Dt.lanes|=r,_o|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Sn=!0),e.memoizedState=r)}function W6(e,t){var r=dt;dt=r!==0&&4>r?r:4,e(!0);var n=C1.transition;C1.transition={};try{e(!1),t()}finally{dt=r,C1.transition=n}}function e4(){return aa().memoizedState}function G6(e,t,r){var n=ys(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},t4(e))r4(t,r);else if(r=M3(e,t,r,n),r!==null){var a=fn();Ia(r,e,n,a),n4(r,t,n)}}function X6(e,t,r){var n=ys(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(t4(e))r4(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Pa(o,s)){var c=t.interleaved;c===null?(a.next=a,ex(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=M3(e,t,a,n),r!==null&&(a=fn(),Ia(r,e,n,a),n4(r,t,n))}}function t4(e){var t=e.alternate;return e===Dt||t!==null&&t===Dt}function r4(e,t){iu=gd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function n4(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ug(e,r)}}var xd={readContext:na,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},K6={readContext:na,useCallback:function(e,t){return Va().memoizedState=[e,t===void 0?null:t],e},useContext:na,useEffect:F2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,U0(4194308,4,Y3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return U0(4194308,4,e,t)},useInsertionEffect:function(e,t){return U0(4,2,e,t)},useMemo:function(e,t){var r=Va();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Va();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=G6.bind(null,Dt,e),[n.memoizedState,e]},useRef:function(e){var t=Va();return e={current:e},t.memoizedState=e},useState:D2,useDebugValue:lx,useDeferredValue:function(e){return Va().memoizedState=e},useTransition:function(){var e=D2(!1),t=e[0];return e=W6.bind(null,e[1]),Va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Dt,a=Va();if(Nt){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=t(),_r===null)throw Error(pe(349));wo&30||$3(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,F2(V3.bind(null,n,i,e),[e]),n.flags|=2048,Bu(9,H3.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Va(),t=_r.identifierPrefix;if(Nt){var r=Ei,n=_i;r=(n&~(1<<32-ka(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Mu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=z6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Y6={readContext:na,useCallback:Z3,useContext:na,useEffect:cx,useImperativeHandle:q3,useInsertionEffect:X3,useLayoutEffect:K3,useMemo:Q3,useReducer:S1,useRef:G3,useState:function(){return S1(Lu)},useDebugValue:lx,useDeferredValue:function(e){var t=aa();return J3(t,nr.memoizedState,e)},useTransition:function(){var e=S1(Lu)[0],t=aa().memoizedState;return[e,t]},useMutableSource:j3,useSyncExternalStore:U3,useId:e4,unstable_isNewReconciler:!1},q6={readContext:na,useCallback:Z3,useContext:na,useEffect:cx,useImperativeHandle:q3,useInsertionEffect:X3,useLayoutEffect:K3,useMemo:Q3,useReducer:A1,useRef:G3,useState:function(){return A1(Lu)},useDebugValue:lx,useDeferredValue:function(e){var t=aa();return nr===null?t.memoizedState=e:J3(t,nr.memoizedState,e)},useTransition:function(){var e=A1(Lu)[0],t=aa().memoizedState;return[e,t]},useMutableSource:j3,useSyncExternalStore:U3,useId:e4,unstable_isNewReconciler:!1};function ga(e,t){if(e&&e.defaultProps){t=Ft({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Zp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ft({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var th={isMounted:function(e){return(e=e._reactInternals)?Ro(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fn(),a=ys(e),i=Si(n,a);i.payload=t,r!=null&&(i.callback=r),t=xs(e,i,a),t!==null&&(Ia(t,e,a,n),B0(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fn(),a=ys(e),i=Si(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=xs(e,i,a),t!==null&&(Ia(t,e,a,n),B0(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fn(),n=ys(e),a=Si(r,n);a.tag=2,t!=null&&(a.callback=t),t=xs(e,a,n),t!==null&&(Ia(t,e,n,r),B0(t,e,n))}};function M2(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Nu(r,n)||!Nu(a,i):!0}function a4(e,t,r){var n=!1,a=Ts,i=t.contextType;return typeof i=="object"&&i!==null?i=na(i):(a=bn(t)?mo:Yr.current,n=t.contextTypes,i=(n=n!=null)?zc(e,a):Ts),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=th,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function L2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&th.enqueueReplaceState(t,t.state,null)}function Qp(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},tx(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=na(i):(i=bn(t)?mo:Yr.current,a.context=zc(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Zp(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&th.enqueueReplaceState(a,a.state,null),pd(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Kc(e,t){try{var r="",n=t;do r+=Sk(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function b1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Jp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Z6=typeof WeakMap=="function"?WeakMap:Map;function i4(e,t,r){r=Si(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yd||(yd=!0,lv=n),Jp(e,t)},r}function s4(e,t,r){r=Si(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Jp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Jp(e,t),typeof n!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function B2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Z6;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=fI.bind(null,e,t,r),t.then(e,e))}function j2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function U2(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Si(-1,1),t.tag=2,xs(r,t,1))),r.lanes|=1),e)}var Q6=Di.ReactCurrentOwner,Sn=!1;function an(e,t,r,n){t.child=e===null?F3(t,null,r,n):Gc(t,e.child,r,n)}function $2(e,t,r,n,a){r=r.render;var i=t.ref;return Ac(t,a),n=sx(e,t,r,n,i,a),r=ox(),e!==null&&!Sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ni(e,t,a)):(Nt&&r&&Kg(t),t.flags|=1,an(e,t,n,a),t.child)}function H2(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!xx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,o4(e,t,i,n,a)):(e=z0(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Nu,r(s,n)&&e.ref===t.ref)return Ni(e,t,a)}return t.flags|=1,e=ws(i,n),e.ref=t.ref,e.return=t,t.child=e}function o4(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Nu(i,n)&&e.ref===t.ref)if(Sn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Sn=!0);else return t.lanes=e.lanes,Ni(e,t,a)}return ev(e,t,r,n,a)}function c4(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(xc,Rn),Rn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mt(xc,Rn),Rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,mt(xc,Rn),Rn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,mt(xc,Rn),Rn|=n;return an(e,t,a,r),t.child}function l4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ev(e,t,r,n,a){var i=bn(r)?mo:Yr.current;return i=zc(t,i),Ac(t,a),r=sx(e,t,r,n,i,a),n=ox(),e!==null&&!Sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ni(e,t,a)):(Nt&&n&&Kg(t),t.flags|=1,an(e,t,r,a),t.child)}function V2(e,t,r,n,a){if(bn(r)){var i=!0;ld(t)}else i=!1;if(Ac(t,a),t.stateNode===null)$0(e,t),a4(t,r,n),Qp(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,l=r.contextType;typeof l=="object"&&l!==null?l=na(l):(l=bn(r)?mo:Yr.current,l=zc(t,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==l)&&L2(t,s,n,l),qi=!1;var d=t.memoizedState;s.state=d,pd(t,n,s,a),c=t.memoizedState,o!==n||d!==c||An.current||qi?(typeof u=="function"&&(Zp(t,r,u,n),c=t.memoizedState),(o=qi||M2(t,r,o,n,d,c,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=l,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,L3(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:ga(t.type,o),s.props=l,f=t.pendingProps,d=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=na(c):(c=bn(r)?mo:Yr.current,c=zc(t,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==c)&&L2(t,s,n,c),qi=!1,d=t.memoizedState,s.state=d,pd(t,n,s,a);var v=t.memoizedState;o!==f||d!==v||An.current||qi?(typeof h=="function"&&(Zp(t,r,h,n),v=t.memoizedState),(l=qi||M2(t,r,l,n,d,v,c)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),s.props=n,s.state=v,s.context=c,n=l):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return tv(e,t,r,n,i,a)}function tv(e,t,r,n,a,i){l4(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&k2(t,r,!1),Ni(e,t,i);n=t.stateNode,Q6.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Gc(t,e.child,null,i),t.child=Gc(t,null,o,i)):an(e,t,o,i),t.memoizedState=n.state,a&&k2(t,r,!0),t.child}function u4(e){var t=e.stateNode;t.pendingContext?T2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&T2(e,t.context,!1),rx(e,t.containerInfo)}function z2(e,t,r,n,a){return Wc(),qg(a),t.flags|=256,an(e,t,r,n),t.child}var rv={dehydrated:null,treeContext:null,retryLane:0};function nv(e){return{baseLanes:e,cachePool:null,transitions:null}}function f4(e,t,r){var n=t.pendingProps,a=Pt.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),mt(Pt,a&1),e===null)return Yp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=ah(s,n,0,null),e=po(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=nv(r),t.memoizedState=rv,e):ux(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return J6(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ws(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=ws(o,i):(i=po(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?nv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=rv,n}return i=e.child,e=i.sibling,n=ws(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ux(e,t){return t=ah({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function t0(e,t,r,n){return n!==null&&qg(n),Gc(t,e.child,null,r),e=ux(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function J6(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=b1(Error(pe(422))),t0(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=ah({mode:"visible",children:n.children},a,0,null),i=po(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Gc(t,e.child,null,s),t.child.memoizedState=nv(s),t.memoizedState=rv,i);if(!(t.mode&1))return t0(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(pe(419)),n=b1(i,n,void 0),t0(e,t,s,n)}if(o=(s&e.childLanes)!==0,Sn||o){if(n=_r,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ii(e,a),Ia(n,e,a,-1))}return gx(),n=b1(Error(pe(421))),t0(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=dI.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Mn=gs(a.nextSibling),Ln=t,Nt=!0,Ea=null,e!==null&&(Yn[qn++]=_i,Yn[qn++]=Ei,Yn[qn++]=yo,_i=e.id,Ei=e.overflow,yo=t),t=ux(t,n.children),t.flags|=4096,t)}function W2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),qp(e.return,t,r)}function T1(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function d4(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(an(e,t,n.children,r),n=Pt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&W2(e,r,t);else if(e.tag===19)W2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(mt(Pt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&vd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),T1(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&vd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}T1(t,!0,r,null,i);break;case"together":T1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ni(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_o|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,r=ws(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ws(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function eI(e,t,r){switch(t.tag){case 3:u4(t),Wc();break;case 5:B3(t);break;case 1:bn(t.type)&&ld(t);break;case 4:rx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;mt(dd,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(mt(Pt,Pt.current&1),t.flags|=128,null):r&t.child.childLanes?f4(e,t,r):(mt(Pt,Pt.current&1),e=Ni(e,t,r),e!==null?e.sibling:null);mt(Pt,Pt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return d4(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),mt(Pt,Pt.current),n)break;return null;case 22:case 23:return t.lanes=0,c4(e,t,r)}return Ni(e,t,r)}var h4,av,p4,v4;h4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};av=function(){};p4=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,to(Qa.current);var i=null;switch(r){case"input":a=bp(e,a),n=bp(e,n),i=[];break;case"select":a=Ft({},a,{value:void 0}),n=Ft({},n,{value:void 0}),i=[];break;case"textarea":a=Ip(e,a),n=Ip(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=od)}Op(r,n);var s;r=null;for(l in a)if(!n.hasOwnProperty(l)&&a.hasOwnProperty(l)&&a[l]!=null)if(l==="style"){var o=a[l];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Cu.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var c=n[l];if(o=a!=null?a[l]:void 0,n.hasOwnProperty(l)&&c!==o&&(c!=null||o!=null))if(l==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Cu.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&St("scroll",e),i||o===c||(i=[])):(i=i||[]).push(l,c))}r&&(i=i||[]).push("style",r);var l=i;(t.updateQueue=l)&&(t.flags|=4)}};v4=function(e,t,r,n){r!==n&&(t.flags|=4)};function Rl(e,t){if(!Nt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ur(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function tI(e,t,r){var n=t.pendingProps;switch(Yg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(t),null;case 1:return bn(t.type)&&cd(),Ur(t),null;case 3:return n=t.stateNode,Xc(),Tt(An),Tt(Yr),ax(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ea!==null&&(dv(Ea),Ea=null))),av(e,t),Ur(t),null;case 5:nx(t);var a=to(Fu.current);if(r=t.type,e!==null&&t.stateNode!=null)p4(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(pe(166));return Ur(t),null}if(e=to(Qa.current),Jf(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Xa]=t,n[Pu]=i,e=(t.mode&1)!==0,r){case"dialog":St("cancel",n),St("close",n);break;case"iframe":case"object":case"embed":St("load",n);break;case"video":case"audio":for(a=0;a<Vl.length;a++)St(Vl[a],n);break;case"source":St("error",n);break;case"img":case"image":case"link":St("error",n),St("load",n);break;case"details":St("toggle",n);break;case"input":e2(n,i),St("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},St("invalid",n);break;case"textarea":r2(n,i),St("invalid",n)}Op(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Qf(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Qf(n.textContent,o,e),a=["children",""+o]):Cu.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&St("scroll",n)}switch(r){case"input":zf(n),t2(n,i,!0);break;case"textarea":zf(n),n2(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=od)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=VE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Xa]=t,e[Pu]=n,h4(e,t,!1,!1),t.stateNode=e;e:{switch(s=Rp(r,n),r){case"dialog":St("cancel",e),St("close",e),a=n;break;case"iframe":case"object":case"embed":St("load",e),a=n;break;case"video":case"audio":for(a=0;a<Vl.length;a++)St(Vl[a],e);a=n;break;case"source":St("error",e),a=n;break;case"img":case"image":case"link":St("error",e),St("load",e),a=n;break;case"details":St("toggle",e),a=n;break;case"input":e2(e,n),a=bp(e,n),St("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ft({},n,{value:void 0}),St("invalid",e);break;case"textarea":r2(e,n),a=Ip(e,n),St("invalid",e);break;default:a=n}Op(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?GE(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zE(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Su(e,c):typeof c=="number"&&Su(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&St("scroll",e):c!=null&&Dg(e,i,c,s))}switch(r){case"input":zf(e),t2(e,n,!1);break;case"textarea":zf(e),n2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+bs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?_c(e,!!n.multiple,i,!1):n.defaultValue!=null&&_c(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=od)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ur(t),null;case 6:if(e&&t.stateNode!=null)v4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(pe(166));if(r=to(Fu.current),to(Qa.current),Jf(t)){if(n=t.stateNode,r=t.memoizedProps,n[Xa]=t,(i=n.nodeValue!==r)&&(e=Ln,e!==null))switch(e.tag){case 3:Qf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qf(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xa]=t,t.stateNode=n}return Ur(t),null;case 13:if(Tt(Pt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Nt&&Mn!==null&&t.mode&1&&!(t.flags&128))P3(),Wc(),t.flags|=98560,i=!1;else if(i=Jf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(pe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pe(317));i[Xa]=t}else Wc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ur(t),i=!1}else Ea!==null&&(dv(Ea),Ea=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pt.current&1?cr===0&&(cr=3):gx())),t.updateQueue!==null&&(t.flags|=4),Ur(t),null);case 4:return Xc(),av(e,t),e===null&&Ou(t.stateNode.containerInfo),Ur(t),null;case 10:return Jg(t.type._context),Ur(t),null;case 17:return bn(t.type)&&cd(),Ur(t),null;case 19:if(Tt(Pt),i=t.memoizedState,i===null)return Ur(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Rl(i,!1);else{if(cr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=vd(e),s!==null){for(t.flags|=128,Rl(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return mt(Pt,Pt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Vt()>Yc&&(t.flags|=128,n=!0,Rl(i,!1),t.lanes=4194304)}else{if(!n)if(e=vd(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Rl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Nt)return Ur(t),null}else 2*Vt()-i.renderingStartTime>Yc&&r!==1073741824&&(t.flags|=128,n=!0,Rl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Vt(),t.sibling=null,r=Pt.current,mt(Pt,n?r&1|2:r&1),t):(Ur(t),null);case 22:case 23:return vx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Rn&1073741824&&(Ur(t),t.subtreeFlags&6&&(t.flags|=8192)):Ur(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function rI(e,t){switch(Yg(t),t.tag){case 1:return bn(t.type)&&cd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xc(),Tt(An),Tt(Yr),ax(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nx(t),null;case 13:if(Tt(Pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));Wc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Tt(Pt),null;case 4:return Xc(),null;case 10:return Jg(t.type._context),null;case 22:case 23:return vx(),null;case 24:return null;default:return null}}var r0=!1,Wr=!1,nI=typeof WeakSet=="function"?WeakSet:Set,be=null;function gc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Bt(e,t,n)}else r.current=null}function iv(e,t,r){try{r()}catch(n){Bt(e,t,n)}}var G2=!1;function aI(e,t){if(Hp=ad,e=w3(),Xg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,l=0,u=0,f=e,d=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===r&&++l===a&&(o=s),d===i&&++u===n&&(c=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vp={focusedElem:e,selectionRange:r},ad=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,x=v.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:ga(t.type,p),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(_){Bt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return v=G2,G2=!1,v}function su(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&iv(t,r,i)}a=a.next}while(a!==n)}}function rh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function sv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function g4(e){var t=e.alternate;t!==null&&(e.alternate=null,g4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xa],delete t[Pu],delete t[Gp],delete t[U6],delete t[$6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function x4(e){return e.tag===5||e.tag===3||e.tag===4}function X2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ov(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=od));else if(n!==4&&(e=e.child,e!==null))for(ov(e,t,r),e=e.sibling;e!==null;)ov(e,t,r),e=e.sibling}function cv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(cv(e,t,r),e=e.sibling;e!==null;)cv(e,t,r),e=e.sibling}var kr=null,wa=!1;function ji(e,t,r){for(r=r.child;r!==null;)m4(e,t,r),r=r.sibling}function m4(e,t,r){if(Za&&typeof Za.onCommitFiberUnmount=="function")try{Za.onCommitFiberUnmount(Kd,r)}catch{}switch(r.tag){case 5:Wr||gc(r,t);case 6:var n=kr,a=wa;kr=null,ji(e,t,r),kr=n,wa=a,kr!==null&&(wa?(e=kr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):kr.removeChild(r.stateNode));break;case 18:kr!==null&&(wa?(e=kr,r=r.stateNode,e.nodeType===8?w1(e.parentNode,r):e.nodeType===1&&w1(e,r),ku(e)):w1(kr,r.stateNode));break;case 4:n=kr,a=wa,kr=r.stateNode.containerInfo,wa=!0,ji(e,t,r),kr=n,wa=a;break;case 0:case 11:case 14:case 15:if(!Wr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&iv(r,t,s),a=a.next}while(a!==n)}ji(e,t,r);break;case 1:if(!Wr&&(gc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Bt(r,t,o)}ji(e,t,r);break;case 21:ji(e,t,r);break;case 22:r.mode&1?(Wr=(n=Wr)||r.memoizedState!==null,ji(e,t,r),Wr=n):ji(e,t,r);break;default:ji(e,t,r)}}function K2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new nI),t.forEach(function(n){var a=hI.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ca(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:kr=o.stateNode,wa=!1;break e;case 3:kr=o.stateNode.containerInfo,wa=!0;break e;case 4:kr=o.stateNode.containerInfo,wa=!0;break e}o=o.return}if(kr===null)throw Error(pe(160));m4(i,s,a),kr=null,wa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(l){Bt(a,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)y4(t,e),t=t.sibling}function y4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ca(t,e),Ua(e),n&4){try{su(3,e,e.return),rh(3,e)}catch(p){Bt(e,e.return,p)}try{su(5,e,e.return)}catch(p){Bt(e,e.return,p)}}break;case 1:ca(t,e),Ua(e),n&512&&r!==null&&gc(r,r.return);break;case 5:if(ca(t,e),Ua(e),n&512&&r!==null&&gc(r,r.return),e.flags&32){var a=e.stateNode;try{Su(a,"")}catch(p){Bt(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&$E(a,i),Rp(o,s);var l=Rp(o,i);for(s=0;s<c.length;s+=2){var u=c[s],f=c[s+1];u==="style"?GE(a,f):u==="dangerouslySetInnerHTML"?zE(a,f):u==="children"?Su(a,f):Dg(a,u,f,l)}switch(o){case"input":Tp(a,i);break;case"textarea":HE(a,i);break;case"select":var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?_c(a,!!i.multiple,h,!1):d!==!!i.multiple&&(i.defaultValue!=null?_c(a,!!i.multiple,i.defaultValue,!0):_c(a,!!i.multiple,i.multiple?[]:"",!1))}a[Pu]=i}catch(p){Bt(e,e.return,p)}}break;case 6:if(ca(t,e),Ua(e),n&4){if(e.stateNode===null)throw Error(pe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Bt(e,e.return,p)}}break;case 3:if(ca(t,e),Ua(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ku(t.containerInfo)}catch(p){Bt(e,e.return,p)}break;case 4:ca(t,e),Ua(e);break;case 13:ca(t,e),Ua(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(hx=Vt())),n&4&&K2(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Wr=(l=Wr)||u,ca(t,e),Wr=l):ca(t,e),Ua(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!u&&e.mode&1)for(be=e,u=e.child;u!==null;){for(f=be=u;be!==null;){switch(d=be,h=d.child,d.tag){case 0:case 11:case 14:case 15:su(4,d,d.return);break;case 1:gc(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){Bt(n,r,p)}}break;case 5:gc(d,d.return);break;case 22:if(d.memoizedState!==null){q2(f);continue}}h!==null?(h.return=d,be=h):q2(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,l?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=WE("display",s))}catch(p){Bt(e,e.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(p){Bt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ca(t,e),Ua(e),n&4&&K2(e);break;case 21:break;default:ca(t,e),Ua(e)}}function Ua(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(x4(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Su(a,""),n.flags&=-33);var i=X2(e);cv(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=X2(e);ov(e,o,s);break;default:throw Error(pe(161))}}catch(c){Bt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iI(e,t,r){be=e,w4(e)}function w4(e,t,r){for(var n=(e.mode&1)!==0;be!==null;){var a=be,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||r0;if(!s){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Wr;o=r0;var l=Wr;if(r0=s,(Wr=c)&&!l)for(be=a;be!==null;)s=be,c=s.child,s.tag===22&&s.memoizedState!==null?Z2(a):c!==null?(c.return=s,be=c):Z2(a);for(;i!==null;)be=i,w4(i),i=i.sibling;be=a,r0=o,Wr=l}Y2(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,be=i):Y2(e)}}function Y2(e){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wr||rh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Wr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ga(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&P2(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}P2(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&ku(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Wr||t.flags&512&&sv(t)}catch(d){Bt(t,t.return,d)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function q2(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function Z2(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rh(4,t)}catch(c){Bt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Bt(t,a,c)}}var i=t.return;try{sv(t)}catch(c){Bt(t,i,c)}break;case 5:var s=t.return;try{sv(t)}catch(c){Bt(t,s,c)}}}catch(c){Bt(t,t.return,c)}if(t===e){be=null;break}var o=t.sibling;if(o!==null){o.return=t.return,be=o;break}be=t.return}}var sI=Math.ceil,md=Di.ReactCurrentDispatcher,fx=Di.ReactCurrentOwner,ta=Di.ReactCurrentBatchConfig,et=0,_r=null,qt=null,Or=0,Rn=0,xc=Ps(0),cr=0,ju=null,_o=0,nh=0,dx=0,ou=null,_n=null,hx=0,Yc=1/0,gi=null,yd=!1,lv=null,ms=null,n0=!1,ls=null,wd=0,cu=0,uv=null,H0=-1,V0=0;function fn(){return et&6?Vt():H0!==-1?H0:H0=Vt()}function ys(e){return e.mode&1?et&2&&Or!==0?Or&-Or:V6.transition!==null?(V0===0&&(V0=a3()),V0):(e=dt,e!==0||(e=window.event,e=e===void 0?16:f3(e.type)),e):1}function Ia(e,t,r,n){if(50<cu)throw cu=0,uv=null,Error(pe(185));of(e,r,n),(!(et&2)||e!==_r)&&(e===_r&&(!(et&2)&&(nh|=r),cr===4&&Ji(e,Or)),Tn(e,n),r===1&&et===0&&!(t.mode&1)&&(Yc=Vt()+500,Jd&&Ds()))}function Tn(e,t){var r=e.callbackNode;Vk(e,t);var n=nd(e,e===_r?Or:0);if(n===0)r!==null&&s2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&s2(r),t===1)e.tag===0?H6(Q2.bind(null,e)):N3(Q2.bind(null,e)),B6(function(){!(et&6)&&Ds()}),r=null;else{switch(i3(n)){case 1:r=jg;break;case 4:r=r3;break;case 16:r=rd;break;case 536870912:r=n3;break;default:r=rd}r=k4(r,_4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _4(e,t){if(H0=-1,V0=0,et&6)throw Error(pe(327));var r=e.callbackNode;if(bc()&&e.callbackNode!==r)return null;var n=nd(e,e===_r?Or:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=_d(e,n);else{t=n;var a=et;et|=2;var i=C4();(_r!==e||Or!==t)&&(gi=null,Yc=Vt()+500,ho(e,t));do try{lI();break}catch(o){E4(e,o)}while(!0);Qg(),md.current=i,et=a,qt!==null?t=0:(_r=null,Or=0,t=cr)}if(t!==0){if(t===2&&(a=Lp(e),a!==0&&(n=a,t=fv(e,a))),t===1)throw r=ju,ho(e,0),Ji(e,n),Tn(e,Vt()),r;if(t===6)Ji(e,n);else{if(a=e.current.alternate,!(n&30)&&!oI(a)&&(t=_d(e,n),t===2&&(i=Lp(e),i!==0&&(n=i,t=fv(e,i))),t===1))throw r=ju,ho(e,0),Ji(e,n),Tn(e,Vt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(pe(345));case 2:Xs(e,_n,gi);break;case 3:if(Ji(e,n),(n&130023424)===n&&(t=hx+500-Vt(),10<t)){if(nd(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){fn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Wp(Xs.bind(null,e,_n,gi),t);break}Xs(e,_n,gi);break;case 4:if(Ji(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-ka(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=Vt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sI(n/1960))-n,10<n){e.timeoutHandle=Wp(Xs.bind(null,e,_n,gi),n);break}Xs(e,_n,gi);break;case 5:Xs(e,_n,gi);break;default:throw Error(pe(329))}}}return Tn(e,Vt()),e.callbackNode===r?_4.bind(null,e):null}function fv(e,t){var r=ou;return e.current.memoizedState.isDehydrated&&(ho(e,t).flags|=256),e=_d(e,t),e!==2&&(t=_n,_n=r,t!==null&&dv(t)),e}function dv(e){_n===null?_n=e:_n.push.apply(_n,e)}function oI(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Pa(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ji(e,t){for(t&=~dx,t&=~nh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ka(t),n=1<<r;e[r]=-1,t&=~n}}function Q2(e){if(et&6)throw Error(pe(327));bc();var t=nd(e,0);if(!(t&1))return Tn(e,Vt()),null;var r=_d(e,t);if(e.tag!==0&&r===2){var n=Lp(e);n!==0&&(t=n,r=fv(e,n))}if(r===1)throw r=ju,ho(e,0),Ji(e,t),Tn(e,Vt()),r;if(r===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xs(e,_n,gi),Tn(e,Vt()),null}function px(e,t){var r=et;et|=1;try{return e(t)}finally{et=r,et===0&&(Yc=Vt()+500,Jd&&Ds())}}function Eo(e){ls!==null&&ls.tag===0&&!(et&6)&&bc();var t=et;et|=1;var r=ta.transition,n=dt;try{if(ta.transition=null,dt=1,e)return e()}finally{dt=n,ta.transition=r,et=t,!(et&6)&&Ds()}}function vx(){Rn=xc.current,Tt(xc)}function ho(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,L6(r)),qt!==null)for(r=qt.return;r!==null;){var n=r;switch(Yg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&cd();break;case 3:Xc(),Tt(An),Tt(Yr),ax();break;case 5:nx(n);break;case 4:Xc();break;case 13:Tt(Pt);break;case 19:Tt(Pt);break;case 10:Jg(n.type._context);break;case 22:case 23:vx()}r=r.return}if(_r=e,qt=e=ws(e.current,null),Or=Rn=t,cr=0,ju=null,dx=nh=_o=0,_n=ou=null,eo!==null){for(t=0;t<eo.length;t++)if(r=eo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}eo=null}return e}function E4(e,t){do{var r=qt;try{if(Qg(),j0.current=xd,gd){for(var n=Dt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}gd=!1}if(wo=0,mr=nr=Dt=null,iu=!1,Mu=0,fx.current=null,r===null||r.return===null){cr=1,ju=t,qt=null;break}e:{var i=e,s=r.return,o=r,c=t;if(t=Or,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=j2(s);if(h!==null){h.flags&=-257,U2(h,s,o,i,t),h.mode&1&&B2(i,l,t),t=h,c=l;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){B2(i,l,t),gx();break e}c=Error(pe(426))}}else if(Nt&&o.mode&1){var x=j2(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),U2(x,s,o,i,t),qg(Kc(c,o));break e}}i=c=Kc(c,o),cr!==4&&(cr=2),ou===null?ou=[i]:ou.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=i4(i,c,t);R2(i,y);break e;case 1:o=c;var w=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ms===null||!ms.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=s4(i,o,t);R2(i,_);break e}}i=i.return}while(i!==null)}A4(r)}catch(S){t=S,qt===r&&r!==null&&(qt=r=r.return);continue}break}while(!0)}function C4(){var e=md.current;return md.current=xd,e===null?xd:e}function gx(){(cr===0||cr===3||cr===2)&&(cr=4),_r===null||!(_o&268435455)&&!(nh&268435455)||Ji(_r,Or)}function _d(e,t){var r=et;et|=2;var n=C4();(_r!==e||Or!==t)&&(gi=null,ho(e,t));do try{cI();break}catch(a){E4(e,a)}while(!0);if(Qg(),et=r,md.current=n,qt!==null)throw Error(pe(261));return _r=null,Or=0,cr}function cI(){for(;qt!==null;)S4(qt)}function lI(){for(;qt!==null&&!Dk();)S4(qt)}function S4(e){var t=T4(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?A4(e):qt=t,fx.current=null}function A4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=rI(r,t),r!==null){r.flags&=32767,qt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{cr=6,qt=null;return}}else if(r=tI(r,t,Rn),r!==null){qt=r;return}if(t=t.sibling,t!==null){qt=t;return}qt=t=e}while(t!==null);cr===0&&(cr=5)}function Xs(e,t,r){var n=dt,a=ta.transition;try{ta.transition=null,dt=1,uI(e,t,r,n)}finally{ta.transition=a,dt=n}return null}function uI(e,t,r,n){do bc();while(ls!==null);if(et&6)throw Error(pe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(zk(e,i),e===_r&&(qt=_r=null,Or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||n0||(n0=!0,k4(rd,function(){return bc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ta.transition,ta.transition=null;var s=dt;dt=1;var o=et;et|=4,fx.current=null,aI(e,r),y4(r,e),N6(Vp),ad=!!Hp,Vp=Hp=null,e.current=r,iI(r),Fk(),et=o,dt=s,ta.transition=i}else e.current=r;if(n0&&(n0=!1,ls=e,wd=a),i=e.pendingLanes,i===0&&(ms=null),Bk(r.stateNode),Tn(e,Vt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(yd)throw yd=!1,e=lv,lv=null,e;return wd&1&&e.tag!==0&&bc(),i=e.pendingLanes,i&1?e===uv?cu++:(cu=0,uv=e):cu=0,Ds(),null}function bc(){if(ls!==null){var e=i3(wd),t=ta.transition,r=dt;try{if(ta.transition=null,dt=16>e?16:e,ls===null)var n=!1;else{if(e=ls,ls=null,wd=0,et&6)throw Error(pe(331));var a=et;for(et|=4,be=e.current;be!==null;){var i=be,s=i.child;if(be.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var l=o[c];for(be=l;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:su(8,u,i)}var f=u.child;if(f!==null)f.return=u,be=f;else for(;be!==null;){u=be;var d=u.sibling,h=u.return;if(g4(u),u===l){be=null;break}if(d!==null){d.return=h,be=d;break}be=h}}}var v=i.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}be=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,be=s;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:su(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,be=y;break e}be=i.return}}var w=e.current;for(be=w;be!==null;){s=be;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,be=m;else e:for(s=w;be!==null;){if(o=be,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:rh(9,o)}}catch(S){Bt(o,o.return,S)}if(o===s){be=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,be=_;break e}be=o.return}}if(et=a,Ds(),Za&&typeof Za.onPostCommitFiberRoot=="function")try{Za.onPostCommitFiberRoot(Kd,e)}catch{}n=!0}return n}finally{dt=r,ta.transition=t}}return!1}function J2(e,t,r){t=Kc(r,t),t=i4(e,t,1),e=xs(e,t,1),t=fn(),e!==null&&(of(e,1,t),Tn(e,t))}function Bt(e,t,r){if(e.tag===3)J2(e,e,r);else for(;t!==null;){if(t.tag===3){J2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ms===null||!ms.has(n))){e=Kc(r,e),e=s4(t,e,1),t=xs(t,e,1),e=fn(),t!==null&&(of(t,1,e),Tn(t,e));break}}t=t.return}}function fI(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=fn(),e.pingedLanes|=e.suspendedLanes&r,_r===e&&(Or&r)===r&&(cr===4||cr===3&&(Or&130023424)===Or&&500>Vt()-hx?ho(e,0):dx|=r),Tn(e,t)}function b4(e,t){t===0&&(e.mode&1?(t=Xf,Xf<<=1,!(Xf&130023424)&&(Xf=4194304)):t=1);var r=fn();e=Ii(e,t),e!==null&&(of(e,t,r),Tn(e,r))}function dI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),b4(e,r)}function hI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(t),b4(e,r)}var T4;T4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||An.current)Sn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Sn=!1,eI(e,t,r);Sn=!!(e.flags&131072)}else Sn=!1,Nt&&t.flags&1048576&&O3(t,fd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;$0(e,t),e=t.pendingProps;var a=zc(t,Yr.current);Ac(t,r),a=sx(null,t,n,e,a,r);var i=ox();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bn(n)?(i=!0,ld(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,tx(t),a.updater=th,t.stateNode=a,a._reactInternals=t,Qp(t,n,e,r),t=tv(null,t,n,!0,i,r)):(t.tag=0,Nt&&i&&Kg(t),an(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch($0(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=vI(n),e=ga(n,e),a){case 0:t=ev(null,t,n,e,r);break e;case 1:t=V2(null,t,n,e,r);break e;case 11:t=$2(null,t,n,e,r);break e;case 14:t=H2(null,t,n,ga(n.type,e),r);break e}throw Error(pe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ga(n,a),ev(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ga(n,a),V2(e,t,n,a,r);case 3:e:{if(u4(t),e===null)throw Error(pe(387));n=t.pendingProps,i=t.memoizedState,a=i.element,L3(e,t),pd(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Kc(Error(pe(423)),t),t=z2(e,t,n,r,a);break e}else if(n!==a){a=Kc(Error(pe(424)),t),t=z2(e,t,n,r,a);break e}else for(Mn=gs(t.stateNode.containerInfo.firstChild),Ln=t,Nt=!0,Ea=null,r=F3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wc(),n===a){t=Ni(e,t,r);break e}an(e,t,n,r)}t=t.child}return t;case 5:return B3(t),e===null&&Yp(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,zp(n,a)?s=null:i!==null&&zp(n,i)&&(t.flags|=32),l4(e,t),an(e,t,s,r),t.child;case 6:return e===null&&Yp(t),null;case 13:return f4(e,t,r);case 4:return rx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Gc(t,null,n,r):an(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ga(n,a),$2(e,t,n,a,r);case 7:return an(e,t,t.pendingProps,r),t.child;case 8:return an(e,t,t.pendingProps.children,r),t.child;case 12:return an(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,mt(dd,n._currentValue),n._currentValue=s,i!==null)if(Pa(i.value,s)){if(i.children===a.children&&!An.current){t=Ni(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Si(-1,r&-r),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),qp(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(pe(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),qp(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}an(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ac(t,r),a=na(a),n=n(a),t.flags|=1,an(e,t,n,r),t.child;case 14:return n=t.type,a=ga(n,t.pendingProps),a=ga(n.type,a),H2(e,t,n,a,r);case 15:return o4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ga(n,a),$0(e,t),t.tag=1,bn(n)?(e=!0,ld(t)):e=!1,Ac(t,r),a4(t,n,a),Qp(t,n,a,r),tv(null,t,n,!0,e,r);case 19:return d4(e,t,r);case 22:return c4(e,t,r)}throw Error(pe(156,t.tag))};function k4(e,t){return t3(e,t)}function pI(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(e,t,r,n){return new pI(e,t,r,n)}function xx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vI(e){if(typeof e=="function")return xx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mg)return 11;if(e===Lg)return 14}return 2}function ws(e,t){var r=e.alternate;return r===null?(r=Jn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function z0(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")xx(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case oc:return po(r.children,a,i,t);case Fg:s=8,a|=8;break;case Ep:return e=Jn(12,r,t,a|2),e.elementType=Ep,e.lanes=i,e;case Cp:return e=Jn(13,r,t,a),e.elementType=Cp,e.lanes=i,e;case Sp:return e=Jn(19,r,t,a),e.elementType=Sp,e.lanes=i,e;case BE:return ah(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ME:s=10;break e;case LE:s=9;break e;case Mg:s=11;break e;case Lg:s=14;break e;case Yi:s=16,n=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=Jn(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function po(e,t,r,n){return e=Jn(7,e,n,t),e.lanes=r,e}function ah(e,t,r,n){return e=Jn(22,e,n,t),e.elementType=BE,e.lanes=r,e.stateNode={isHidden:!1},e}function k1(e,t,r){return e=Jn(6,e,null,t),e.lanes=r,e}function I1(e,t,r){return t=Jn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gI(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=l1(0),this.expirationTimes=l1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=l1(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function mx(e,t,r,n,a,i,s,o,c){return e=new gI(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Jn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},tx(i),e}function xI(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function I4(e){if(!e)return Ts;e=e._reactInternals;e:{if(Ro(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var r=e.type;if(bn(r))return I3(e,r,t)}return t}function N4(e,t,r,n,a,i,s,o,c){return e=mx(r,n,!0,e,a,i,s,o,c),e.context=I4(null),r=e.current,n=fn(),a=ys(r),i=Si(n,a),i.callback=t??null,xs(r,i,a),e.current.lanes=a,of(e,a,n),Tn(e,n),e}function ih(e,t,r,n){var a=t.current,i=fn(),s=ys(a);return r=I4(r),t.context===null?t.context=r:t.pendingContext=r,t=Si(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xs(a,t,s),e!==null&&(Ia(e,a,s,i),B0(e,a,s)),s}function Ed(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ey(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yx(e,t){ey(e,t),(e=e.alternate)&&ey(e,t)}function mI(){return null}var O4=typeof reportError=="function"?reportError:function(e){console.error(e)};function wx(e){this._internalRoot=e}sh.prototype.render=wx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));ih(e,t,null,null)};sh.prototype.unmount=wx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Eo(function(){ih(null,e,null,null)}),t[ki]=null}};function sh(e){this._internalRoot=e}sh.prototype.unstable_scheduleHydration=function(e){if(e){var t=c3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qi.length&&t!==0&&t<Qi[r].priority;r++);Qi.splice(r,0,e),r===0&&u3(e)}};function _x(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ty(){}function yI(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var l=Ed(s);i.call(l)}}var s=N4(t,n,e,0,null,!1,!1,"",ty);return e._reactRootContainer=s,e[ki]=s.current,Ou(e.nodeType===8?e.parentNode:e),Eo(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var l=Ed(c);o.call(l)}}var c=mx(e,0,!1,null,null,!1,!1,"",ty);return e._reactRootContainer=c,e[ki]=c.current,Ou(e.nodeType===8?e.parentNode:e),Eo(function(){ih(t,c,r,n)}),c}function ch(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var c=Ed(s);o.call(c)}}ih(t,s,e,a)}else s=yI(r,t,e,a,n);return Ed(s)}s3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Hl(t.pendingLanes);r!==0&&(Ug(t,r|1),Tn(t,Vt()),!(et&6)&&(Yc=Vt()+500,Ds()))}break;case 13:Eo(function(){var n=Ii(e,1);if(n!==null){var a=fn();Ia(n,e,1,a)}}),yx(e,1)}};$g=function(e){if(e.tag===13){var t=Ii(e,134217728);if(t!==null){var r=fn();Ia(t,e,134217728,r)}yx(e,134217728)}};o3=function(e){if(e.tag===13){var t=ys(e),r=Ii(e,t);if(r!==null){var n=fn();Ia(r,e,t,n)}yx(e,t)}};c3=function(){return dt};l3=function(e,t){var r=dt;try{return dt=e,t()}finally{dt=r}};Dp=function(e,t,r){switch(t){case"input":if(Tp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Qd(n);if(!a)throw Error(pe(90));UE(n),Tp(n,a)}}}break;case"textarea":HE(e,r);break;case"select":t=r.value,t!=null&&_c(e,!!r.multiple,t,!1)}};YE=px;qE=Eo;var wI={usingClientEntryPoint:!1,Events:[lf,fc,Qd,XE,KE,px]},Pl={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_I={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Di.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=JE(e),e===null?null:e.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||mI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a0.isDisabled&&a0.supportsFiber)try{Kd=a0.inject(_I),Za=a0}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wI;Hn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_x(t))throw Error(pe(200));return xI(e,t,null,r)};Hn.createRoot=function(e,t){if(!_x(e))throw Error(pe(299));var r=!1,n="",a=O4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=mx(e,1,!1,null,null,r,!1,n,a),e[ki]=t.current,Ou(e.nodeType===8?e.parentNode:e),new wx(t)};Hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=JE(t),e=e===null?null:e.stateNode,e};Hn.flushSync=function(e){return Eo(e)};Hn.hydrate=function(e,t,r){if(!oh(t))throw Error(pe(200));return ch(null,e,t,!0,r)};Hn.hydrateRoot=function(e,t,r){if(!_x(e))throw Error(pe(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=O4;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=N4(t,null,e,1,r??null,a,!1,i,s),e[ki]=t.current,Ou(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new sh(t)};Hn.render=function(e,t,r){if(!oh(t))throw Error(pe(200));return ch(null,e,t,!1,r)};Hn.unmountComponentAtNode=function(e){if(!oh(e))throw Error(pe(40));return e._reactRootContainer?(Eo(function(){ch(null,null,e,!1,function(){e._reactRootContainer=null,e[ki]=null})}),!0):!1};Hn.unstable_batchedUpdates=px;Hn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!oh(r))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return ch(e,t,r,!1,n)};Hn.version="18.3.1-next-f1338f8080-20240426";function R4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R4)}catch(e){console.error(e)}}R4(),RE.exports=Hn;var Po=RE.exports;const P4=bg(Po);var D4,ry=Po;D4=ry.createRoot,ry.hydrateRoot;const EI=1,CI=1e6;let N1=0;function SI(){return N1=(N1+1)%Number.MAX_SAFE_INTEGER,N1.toString()}const O1=new Map,ny=e=>{if(O1.has(e))return;const t=setTimeout(()=>{O1.delete(e),lu({type:"REMOVE_TOAST",toastId:e})},CI);O1.set(e,t)},AI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,EI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?ny(r):e.toasts.forEach(n=>{ny(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},W0=[];let G0={toasts:[]};function lu(e){G0=AI(G0,e),W0.forEach(t=>{t(G0)})}function bI({...e}){const t=SI(),r=a=>lu({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>lu({type:"DISMISS_TOAST",toastId:t});return lu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Do(){const[e,t]=E.useState(G0);return E.useEffect(()=>(W0.push(t),()=>{const r=W0.indexOf(t);r>-1&&W0.splice(r,1)}),[e]),{...e,toast:bI,dismiss:r=>lu({type:"DISMISS_TOAST",toastId:r})}}function Pe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function ay(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function F4(...e){return t=>{let r=!1;const n=e.map(a=>{const i=ay(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():ay(e[a],null)}}}}function vt(...e){return E.useCallback(F4(...e),e)}function TI(e,t){const r=E.createContext(t),n=i=>{const{children:s,...o}=i,c=E.useMemo(()=>o,Object.values(o));return g.jsx(r.Provider,{value:c,children:s})};n.displayName=e+"Provider";function a(i){const s=E.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Fi(e,t=[]){let r=[];function n(i,s){const o=E.createContext(s),c=r.length;r=[...r,s];const l=f=>{var y;const{scope:d,children:h,...v}=f,p=((y=d==null?void 0:d[e])==null?void 0:y[c])||o,x=E.useMemo(()=>v,Object.values(v));return g.jsx(p.Provider,{value:x,children:h})};l.displayName=i+"Provider";function u(f,d){var p;const h=((p=d==null?void 0:d[e])==null?void 0:p[c])||o,v=E.useContext(h);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[l,u]}const a=()=>{const i=r.map(s=>E.createContext(s));return function(o){const c=(o==null?void 0:o[e])||i;return E.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return a.scopeName=e,[n,kI(a,...t)]}function kI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:c,scopeName:l})=>{const f=c(i)[`__scope${l}`];return{...o,...f}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function qc(e){const t=NI(e),r=E.forwardRef((n,a)=>{const{children:i,...s}=n,o=E.Children.toArray(i),c=o.find(OI);if(c){const l=c.props.children,u=o.map(f=>f===c?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:f);return g.jsx(t,{...s,ref:a,children:E.isValidElement(l)?E.cloneElement(l,void 0,u):null})}return g.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var II=qc("Slot");function NI(e){const t=E.forwardRef((r,n)=>{const{children:a,...i}=r;if(E.isValidElement(a)){const s=PI(a),o=RI(i,a.props);return a.type!==E.Fragment&&(o.ref=n?F4(n,s):s),E.cloneElement(a,o)}return E.Children.count(a)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var M4=Symbol("radix.slottable");function L4(e){const t=({children:r})=>g.jsx(g.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=M4,t}function OI(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===M4}function RI(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function PI(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ex(e){const t=e+"CollectionProvider",[r,n]=Fi(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:x,children:y}=p,w=xe.useRef(null),m=xe.useRef(new Map).current;return g.jsx(a,{scope:x,itemMap:m,collectionRef:w,children:y})};s.displayName=t;const o=e+"CollectionSlot",c=qc(o),l=xe.forwardRef((p,x)=>{const{scope:y,children:w}=p,m=i(o,y),_=vt(x,m.collectionRef);return g.jsx(c,{ref:_,children:w})});l.displayName=o;const u=e+"CollectionItemSlot",f="data-radix-collection-item",d=qc(u),h=xe.forwardRef((p,x)=>{const{scope:y,children:w,...m}=p,_=xe.useRef(null),S=vt(x,_),A=i(u,y);return xe.useEffect(()=>(A.itemMap.set(_,{ref:_,...m}),()=>void A.itemMap.delete(_))),g.jsx(d,{[f]:"",ref:S,children:w})});h.displayName=u;function v(p){const x=i(e+"CollectionConsumer",p);return xe.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const m=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((A,C)=>m.indexOf(A.ref.current)-m.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:l,ItemSlot:h},v,n]}var DI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=DI.reduce((e,t)=>{const r=qc(`Primitive.${t}`),n=E.forwardRef((a,i)=>{const{asChild:s,...o}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function B4(e,t){e&&Po.flushSync(()=>e.dispatchEvent(t))}function ia(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function FI(e,t=globalThis==null?void 0:globalThis.document){const r=ia(e);E.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var MI="DismissableLayer",hv="dismissableLayer.update",LI="dismissableLayer.pointerDownOutside",BI="dismissableLayer.focusOutside",iy,j4=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ff=E.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:o,...c}=e,l=E.useContext(j4),[u,f]=E.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=E.useState({}),v=vt(t,C=>f(C)),p=Array.from(l.layers),[x]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),w=u?p.indexOf(u):-1,m=l.layersWithOutsidePointerEventsDisabled.size>0,_=w>=y,S=UI(C=>{const b=C.target,T=[...l.branches].some(O=>O.contains(b));!_||T||(a==null||a(C),s==null||s(C),C.defaultPrevented||o==null||o())},d),A=$I(C=>{const b=C.target;[...l.branches].some(O=>O.contains(b))||(i==null||i(C),s==null||s(C),C.defaultPrevented||o==null||o())},d);return FI(C=>{w===l.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},d),E.useEffect(()=>{if(u)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(iy=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),sy(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=iy)}},[u,d,r,l]),E.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),sy())},[u,l]),E.useEffect(()=>{const C=()=>h({});return document.addEventListener(hv,C),()=>document.removeEventListener(hv,C)},[]),g.jsx(ze.div,{...c,ref:v,style:{pointerEvents:m?_?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,A.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,S.onPointerDownCapture)})});ff.displayName=MI;var jI="DismissableLayerBranch",U4=E.forwardRef((e,t)=>{const r=E.useContext(j4),n=E.useRef(null),a=vt(t,n);return E.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),g.jsx(ze.div,{...e,ref:a})});U4.displayName=jI;function UI(e,t=globalThis==null?void 0:globalThis.document){const r=ia(e),n=E.useRef(!1),a=E.useRef(()=>{});return E.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let c=function(){$4(LI,r,l,{discrete:!0})};const l={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function $I(e,t=globalThis==null?void 0:globalThis.document){const r=ia(e),n=E.useRef(!1);return E.useEffect(()=>{const a=i=>{i.target&&!n.current&&$4(BI,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function sy(){const e=new CustomEvent(hv);document.dispatchEvent(e)}function $4(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?B4(a,i):a.dispatchEvent(i)}var HI=ff,VI=U4,Mr=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},zI="Portal",lh=E.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[a,i]=E.useState(!1);Mr(()=>i(!0),[]);const s=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?P4.createPortal(g.jsx(ze.div,{...n,ref:t}),s):null});lh.displayName=zI;function WI(e,t){return E.useReducer((r,n)=>t[r][n]??r,e)}var Fo=e=>{const{present:t,children:r}=e,n=GI(t),a=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),i=vt(n.ref,XI(a));return typeof r=="function"||n.isPresent?E.cloneElement(a,{ref:i}):null};Fo.displayName="Presence";function GI(e){const[t,r]=E.useState(),n=E.useRef(null),a=E.useRef(e),i=E.useRef("none"),s=e?"mounted":"unmounted",[o,c]=WI(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const l=i0(n.current);i.current=o==="mounted"?l:"none"},[o]),Mr(()=>{const l=n.current,u=a.current;if(u!==e){const d=i.current,h=i0(l);e?c("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Mr(()=>{if(t){let l;const u=t.ownerDocument.defaultView??window,f=h=>{const p=i0(n.current).includes(h.animationName);if(h.target===t&&p&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",l=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},d=h=>{h.target===t&&(i.current=i0(n.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(l),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:E.useCallback(l=>{n.current=l?getComputedStyle(l):null,r(l)},[])}}function i0(e){return(e==null?void 0:e.animationName)||"none"}function XI(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var KI=Og[" useInsertionEffect ".trim().toString()]||Mr;function Zc({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,s]=YI({defaultProp:t,onChange:r}),o=e!==void 0,c=o?e:a;{const u=E.useRef(e!==void 0);E.useEffect(()=>{const f=u.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,n])}const l=E.useCallback(u=>{var f;if(o){const d=qI(u)?u(e):u;d!==e&&((f=s.current)==null||f.call(s,d))}else i(u)},[o,e,i,s]);return[c,l]}function YI({defaultProp:e,onChange:t}){const[r,n]=E.useState(e),a=E.useRef(r),i=E.useRef(t);return KI(()=>{i.current=t},[t]),E.useEffect(()=>{var s;a.current!==r&&((s=i.current)==null||s.call(i,r),a.current=r)},[r,a]),[r,n,i]}function qI(e){return typeof e=="function"}var H4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ZI="VisuallyHidden",uh=E.forwardRef((e,t)=>g.jsx(ze.span,{...e,ref:t,style:{...H4,...e.style}}));uh.displayName=ZI;var QI=uh,Cx="ToastProvider",[Sx,JI,eN]=Ex("Toast"),[V4,Gq]=Fi("Toast",[eN]),[tN,fh]=V4(Cx),z4=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:s}=e,[o,c]=E.useState(null),[l,u]=E.useState(0),f=E.useRef(!1),d=E.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cx}\`. Expected non-empty \`string\`.`),g.jsx(Sx.Provider,{scope:t,children:g.jsx(tN,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:l,viewport:o,onViewportChange:c,onToastAdd:E.useCallback(()=>u(h=>h+1),[]),onToastRemove:E.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:s})})};z4.displayName=Cx;var W4="ToastViewport",rN=["F8"],pv="toast.viewportPause",vv="toast.viewportResume",G4=E.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=rN,label:a="Notifications ({hotkey})",...i}=e,s=fh(W4,r),o=JI(r),c=E.useRef(null),l=E.useRef(null),u=E.useRef(null),f=E.useRef(null),d=vt(t,f,s.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=s.toastCount>0;E.useEffect(()=>{const x=y=>{var m;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((m=f.current)==null||m.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),E.useEffect(()=>{const x=c.current,y=f.current;if(v&&x&&y){const w=()=>{if(!s.isClosePausedRef.current){const A=new CustomEvent(pv);y.dispatchEvent(A),s.isClosePausedRef.current=!0}},m=()=>{if(s.isClosePausedRef.current){const A=new CustomEvent(vv);y.dispatchEvent(A),s.isClosePausedRef.current=!1}},_=A=>{!x.contains(A.relatedTarget)&&m()},S=()=>{x.contains(document.activeElement)||m()};return x.addEventListener("focusin",w),x.addEventListener("focusout",_),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",S),window.addEventListener("blur",w),window.addEventListener("focus",m),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",w),window.removeEventListener("focus",m)}}},[v,s.isClosePausedRef]);const p=E.useCallback(({tabbingDirection:x})=>{const w=o().map(m=>{const _=m.ref.current,S=[_,...vN(_)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?w.reverse():w).flat()},[o]);return E.useEffect(()=>{const x=f.current;if(x){const y=w=>{var S,A,C;const m=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!m){const b=document.activeElement,T=w.shiftKey;if(w.target===x&&T){(S=l.current)==null||S.focus();return}const R=p({tabbingDirection:T?"backwards":"forwards"}),H=R.findIndex(K=>K===b);R1(R.slice(H+1))?w.preventDefault():T?(A=l.current)==null||A.focus():(C=u.current)==null||C.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[o,p]),g.jsxs(VI,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&g.jsx(gv,{ref:l,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});R1(x)}}),g.jsx(Sx.Slot,{scope:r,children:g.jsx(ze.ol,{tabIndex:-1,...i,ref:d})}),v&&g.jsx(gv,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});R1(x)}})]})});G4.displayName=W4;var X4="ToastFocusProxy",gv=E.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=fh(X4,r);return g.jsx(uh,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:s=>{var l;const o=s.relatedTarget;!((l=i.viewport)!=null&&l.contains(o))&&n()}})});gv.displayName=X4;var df="Toast",nN="toast.swipeStart",aN="toast.swipeMove",iN="toast.swipeCancel",sN="toast.swipeEnd",K4=E.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...s}=e,[o,c]=Zc({prop:n,defaultProp:a??!0,onChange:i,caller:df});return g.jsx(Fo,{present:r||o,children:g.jsx(lN,{open:o,...s,ref:t,onClose:()=>c(!1),onPause:ia(e.onPause),onResume:ia(e.onResume),onSwipeStart:Pe(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(e.onSwipeMove,l=>{const{x:u,y:f}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Pe(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(e.onSwipeEnd,l=>{const{x:u,y:f}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});K4.displayName=df;var[oN,cN]=V4(df,{onClose(){}}),lN=E.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:s,onEscapeKeyDown:o,onPause:c,onResume:l,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:h,...v}=e,p=fh(df,r),[x,y]=E.useState(null),w=vt(t,K=>y(K)),m=E.useRef(null),_=E.useRef(null),S=a||p.duration,A=E.useRef(0),C=E.useRef(S),b=E.useRef(0),{onToastAdd:T,onToastRemove:O}=p,U=ia(()=>{var Q;(x==null?void 0:x.contains(document.activeElement))&&((Q=p.viewport)==null||Q.focus()),s()}),R=E.useCallback(K=>{!K||K===1/0||(window.clearTimeout(b.current),A.current=new Date().getTime(),b.current=window.setTimeout(U,K))},[U]);E.useEffect(()=>{const K=p.viewport;if(K){const Q=()=>{R(C.current),l==null||l()},J=()=>{const se=new Date().getTime()-A.current;C.current=C.current-se,window.clearTimeout(b.current),c==null||c()};return K.addEventListener(pv,J),K.addEventListener(vv,Q),()=>{K.removeEventListener(pv,J),K.removeEventListener(vv,Q)}}},[p.viewport,S,c,l,R]),E.useEffect(()=>{i&&!p.isClosePausedRef.current&&R(S)},[i,S,p.isClosePausedRef,R]),E.useEffect(()=>(T(),()=>O()),[T,O]);const H=E.useMemo(()=>x?tC(x):null,[x]);return p.viewport?g.jsxs(g.Fragment,{children:[H&&g.jsx(uN,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),g.jsx(oN,{scope:r,onClose:U,children:Po.createPortal(g.jsx(Sx.ItemSlot,{scope:r,children:g.jsx(HI,{asChild:!0,onEscapeKeyDown:Pe(o,()=>{p.isFocusedToastEscapeKeyDownRef.current||U(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pe(e.onKeyDown,K=>{K.key==="Escape"&&(o==null||o(K.nativeEvent),K.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:Pe(e.onPointerDown,K=>{K.button===0&&(m.current={x:K.clientX,y:K.clientY})}),onPointerMove:Pe(e.onPointerMove,K=>{if(!m.current)return;const Q=K.clientX-m.current.x,J=K.clientY-m.current.y,se=!!_.current,Y=["left","right"].includes(p.swipeDirection),L=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,le=Y?L(0,Q):0,de=Y?0:L(0,J),N=K.pointerType==="touch"?10:2,G={x:le,y:de},V={originalEvent:K,delta:G};se?(_.current=G,s0(aN,f,V,{discrete:!1})):oy(G,p.swipeDirection,N)?(_.current=G,s0(nN,u,V,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(Q)>N||Math.abs(J)>N)&&(m.current=null)}),onPointerUp:Pe(e.onPointerUp,K=>{const Q=_.current,J=K.target;if(J.hasPointerCapture(K.pointerId)&&J.releasePointerCapture(K.pointerId),_.current=null,m.current=null,Q){const se=K.currentTarget,Y={originalEvent:K,delta:Q};oy(Q,p.swipeDirection,p.swipeThreshold)?s0(sN,h,Y,{discrete:!0}):s0(iN,d,Y,{discrete:!0}),se.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),uN=e=>{const{__scopeToast:t,children:r,...n}=e,a=fh(df,t),[i,s]=E.useState(!1),[o,c]=E.useState(!1);return hN(()=>s(!0)),E.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),o?null:g.jsx(lh,{asChild:!0,children:g.jsx(uh,{...n,children:i&&g.jsxs(g.Fragment,{children:[a.label," ",r]})})})},fN="ToastTitle",Y4=E.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return g.jsx(ze.div,{...n,ref:t})});Y4.displayName=fN;var dN="ToastDescription",q4=E.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return g.jsx(ze.div,{...n,ref:t})});q4.displayName=dN;var Z4="ToastAction",Q4=E.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?g.jsx(eC,{altText:r,asChild:!0,children:g.jsx(Ax,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Z4}\`. Expected non-empty \`string\`.`),null)});Q4.displayName=Z4;var J4="ToastClose",Ax=E.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=cN(J4,r);return g.jsx(eC,{asChild:!0,children:g.jsx(ze.button,{type:"button",...n,ref:t,onClick:Pe(e.onClick,a.onClose)})})});Ax.displayName=J4;var eC=E.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return g.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function tC(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),pN(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...tC(n))}}),t}function s0(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?B4(a,i):a.dispatchEvent(i)}var oy=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function hN(e=()=>{}){const t=ia(e);Mr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function pN(e){return e.nodeType===e.ELEMENT_NODE}function vN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function R1(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var gN=z4,rC=G4,nC=K4,aC=Y4,iC=q4,sC=Q4,oC=Ax;function cC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=cC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function lC(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=cC(e))&&(n&&(n+=" "),n+=t);return n}const cy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ly=lC,hf=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ly(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(l=>{const u=r==null?void 0:r[l],f=i==null?void 0:i[l];if(u===null)return null;const d=cy(u)||cy(f);return a[l][d]}),o=r&&Object.entries(r).reduce((l,u)=>{let[f,d]=u;return d===void 0||(l[f]=d),l},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((l,u)=>{let{class:f,className:d,...h}=u;return Object.entries(h).every(v=>{let[p,x]=v;return Array.isArray(x)?x.includes({...i,...o}[p]):{...i,...o}[p]===x})?[...l,f,d]:l},[]);return ly(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uC=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},c)=>E.createElement("svg",{ref:c,...mN,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:uC("lucide",a),...o},[...s.map(([l,u])=>E.createElement(l,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,t)=>{const r=E.forwardRef(({className:n,...a},i)=>E.createElement(yN,{ref:i,iconNode:t,className:uC(`lucide-${xN(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=Re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=Re("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=Re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=Re("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=Re("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=Re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=Re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Re("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=Re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=Re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=Re("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=Re("FolderSync",[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5",key:"1dkoa9"}],["path",{d:"M12 10v4h4",key:"1czhmt"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5",key:"lvuxfi"}],["path",{d:"M22 22v-4h-4",key:"1ewp4q"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5",key:"14ync0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=Re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=Re("Lamp",[["path",{d:"M8 2h8l4 10H4L8 2Z",key:"9dma5w"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M8 22v-2c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v2H8Z",key:"mwf4oh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Re("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=Re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=Re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=Re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=Re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Re("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Re("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=Re("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=Re("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=Re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=Re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=Re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=Re("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=Re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=Re("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=Re("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=Re("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=Re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=Re("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Nx="-",XN=e=>{const t=YN(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const o=s.split(Nx);return o[0]===""&&o.length!==1&&o.shift(),vC(o,t)||KN(s)},getConflictingClassGroupIds:(s,o)=>{const c=r[s]||[];return o&&n[s]?[...c,...n[s]]:c}}},vC=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?vC(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Nx);return(s=t.validators.find(({validator:o})=>o(i)))==null?void 0:s.classGroupId},hy=/^\[(.+)\]$/,KN=e=>{if(hy.test(e)){const t=hy.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},YN=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return ZN(Object.entries(e.classGroups),r).forEach(([i,s])=>{Cv(s,n,i,t)}),n},Cv=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:py(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(qN(a)){Cv(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{Cv(s,py(t,i),r,n)})})},py=(e,t)=>{let r=e;return t.split(Nx).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},qN=e=>e.isThemeGetter,ZN=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,o])=>[t+s,o])):i);return[r,a]}):e,QN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},gC="!",JN=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,s=o=>{const c=[];let l=0,u=0,f;for(let x=0;x<o.length;x++){let y=o[x];if(l===0){if(y===a&&(n||o.slice(x,x+i)===t)){c.push(o.slice(u,x)),u=x+i;continue}if(y==="/"){f=x;continue}}y==="["?l++:y==="]"&&l--}const d=c.length===0?o:o.substring(u),h=d.startsWith(gC),v=h?d.substring(1):d,p=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:v,maybePostfixModifierPosition:p}};return r?o=>r({className:o,parseClassName:s}):s},eO=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},tO=e=>({cache:QN(e.cacheSize),parseClassName:JN(e),...XN(e)}),rO=/\s+/,nO=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],s=e.trim().split(rO);let o="";for(let c=s.length-1;c>=0;c-=1){const l=s[c],{modifiers:u,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}=r(l);let v=!!h,p=n(v?d.substring(0,h):d);if(!p){if(!v){o=l+(o.length>0?" "+o:o);continue}if(p=n(d),!p){o=l+(o.length>0?" "+o:o);continue}v=!1}const x=eO(u).join(":"),y=f?x+gC:x,w=y+p;if(i.includes(w))continue;i.push(w);const m=a(p,v);for(let _=0;_<m.length;++_){const S=m[_];i.push(y+S)}o=l+(o.length>0?" "+o:o)}return o};function aO(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=xC(t))&&(n&&(n+=" "),n+=r);return n}const xC=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=xC(e[n]))&&(r&&(r+=" "),r+=t);return r};function iO(e,...t){let r,n,a,i=s;function s(c){const l=t.reduce((u,f)=>f(u),e());return r=tO(l),n=r.cache.get,a=r.cache.set,i=o,o(c)}function o(c){const l=n(c);if(l)return l;const u=nO(c,r);return a(c,u),u}return function(){return i(aO.apply(null,arguments))}}const Ct=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},mC=/^\[(?:([a-z-]+):)?(.+)\]$/i,sO=/^\d+\/\d+$/,oO=new Set(["px","full","screen"]),cO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fi=e=>Tc(e)||oO.has(e)||sO.test(e),Ui=e=>cl(e,"length",wO),Tc=e=>!!e&&!Number.isNaN(Number(e)),F1=e=>cl(e,"number",Tc),Dl=e=>!!e&&Number.isInteger(Number(e)),hO=e=>e.endsWith("%")&&Tc(e.slice(0,-1)),Ve=e=>mC.test(e),$i=e=>cO.test(e),pO=new Set(["length","size","percentage"]),vO=e=>cl(e,pO,yC),gO=e=>cl(e,"position",yC),xO=new Set(["image","url"]),mO=e=>cl(e,xO,EO),yO=e=>cl(e,"",_O),Fl=()=>!0,cl=(e,t,r)=>{const n=mC.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},wO=e=>lO.test(e)&&!uO.test(e),yC=()=>!1,_O=e=>fO.test(e),EO=e=>dO.test(e),CO=()=>{const e=Ct("colors"),t=Ct("spacing"),r=Ct("blur"),n=Ct("brightness"),a=Ct("borderColor"),i=Ct("borderRadius"),s=Ct("borderSpacing"),o=Ct("borderWidth"),c=Ct("contrast"),l=Ct("grayscale"),u=Ct("hueRotate"),f=Ct("invert"),d=Ct("gap"),h=Ct("gradientColorStops"),v=Ct("gradientColorStopPositions"),p=Ct("inset"),x=Ct("margin"),y=Ct("opacity"),w=Ct("padding"),m=Ct("saturate"),_=Ct("scale"),S=Ct("sepia"),A=Ct("skew"),C=Ct("space"),b=Ct("translate"),T=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",Ve,t],R=()=>[Ve,t],H=()=>["",fi,Ui],K=()=>["auto",Tc,Ve],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Ve],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>[Tc,Ve];return{cacheSize:500,separator:":",theme:{colors:[Fl],spacing:[fi,Ui],blur:["none","",$i,Ve],brightness:de(),borderColor:[e],borderRadius:["none","","full",$i,Ve],borderSpacing:R(),borderWidth:H(),contrast:de(),grayscale:L(),hueRotate:de(),invert:L(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[hO,Ui],inset:U(),margin:U(),opacity:de(),padding:R(),saturate:de(),scale:de(),sepia:L(),skew:de(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[$i]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),Ve]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dl,Ve]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Dl,Ve]}],"grid-cols":[{"grid-cols":[Fl]}],"col-start-end":[{col:["auto",{span:["full",Dl,Ve]},Ve]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Fl]}],"row-start-end":[{row:["auto",{span:[Dl,Ve]},Ve]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,t]}],"min-w":[{"min-w":[Ve,t,"min","max","fit"]}],"max-w":[{"max-w":[Ve,t,"none","full","min","max","fit","prose",{screen:[$i]},$i]}],h:[{h:[Ve,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$i,Ui]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",F1]}],"font-family":[{font:[Fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",Tc,F1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fi,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fi,Ui]}],"underline-offset":[{"underline-offset":["auto",fi,Ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),gO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:J()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[fi,Ve]}],"outline-w":[{outline:[fi,Ui]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[fi,Ui]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$i,yO]}],"shadow-color":[{shadow:[Fl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$i,Ve]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[m]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Dl,Ve]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fi,Ui,F1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SO=iO(CO);function Se(...e){return SO(lC(e))}const AO=gN,wC=E.forwardRef(({className:e,...t},r)=>g.jsx(rC,{ref:r,className:Se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));wC.displayName=rC.displayName;const bO=hf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_C=E.forwardRef(({className:e,variant:t,...r},n)=>g.jsx(nC,{ref:n,className:Se(bO({variant:t}),e),...r}));_C.displayName=nC.displayName;const TO=E.forwardRef(({className:e,...t},r)=>g.jsx(sC,{ref:r,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));TO.displayName=sC.displayName;const EC=E.forwardRef(({className:e,...t},r)=>g.jsx(oC,{ref:r,className:Se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:g.jsx(Co,{className:"h-4 w-4"})}));EC.displayName=oC.displayName;const CC=E.forwardRef(({className:e,...t},r)=>g.jsx(aC,{ref:r,className:Se("text-sm font-semibold",e),...t}));CC.displayName=aC.displayName;const SC=E.forwardRef(({className:e,...t},r)=>g.jsx(iC,{ref:r,className:Se("text-sm opacity-90",e),...t}));SC.displayName=iC.displayName;function kO(){const{toasts:e}=Do();return g.jsxs(AO,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return g.jsxs(_C,{...i,children:[g.jsxs("div",{className:"grid gap-1",children:[r&&g.jsx(CC,{children:r}),n&&g.jsx(SC,{children:n})]}),a,g.jsx(EC,{})]},t)}),g.jsx(wC,{})]})}var vy=["light","dark"],IO="(prefers-color-scheme: dark)",NO=E.createContext(void 0),OO={setTheme:e=>{},themes:[]},RO=()=>{var e;return(e=E.useContext(NO))!=null?e:OO};E.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:s,attrs:o,nonce:c})=>{let l=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?vy.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(v,p=!1,x=!0)=>{let y=s?s[v]:v,w=p?v+"|| ''":`'${y}'`,m="";return a&&x&&!p&&vy.includes(v)&&(m+=`d.style.colorScheme = '${v}';`),r==="class"?p||y?m+=`c.add(${w})`:m+="null":y&&(m+=`d[s](n,${w})`),m},h=e?`!function(){${u}${d(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${l})){var t='${IO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${d(s?"x[e]":"e",!0)}}${l?"":"else{"+d(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${d(s?"x[e]":"e",!0)}}else{${d(i,!1,!1)};}${f}}catch(t){}}();`;return E.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})});var PO=e=>{switch(e){case"success":return MO;case"info":return BO;case"warning":return LO;case"error":return jO;default:return null}},DO=Array(12).fill(0),FO=({visible:e,className:t})=>xe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},xe.createElement("div",{className:"sonner-spinner"},DO.map((r,n)=>xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),MO=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),LO=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BO=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),jO=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),UO=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$O=()=>{let[e,t]=xe.useState(document.hidden);return xe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Sv=1,HO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Sv++,i=this.toasts.find(o=>o.id===a),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(o=>o.id===a?(this.publish({...o,...e,id:a,title:r}),{...o,...e,id:a,dismissible:s,title:r}):o):this.addToast({title:r,...n,dismissible:s,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,s=n.then(async c=>{if(i=["resolve",c],xe.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(zO(c)&&!c.ok){a=!1;let l=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:l,description:u})}else if(t.success!==void 0){a=!1;let l=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:l,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let l=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:l,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),o=()=>new Promise((c,l)=>s.then(()=>i[0]==="reject"?l(i[1]):c(i[1])).catch(l));return typeof r!="string"&&typeof r!="number"?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Sv++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yn=new HO,VO=(e,t)=>{let r=(t==null?void 0:t.id)||Sv++;return yn.addToast({title:e,...t,id:r}),r},zO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",WO=VO,GO=()=>yn.toasts,XO=()=>yn.getActiveToasts(),ln=Object.assign(WO,{success:yn.success,info:yn.info,warning:yn.warning,error:yn.error,custom:yn.custom,message:yn.message,promise:yn.promise,dismiss:yn.dismiss,loading:yn.loading},{getHistory:GO,getToasts:XO});function KO(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}KO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function o0(e){return e.label!==void 0}var YO=3,qO="32px",ZO="16px",gy=4e3,QO=356,JO=14,e5=20,t5=200;function la(...e){return e.filter(Boolean).join(" ")}function r5(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var n5=e=>{var t,r,n,a,i,s,o,c,l,u,f;let{invert:d,toast:h,unstyled:v,interacting:p,setHeights:x,visibleToasts:y,heights:w,index:m,toasts:_,expanded:S,removeToast:A,defaultRichColors:C,closeButton:b,style:T,cancelButtonStyle:O,actionButtonStyle:U,className:R="",descriptionClassName:H="",duration:K,position:Q,gap:J,loadingIcon:se,expandByDefault:Y,classNames:L,icons:le,closeButtonAriaLabel:de="Close toast",pauseWhenPageIsHidden:N}=e,[G,V]=xe.useState(null),[z,W]=xe.useState(null),[X,ie]=xe.useState(!1),[ne,q]=xe.useState(!1),[ge,P]=xe.useState(!1),[De,oe]=xe.useState(!1),[Ee,Te]=xe.useState(!1),[ve,rt]=xe.useState(0),[Mt,Cr]=xe.useState(0),dr=xe.useRef(h.duration||K||gy),La=xe.useRef(null),hr=xe.useRef(null),Wt=m===0,gn=m+1<=y,ht=h.type,Sr=h.dismissible!==!1,Qt=h.className||"",lt=h.descriptionClassName||"",Fe=xe.useMemo(()=>w.findIndex(Le=>Le.toastId===h.id)||0,[w,h.id]),_t=xe.useMemo(()=>{var Le;return(Le=h.closeButton)!=null?Le:b},[h.closeButton,b]),Gt=xe.useMemo(()=>h.duration||K||gy,[h.duration,K]),Et=xe.useRef(0),Ar=xe.useRef(0),yl=xe.useRef(0),Bi=xe.useRef(null),[Jh,Uf]=Q.split("-"),wl=xe.useMemo(()=>w.reduce((Le,ot,gt)=>gt>=Fe?Le:Le+ot.height,0),[w,Fe]),_l=$O(),e1=h.invert||d,El=ht==="loading";Ar.current=xe.useMemo(()=>Fe*J+wl,[Fe,wl]),xe.useEffect(()=>{dr.current=Gt},[Gt]),xe.useEffect(()=>{ie(!0)},[]),xe.useEffect(()=>{let Le=hr.current;if(Le){let ot=Le.getBoundingClientRect().height;return Cr(ot),x(gt=>[{toastId:h.id,height:ot,position:h.position},...gt]),()=>x(gt=>gt.filter(Nn=>Nn.toastId!==h.id))}},[x,h.id]),xe.useLayoutEffect(()=>{if(!X)return;let Le=hr.current,ot=Le.style.height;Le.style.height="auto";let gt=Le.getBoundingClientRect().height;Le.style.height=ot,Cr(gt),x(Nn=>Nn.find(On=>On.toastId===h.id)?Nn.map(On=>On.toastId===h.id?{...On,height:gt}:On):[{toastId:h.id,height:gt,position:h.position},...Nn])},[X,h.title,h.description,x,h.id]);let In=xe.useCallback(()=>{q(!0),rt(Ar.current),x(Le=>Le.filter(ot=>ot.toastId!==h.id)),setTimeout(()=>{A(h)},t5)},[h,A,x,Ar]);xe.useEffect(()=>{if(h.promise&&ht==="loading"||h.duration===1/0||h.type==="loading")return;let Le;return S||p||N&&_l?(()=>{if(yl.current<Et.current){let ot=new Date().getTime()-Et.current;dr.current=dr.current-ot}yl.current=new Date().getTime()})():dr.current!==1/0&&(Et.current=new Date().getTime(),Le=setTimeout(()=>{var ot;(ot=h.onAutoClose)==null||ot.call(h,h),In()},dr.current)),()=>clearTimeout(Le)},[S,p,h,ht,N,_l,In]),xe.useEffect(()=>{h.delete&&In()},[In,h.delete]);function t1(){var Le,ot,gt;return le!=null&&le.loading?xe.createElement("div",{className:la(L==null?void 0:L.loader,(Le=h==null?void 0:h.classNames)==null?void 0:Le.loader,"sonner-loader"),"data-visible":ht==="loading"},le.loading):se?xe.createElement("div",{className:la(L==null?void 0:L.loader,(ot=h==null?void 0:h.classNames)==null?void 0:ot.loader,"sonner-loader"),"data-visible":ht==="loading"},se):xe.createElement(FO,{className:la(L==null?void 0:L.loader,(gt=h==null?void 0:h.classNames)==null?void 0:gt.loader),visible:ht==="loading"})}return xe.createElement("li",{tabIndex:0,ref:hr,className:la(R,Qt,L==null?void 0:L.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[ht],(r=h==null?void 0:h.classNames)==null?void 0:r[ht]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:C,"data-styled":!(h.jsx||h.unstyled||v),"data-mounted":X,"data-promise":!!h.promise,"data-swiped":Ee,"data-removed":ne,"data-visible":gn,"data-y-position":Jh,"data-x-position":Uf,"data-index":m,"data-front":Wt,"data-swiping":ge,"data-dismissible":Sr,"data-type":ht,"data-invert":e1,"data-swipe-out":De,"data-swipe-direction":z,"data-expanded":!!(S||Y&&X),style:{"--index":m,"--toasts-before":m,"--z-index":_.length-m,"--offset":`${ne?ve:Ar.current}px`,"--initial-height":Y?"auto":`${Mt}px`,...T,...h.style},onDragEnd:()=>{P(!1),V(null),Bi.current=null},onPointerDown:Le=>{El||!Sr||(La.current=new Date,rt(Ar.current),Le.target.setPointerCapture(Le.pointerId),Le.target.tagName!=="BUTTON"&&(P(!0),Bi.current={x:Le.clientX,y:Le.clientY}))},onPointerUp:()=>{var Le,ot,gt,Nn;if(De||!Sr)return;Bi.current=null;let On=Number(((Le=hr.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ba=Number(((ot=hr.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),li=new Date().getTime()-((gt=La.current)==null?void 0:gt.getTime()),Jr=G==="x"?On:Ba,ja=Math.abs(Jr)/li;if(Math.abs(Jr)>=e5||ja>.11){rt(Ar.current),(Nn=h.onDismiss)==null||Nn.call(h,h),W(G==="x"?On>0?"right":"left":Ba>0?"down":"up"),In(),oe(!0),Te(!1);return}P(!1),V(null)},onPointerMove:Le=>{var ot,gt,Nn,On;if(!Bi.current||!Sr||((ot=window.getSelection())==null?void 0:ot.toString().length)>0)return;let Ba=Le.clientY-Bi.current.y,li=Le.clientX-Bi.current.x,Jr=(gt=e.swipeDirections)!=null?gt:r5(Q);!G&&(Math.abs(li)>1||Math.abs(Ba)>1)&&V(Math.abs(li)>Math.abs(Ba)?"x":"y");let ja={x:0,y:0};G==="y"?(Jr.includes("top")||Jr.includes("bottom"))&&(Jr.includes("top")&&Ba<0||Jr.includes("bottom")&&Ba>0)&&(ja.y=Ba):G==="x"&&(Jr.includes("left")||Jr.includes("right"))&&(Jr.includes("left")&&li<0||Jr.includes("right")&&li>0)&&(ja.x=li),(Math.abs(ja.x)>0||Math.abs(ja.y)>0)&&Te(!0),(Nn=hr.current)==null||Nn.style.setProperty("--swipe-amount-x",`${ja.x}px`),(On=hr.current)==null||On.style.setProperty("--swipe-amount-y",`${ja.y}px`)}},_t&&!h.jsx?xe.createElement("button",{"aria-label":de,"data-disabled":El,"data-close-button":!0,onClick:El||!Sr?()=>{}:()=>{var Le;In(),(Le=h.onDismiss)==null||Le.call(h,h)},className:la(L==null?void 0:L.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},(i=le==null?void 0:le.close)!=null?i:UO):null,h.jsx||E.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:xe.createElement(xe.Fragment,null,ht||h.icon||h.promise?xe.createElement("div",{"data-icon":"",className:la(L==null?void 0:L.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||t1():null,h.type!=="loading"?h.icon||(le==null?void 0:le[ht])||PO(ht):null):null,xe.createElement("div",{"data-content":"",className:la(L==null?void 0:L.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},xe.createElement("div",{"data-title":"",className:la(L==null?void 0:L.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?xe.createElement("div",{"data-description":"",className:la(H,lt,L==null?void 0:L.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),E.isValidElement(h.cancel)?h.cancel:h.cancel&&o0(h.cancel)?xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:Le=>{var ot,gt;o0(h.cancel)&&Sr&&((gt=(ot=h.cancel).onClick)==null||gt.call(ot,Le),In())},className:la(L==null?void 0:L.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,E.isValidElement(h.action)?h.action:h.action&&o0(h.action)?xe.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||U,onClick:Le=>{var ot,gt;o0(h.action)&&((gt=(ot=h.action).onClick)==null||gt.call(ot,Le),!Le.defaultPrevented&&In())},className:la(L==null?void 0:L.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function xy(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function a5(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,s=i?"--mobile-offset":"--offset",o=i?ZO:qO;function c(l){["top","right","bottom","left"].forEach(u=>{r[`${s}-${u}`]=typeof l=="number"?`${l}px`:l})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(l=>{n[l]===void 0?r[`${s}-${l}`]=o:r[`${s}-${l}`]=typeof n[l]=="number"?`${n[l]}px`:n[l]}):c(o)}),r}var i5=E.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:c,mobileOffset:l,theme:u="light",richColors:f,duration:d,style:h,visibleToasts:v=YO,toastOptions:p,dir:x=xy(),gap:y=JO,loadingIcon:w,icons:m,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[A,C]=xe.useState([]),b=xe.useMemo(()=>Array.from(new Set([n].concat(A.filter(N=>N.position).map(N=>N.position)))),[A,n]),[T,O]=xe.useState([]),[U,R]=xe.useState(!1),[H,K]=xe.useState(!1),[Q,J]=xe.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=xe.useRef(null),Y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=xe.useRef(null),le=xe.useRef(!1),de=xe.useCallback(N=>{C(G=>{var V;return(V=G.find(z=>z.id===N.id))!=null&&V.delete||yn.dismiss(N.id),G.filter(({id:z})=>z!==N.id)})},[]);return xe.useEffect(()=>yn.subscribe(N=>{if(N.dismiss){C(G=>G.map(V=>V.id===N.id?{...V,delete:!0}:V));return}setTimeout(()=>{P4.flushSync(()=>{C(G=>{let V=G.findIndex(z=>z.id===N.id);return V!==-1?[...G.slice(0,V),{...G[V],...N},...G.slice(V+1)]:[N,...G]})})})}),[]),xe.useEffect(()=>{if(u!=="system"){J(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let N=window.matchMedia("(prefers-color-scheme: dark)");try{N.addEventListener("change",({matches:G})=>{J(G?"dark":"light")})}catch{N.addListener(({matches:V})=>{try{J(V?"dark":"light")}catch(z){console.error(z)}})}},[u]),xe.useEffect(()=>{A.length<=1&&R(!1)},[A]),xe.useEffect(()=>{let N=G=>{var V,z;a.every(W=>G[W]||G.code===W)&&(R(!0),(V=se.current)==null||V.focus()),G.code==="Escape"&&(document.activeElement===se.current||(z=se.current)!=null&&z.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[a]),xe.useEffect(()=>{if(se.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,le.current=!1)}},[se.current]),xe.createElement("section",{ref:t,"aria-label":`${_} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},b.map((N,G)=>{var V;let[z,W]=N.split("-");return A.length?xe.createElement("ol",{key:N,dir:x==="auto"?xy():x,tabIndex:-1,ref:se,className:o,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":z,"data-lifted":U&&A.length>1&&!i,"data-x-position":W,style:{"--front-toast-height":`${((V=T[0])==null?void 0:V.height)||0}px`,"--width":`${QO}px`,"--gap":`${y}px`,...h,...a5(c,l)},onBlur:X=>{le.current&&!X.currentTarget.contains(X.relatedTarget)&&(le.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||le.current||(le.current=!0,L.current=X.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{H||R(!1)},onDragEnd:()=>R(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},A.filter(X=>!X.position&&G===0||X.position===N).map((X,ie)=>{var ne,q;return xe.createElement(n5,{key:X.id,icons:m,index:ie,toast:X,defaultRichColors:f,duration:(ne=p==null?void 0:p.duration)!=null?ne:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:v,closeButton:(q=p==null?void 0:p.closeButton)!=null?q:s,interacting:H,position:N,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:de,toasts:A.filter(ge=>ge.position==X.position),heights:T.filter(ge=>ge.position==X.position),setHeights:O,expandByDefault:i,gap:y,loadingIcon:w,expanded:U,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const s5=({...e})=>{const{theme:t="system"}=RO();return g.jsx(i5,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var o5=Og[" useId ".trim().toString()]||(()=>{}),c5=0;function _s(e){const[t,r]=E.useState(o5());return Mr(()=>{e||r(n=>n??String(c5++))},[e]),e||(t?`radix-${t}`:"")}const l5=["top","right","bottom","left"],ks=Math.min,Pn=Math.max,Cd=Math.round,c0=Math.floor,Ja=e=>({x:e,y:e}),u5={left:"right",right:"left",bottom:"top",top:"bottom"},f5={start:"end",end:"start"};function Av(e,t,r){return Pn(e,ks(t,r))}function Oi(e,t){return typeof e=="function"?e(t):e}function Ri(e){return e.split("-")[0]}function ll(e){return e.split("-")[1]}function Ox(e){return e==="x"?"y":"x"}function Rx(e){return e==="y"?"height":"width"}const d5=new Set(["top","bottom"]);function Ya(e){return d5.has(Ri(e))?"y":"x"}function Px(e){return Ox(Ya(e))}function h5(e,t,r){r===void 0&&(r=!1);const n=ll(e),a=Px(e),i=Rx(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Sd(s)),[s,Sd(s)]}function p5(e){const t=Sd(e);return[bv(e),t,bv(t)]}function bv(e){return e.replace(/start|end/g,t=>f5[t])}const my=["left","right"],yy=["right","left"],v5=["top","bottom"],g5=["bottom","top"];function x5(e,t,r){switch(e){case"top":case"bottom":return r?t?yy:my:t?my:yy;case"left":case"right":return t?v5:g5;default:return[]}}function m5(e,t,r,n){const a=ll(e);let i=x5(Ri(e),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(bv)))),i}function Sd(e){return e.replace(/left|right|bottom|top/g,t=>u5[t])}function y5(e){return{top:0,right:0,bottom:0,left:0,...e}}function AC(e){return typeof e!="number"?y5(e):{top:e,right:e,bottom:e,left:e}}function Ad(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function wy(e,t,r){let{reference:n,floating:a}=e;const i=Ya(t),s=Px(t),o=Rx(s),c=Ri(t),l=i==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,d=n[o]/2-a[o]/2;let h;switch(c){case"top":h={x:u,y:n.y-a.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-a.width,y:f};break;default:h={x:n.x,y:n.y}}switch(ll(t)){case"start":h[s]-=d*(r&&l?-1:1);break;case"end":h[s]+=d*(r&&l?-1:1);break}return h}const w5=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,o=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=wy(l,n,c),d=n,h={},v=0;for(let p=0;p<o.length;p++){const{name:x,fn:y}=o[p],{x:w,y:m,data:_,reset:S}=await y({x:u,y:f,initialPlacement:n,placement:d,strategy:a,middlewareData:h,rects:l,platform:s,elements:{reference:e,floating:t}});u=w??u,f=m??f,h={...h,[x]:{...h[x],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(l=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:u,y:f}=wy(l,d,c)),p=-1)}return{x:u,y:f,placement:d,strategy:a,middlewareData:h}};async function Hu(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:s,elements:o,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Oi(t,e),v=AC(h),x=o[d?f==="floating"?"reference":"floating":f],y=Ad(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:l,rootBoundary:u,strategy:c})),w=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,m=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),_=await(i.isElement==null?void 0:i.isElement(m))?await(i.getScale==null?void 0:i.getScale(m))||{x:1,y:1}:{x:1,y:1},S=Ad(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:m,strategy:c}):w);return{top:(y.top-S.top+v.top)/_.y,bottom:(S.bottom-y.bottom+v.bottom)/_.y,left:(y.left-S.left+v.left)/_.x,right:(S.right-y.right+v.right)/_.x}}const _5=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:o,middlewareData:c}=t,{element:l,padding:u=0}=Oi(e,t)||{};if(l==null)return{};const f=AC(u),d={x:r,y:n},h=Px(a),v=Rx(h),p=await s.getDimensions(l),x=h==="y",y=x?"top":"left",w=x?"bottom":"right",m=x?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[h]-d[h]-i.floating[v],S=d[h]-i.reference[h],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let C=A?A[m]:0;(!C||!await(s.isElement==null?void 0:s.isElement(A)))&&(C=o.floating[m]||i.floating[v]);const b=_/2-S/2,T=C/2-p[v]/2-1,O=ks(f[y],T),U=ks(f[w],T),R=O,H=C-p[v]-U,K=C/2-p[v]/2+b,Q=Av(R,K,H),J=!c.arrow&&ll(a)!=null&&K!==Q&&i.reference[v]/2-(K<R?O:U)-p[v]/2<0,se=J?K<R?K-R:K-H:0;return{[h]:d[h]+se,data:{[h]:Q,centerOffset:K-Q-se,...J&&{alignmentOffset:se}},reset:J}}}),E5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...x}=Oi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Ri(a),w=Ya(o),m=Ri(o)===o,_=await(c.isRTL==null?void 0:c.isRTL(l.floating)),S=d||(m||!p?[Sd(o)]:p5(o)),A=v!=="none";!d&&A&&S.push(...m5(o,p,v,_));const C=[o,...S],b=await Hu(t,x),T=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&T.push(b[y]),f){const K=h5(a,s,_);T.push(b[K[0]],b[K[1]])}if(O=[...O,{placement:a,overflows:T}],!T.every(K=>K<=0)){var U,R;const K=(((U=i.flip)==null?void 0:U.index)||0)+1,Q=C[K];if(Q&&(!(f==="alignment"?w!==Ya(Q):!1)||O.every(Y=>Y.overflows[0]>0&&Ya(Y.placement)===w)))return{data:{index:K,overflows:O},reset:{placement:Q}};let J=(R=O.filter(se=>se.overflows[0]<=0).sort((se,Y)=>se.overflows[1]-Y.overflows[1])[0])==null?void 0:R.placement;if(!J)switch(h){case"bestFit":{var H;const se=(H=O.filter(Y=>{if(A){const L=Ya(Y.placement);return L===w||L==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(L=>L>0).reduce((L,le)=>L+le,0)]).sort((Y,L)=>Y[1]-L[1])[0])==null?void 0:H[0];se&&(J=se);break}case"initialPlacement":J=o;break}if(a!==J)return{reset:{placement:J}}}return{}}}};function _y(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ey(e){return l5.some(t=>e[t]>=0)}const C5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Oi(e,t);switch(n){case"referenceHidden":{const i=await Hu(t,{...a,elementContext:"reference"}),s=_y(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Ey(s)}}}case"escaped":{const i=await Hu(t,{...a,altBoundary:!0}),s=_y(i,r.floating);return{data:{escapedOffsets:s,escaped:Ey(s)}}}default:return{}}}}},bC=new Set(["left","top"]);async function S5(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=Ri(r),o=ll(r),c=Ya(r)==="y",l=bC.has(s)?-1:1,u=i&&c?-1:1,f=Oi(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof v=="number"&&(h=o==="end"?v*-1:v),c?{x:h*u,y:d*l}:{x:d*l,y:h*u}}const A5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:o}=t,c=await S5(t,e);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},b5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:o={fn:x=>{let{x:y,y:w}=x;return{x:y,y:w}}},...c}=Oi(e,t),l={x:r,y:n},u=await Hu(t,c),f=Ya(Ri(a)),d=Ox(f);let h=l[d],v=l[f];if(i){const x=d==="y"?"top":"left",y=d==="y"?"bottom":"right",w=h+u[x],m=h-u[y];h=Av(w,h,m)}if(s){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=v+u[x],m=v-u[y];v=Av(w,v,m)}const p=o.fn({...t,[d]:h,[f]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[d]:i,[f]:s}}}}}},T5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=t,{offset:o=0,mainAxis:c=!0,crossAxis:l=!0}=Oi(e,t),u={x:r,y:n},f=Ya(a),d=Ox(f);let h=u[d],v=u[f];const p=Oi(o,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const m=d==="y"?"height":"width",_=i.reference[d]-i.floating[m]+x.mainAxis,S=i.reference[d]+i.reference[m]-x.mainAxis;h<_?h=_:h>S&&(h=S)}if(l){var y,w;const m=d==="y"?"width":"height",_=bC.has(Ri(a)),S=i.reference[f]-i.floating[m]+(_&&((y=s.offset)==null?void 0:y[f])||0)+(_?0:x.crossAxis),A=i.reference[f]+i.reference[m]+(_?0:((w=s.offset)==null?void 0:w[f])||0)-(_?x.crossAxis:0);v<S?v=S:v>A&&(v=A)}return{[d]:h,[f]:v}}}},k5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:s,elements:o}=t,{apply:c=()=>{},...l}=Oi(e,t),u=await Hu(t,l),f=Ri(a),d=ll(a),h=Ya(a)==="y",{width:v,height:p}=i.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=d===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(y=f,x=d==="end"?"top":"bottom");const w=p-u.top-u.bottom,m=v-u.left-u.right,_=ks(p-u[x],w),S=ks(v-u[y],m),A=!t.middlewareData.shift;let C=_,b=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(b=m),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=w),A&&!d){const O=Pn(u.left,0),U=Pn(u.right,0),R=Pn(u.top,0),H=Pn(u.bottom,0);h?b=v-2*(O!==0||U!==0?O+U:Pn(u.left,u.right)):C=p-2*(R!==0||H!==0?R+H:Pn(u.top,u.bottom))}await c({...t,availableWidth:b,availableHeight:C});const T=await s.getDimensions(o.floating);return v!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function hh(){return typeof window<"u"}function ul(e){return TC(e)?(e.nodeName||"").toLowerCase():"#document"}function Bn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function si(e){var t;return(t=(TC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function TC(e){return hh()?e instanceof Node||e instanceof Bn(e).Node:!1}function Da(e){return hh()?e instanceof Element||e instanceof Bn(e).Element:!1}function ni(e){return hh()?e instanceof HTMLElement||e instanceof Bn(e).HTMLElement:!1}function Cy(e){return!hh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Bn(e).ShadowRoot}const I5=new Set(["inline","contents"]);function vf(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Fa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!I5.has(a)}const N5=new Set(["table","td","th"]);function O5(e){return N5.has(ul(e))}const R5=[":popover-open",":modal"];function ph(e){return R5.some(t=>{try{return e.matches(t)}catch{return!1}})}const P5=["transform","translate","scale","rotate","perspective"],D5=["transform","translate","scale","rotate","perspective","filter"],F5=["paint","layout","strict","content"];function Dx(e){const t=Fx(),r=Da(e)?Fa(e):e;return P5.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||D5.some(n=>(r.willChange||"").includes(n))||F5.some(n=>(r.contain||"").includes(n))}function M5(e){let t=Is(e);for(;ni(t)&&!Qc(t);){if(Dx(t))return t;if(ph(t))return null;t=Is(t)}return null}function Fx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const L5=new Set(["html","body","#document"]);function Qc(e){return L5.has(ul(e))}function Fa(e){return Bn(e).getComputedStyle(e)}function vh(e){return Da(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Is(e){if(ul(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Cy(e)&&e.host||si(e);return Cy(t)?t.host:t}function kC(e){const t=Is(e);return Qc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ni(t)&&vf(t)?t:kC(t)}function Vu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=kC(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),s=Bn(a);if(i){const o=Tv(s);return t.concat(s,s.visualViewport||[],vf(a)?a:[],o&&r?Vu(o):[])}return t.concat(a,Vu(a,[],r))}function Tv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function IC(e){const t=Fa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ni(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,o=Cd(r)!==i||Cd(n)!==s;return o&&(r=i,n=s),{width:r,height:n,$:o}}function Mx(e){return Da(e)?e:e.contextElement}function kc(e){const t=Mx(e);if(!ni(t))return Ja(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=IC(t);let s=(i?Cd(r.width):r.width)/n,o=(i?Cd(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const B5=Ja(0);function NC(e){const t=Bn(e);return!Fx()||!t.visualViewport?B5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function j5(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Bn(e)?!1:t}function So(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Mx(e);let s=Ja(1);t&&(n?Da(n)&&(s=kc(n)):s=kc(e));const o=j5(i,r,n)?NC(i):Ja(0);let c=(a.left+o.x)/s.x,l=(a.top+o.y)/s.y,u=a.width/s.x,f=a.height/s.y;if(i){const d=Bn(i),h=n&&Da(n)?Bn(n):n;let v=d,p=Tv(v);for(;p&&n&&h!==v;){const x=kc(p),y=p.getBoundingClientRect(),w=Fa(p),m=y.left+(p.clientLeft+parseFloat(w.paddingLeft))*x.x,_=y.top+(p.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,l*=x.y,u*=x.x,f*=x.y,c+=m,l+=_,v=Bn(p),p=Tv(v)}}return Ad({width:u,height:f,x:c,y:l})}function Lx(e,t){const r=vh(e).scrollLeft;return t?t.left+r:So(si(e)).left+r}function OC(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:Lx(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function U5(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",s=si(n),o=t?ph(t.floating):!1;if(n===s||o&&i)return r;let c={scrollLeft:0,scrollTop:0},l=Ja(1);const u=Ja(0),f=ni(n);if((f||!f&&!i)&&((ul(n)!=="body"||vf(s))&&(c=vh(n)),ni(n))){const h=So(n);l=kc(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const d=s&&!f&&!i?OC(s,c,!0):Ja(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-c.scrollLeft*l.x+u.x+d.x,y:r.y*l.y-c.scrollTop*l.y+u.y+d.y}}function $5(e){return Array.from(e.getClientRects())}function H5(e){const t=si(e),r=vh(e),n=e.ownerDocument.body,a=Pn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Pn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Lx(e);const o=-r.scrollTop;return Fa(n).direction==="rtl"&&(s+=Pn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:o}}function V5(e,t){const r=Bn(e),n=si(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,o=0,c=0;if(a){i=a.width,s=a.height;const l=Fx();(!l||l&&t==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:i,height:s,x:o,y:c}}const z5=new Set(["absolute","fixed"]);function W5(e,t){const r=So(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=ni(e)?kc(e):Ja(1),s=e.clientWidth*i.x,o=e.clientHeight*i.y,c=a*i.x,l=n*i.y;return{width:s,height:o,x:c,y:l}}function Sy(e,t,r){let n;if(t==="viewport")n=V5(e,r);else if(t==="document")n=H5(si(e));else if(Da(t))n=W5(t,r);else{const a=NC(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ad(n)}function RC(e,t){const r=Is(e);return r===t||!Da(r)||Qc(r)?!1:Fa(r).position==="fixed"||RC(r,t)}function G5(e,t){const r=t.get(e);if(r)return r;let n=Vu(e,[],!1).filter(o=>Da(o)&&ul(o)!=="body"),a=null;const i=Fa(e).position==="fixed";let s=i?Is(e):e;for(;Da(s)&&!Qc(s);){const o=Fa(s),c=Dx(s);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&z5.has(a.position)||vf(s)&&!c&&RC(e,s))?n=n.filter(u=>u!==s):a=o,s=Is(s)}return t.set(e,n),n}function X5(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?ph(t)?[]:G5(t,this._c):[].concat(r),n],o=s[0],c=s.reduce((l,u)=>{const f=Sy(t,u,a);return l.top=Pn(f.top,l.top),l.right=ks(f.right,l.right),l.bottom=ks(f.bottom,l.bottom),l.left=Pn(f.left,l.left),l},Sy(t,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function K5(e){const{width:t,height:r}=IC(e);return{width:t,height:r}}function Y5(e,t,r){const n=ni(t),a=si(t),i=r==="fixed",s=So(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const c=Ja(0);function l(){c.x=Lx(a)}if(n||!n&&!i)if((ul(t)!=="body"||vf(a))&&(o=vh(t)),n){const h=So(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&l();i&&!n&&a&&l();const u=a&&!n&&!i?OC(a,o):Ja(0),f=s.left+o.scrollLeft-c.x-u.x,d=s.top+o.scrollTop-c.y-u.y;return{x:f,y:d,width:s.width,height:s.height}}function M1(e){return Fa(e).position==="static"}function Ay(e,t){if(!ni(e)||Fa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return si(e)===r&&(r=r.ownerDocument.body),r}function PC(e,t){const r=Bn(e);if(ph(e))return r;if(!ni(e)){let a=Is(e);for(;a&&!Qc(a);){if(Da(a)&&!M1(a))return a;a=Is(a)}return r}let n=Ay(e,t);for(;n&&O5(n)&&M1(n);)n=Ay(n,t);return n&&Qc(n)&&M1(n)&&!Dx(n)?r:n||M5(e)||r}const q5=async function(e){const t=this.getOffsetParent||PC,r=this.getDimensions,n=await r(e.floating);return{reference:Y5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Z5(e){return Fa(e).direction==="rtl"}const Q5={convertOffsetParentRelativeRectToViewportRelativeRect:U5,getDocumentElement:si,getClippingRect:X5,getOffsetParent:PC,getElementRects:q5,getClientRects:$5,getDimensions:K5,getScale:kc,isElement:Da,isRTL:Z5};function DC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function J5(e,t){let r=null,n;const a=si(e);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const l=e.getBoundingClientRect(),{left:u,top:f,width:d,height:h}=l;if(o||t(),!d||!h)return;const v=c0(f),p=c0(a.clientWidth-(u+d)),x=c0(a.clientHeight-(f+h)),y=c0(u),m={rootMargin:-v+"px "+-p+"px "+-x+"px "+-y+"px",threshold:Pn(0,ks(1,c))||1};let _=!0;function S(A){const C=A[0].intersectionRatio;if(C!==c){if(!_)return s();C?s(!1,C):n=setTimeout(()=>{s(!1,1e-7)},1e3)}C===1&&!DC(l,e.getBoundingClientRect())&&s(),_=!1}try{r=new IntersectionObserver(S,{...m,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,m)}r.observe(e)}return s(!0),i}function eR(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,l=Mx(e),u=a||i?[...l?Vu(l):[],...Vu(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=l&&o?J5(l,r):null;let d=-1,h=null;s&&(h=new ResizeObserver(y=>{let[w]=y;w&&w.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var m;(m=h)==null||m.observe(t)})),r()}),l&&!c&&h.observe(l),h.observe(t));let v,p=c?So(e):null;c&&x();function x(){const y=So(e);p&&!DC(p,y)&&r(),p=y,v=requestAnimationFrame(x)}return r(),()=>{var y;u.forEach(w=>{a&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,c&&cancelAnimationFrame(v)}}const tR=A5,rR=b5,nR=E5,aR=k5,iR=C5,by=_5,sR=T5,oR=(e,t,r)=>{const n=new Map,a={platform:Q5,...r},i={...a.platform,_c:n};return w5(e,t,{...a,platform:i})};var cR=typeof document<"u",lR=function(){},X0=cR?E.useLayoutEffect:lR;function bd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!bd(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!bd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function FC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ty(e,t){const r=FC(e);return Math.round(t*r)/r}function L1(e){const t=E.useRef(e);return X0(()=>{t.current=e}),t}function uR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:c,open:l}=e,[u,f]=E.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=E.useState(n);bd(d,n)||h(n);const[v,p]=E.useState(null),[x,y]=E.useState(null),w=E.useCallback(Y=>{Y!==A.current&&(A.current=Y,p(Y))},[]),m=E.useCallback(Y=>{Y!==C.current&&(C.current=Y,y(Y))},[]),_=i||v,S=s||x,A=E.useRef(null),C=E.useRef(null),b=E.useRef(u),T=c!=null,O=L1(c),U=L1(a),R=L1(l),H=E.useCallback(()=>{if(!A.current||!C.current)return;const Y={placement:t,strategy:r,middleware:d};U.current&&(Y.platform=U.current),oR(A.current,C.current,Y).then(L=>{const le={...L,isPositioned:R.current!==!1};K.current&&!bd(b.current,le)&&(b.current=le,Po.flushSync(()=>{f(le)}))})},[d,t,r,U,R]);X0(()=>{l===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f(Y=>({...Y,isPositioned:!1})))},[l]);const K=E.useRef(!1);X0(()=>(K.current=!0,()=>{K.current=!1}),[]),X0(()=>{if(_&&(A.current=_),S&&(C.current=S),_&&S){if(O.current)return O.current(_,S,H);H()}},[_,S,H,O,T]);const Q=E.useMemo(()=>({reference:A,floating:C,setReference:w,setFloating:m}),[w,m]),J=E.useMemo(()=>({reference:_,floating:S}),[_,S]),se=E.useMemo(()=>{const Y={position:r,left:0,top:0};if(!J.floating)return Y;const L=Ty(J.floating,u.x),le=Ty(J.floating,u.y);return o?{...Y,transform:"translate("+L+"px, "+le+"px)",...FC(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:le}},[r,o,J.floating,u.x,u.y]);return E.useMemo(()=>({...u,update:H,refs:Q,elements:J,floatingStyles:se}),[u,H,Q,J,se])}const fR=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?by({element:n.current,padding:a}).fn(r):{}:n?by({element:n,padding:a}).fn(r):{}}}},dR=(e,t)=>({...tR(e),options:[e,t]}),hR=(e,t)=>({...rR(e),options:[e,t]}),pR=(e,t)=>({...sR(e),options:[e,t]}),vR=(e,t)=>({...nR(e),options:[e,t]}),gR=(e,t)=>({...aR(e),options:[e,t]}),xR=(e,t)=>({...iR(e),options:[e,t]}),mR=(e,t)=>({...fR(e),options:[e,t]});var yR="Arrow",MC=E.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return g.jsx(ze.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});MC.displayName=yR;var wR=MC;function _R(e){const[t,r]=E.useState(void 0);return Mr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,o;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;s=l.inlineSize,o=l.blockSize}else s=e.offsetWidth,o=e.offsetHeight;r({width:s,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Bx="Popper",[LC,gh]=Fi(Bx),[ER,BC]=LC(Bx),jC=e=>{const{__scopePopper:t,children:r}=e,[n,a]=E.useState(null);return g.jsx(ER,{scope:t,anchor:n,onAnchorChange:a,children:r})};jC.displayName=Bx;var UC="PopperAnchor",$C=E.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=BC(UC,r),s=E.useRef(null),o=vt(t,s);return E.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:g.jsx(ze.div,{...a,ref:o})});$C.displayName=UC;var jx="PopperContent",[CR,SR]=LC(jx),HC=E.forwardRef((e,t)=>{var X,ie,ne,q,ge,P;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:v,...p}=e,x=BC(jx,r),[y,w]=E.useState(null),m=vt(t,De=>w(De)),[_,S]=E.useState(null),A=_R(_),C=(A==null?void 0:A.width)??0,b=(A==null?void 0:A.height)??0,T=n+(i!=="center"?"-"+i:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},U=Array.isArray(l)?l:[l],R=U.length>0,H={padding:O,boundary:U.filter(bR),altBoundary:R},{refs:K,floatingStyles:Q,placement:J,isPositioned:se,middlewareData:Y}=uR({strategy:"fixed",placement:T,whileElementsMounted:(...De)=>eR(...De,{animationFrame:h==="always"}),elements:{reference:x.anchor},middleware:[dR({mainAxis:a+b,alignmentAxis:s}),c&&hR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?pR():void 0,...H}),c&&vR({...H}),gR({...H,apply:({elements:De,rects:oe,availableWidth:Ee,availableHeight:Te})=>{const{width:ve,height:rt}=oe.reference,Mt=De.floating.style;Mt.setProperty("--radix-popper-available-width",`${Ee}px`),Mt.setProperty("--radix-popper-available-height",`${Te}px`),Mt.setProperty("--radix-popper-anchor-width",`${ve}px`),Mt.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),_&&mR({element:_,padding:o}),TR({arrowWidth:C,arrowHeight:b}),d&&xR({strategy:"referenceHidden",...H})]}),[L,le]=WC(J),de=ia(v);Mr(()=>{se&&(de==null||de())},[se,de]);const N=(X=Y.arrow)==null?void 0:X.x,G=(ie=Y.arrow)==null?void 0:ie.y,V=((ne=Y.arrow)==null?void 0:ne.centerOffset)!==0,[z,W]=E.useState();return Mr(()=>{y&&W(window.getComputedStyle(y).zIndex)},[y]),g.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:se?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(q=Y.transformOrigin)==null?void 0:q.x,(ge=Y.transformOrigin)==null?void 0:ge.y].join(" "),...((P=Y.hide)==null?void 0:P.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:g.jsx(CR,{scope:r,placedSide:L,onArrowChange:S,arrowX:N,arrowY:G,shouldHideArrow:V,children:g.jsx(ze.div,{"data-side":L,"data-align":le,...p,ref:m,style:{...p.style,animation:se?void 0:"none"}})})})});HC.displayName=jx;var VC="PopperArrow",AR={top:"bottom",right:"left",bottom:"top",left:"right"},zC=E.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=SR(VC,n),s=AR[i.placedSide];return g.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:g.jsx(wR,{...a,ref:r,style:{...a.style,display:"block"}})})});zC.displayName=VC;function bR(e){return e!==null}var TR=e=>({name:"transformOrigin",options:e,fn(t){var x,y,w;const{placement:r,rects:n,middlewareData:a}=t,s=((x=a.arrow)==null?void 0:x.centerOffset)!==0,o=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[l,u]=WC(r),f={start:"0%",center:"50%",end:"100%"}[u],d=(((y=a.arrow)==null?void 0:y.x)??0)+o/2,h=(((w=a.arrow)==null?void 0:w.y)??0)+c/2;let v="",p="";return l==="bottom"?(v=s?f:`${d}px`,p=`${-c}px`):l==="top"?(v=s?f:`${d}px`,p=`${n.floating.height+c}px`):l==="right"?(v=`${-c}px`,p=s?f:`${h}px`):l==="left"&&(v=`${n.floating.width+c}px`,p=s?f:`${h}px`),{data:{x:v,y:p}}}});function WC(e){const[t,r="center"]=e.split("-");return[t,r]}var kR=jC,GC=$C,XC=HC,KC=zC,[xh,Xq]=Fi("Tooltip",[gh]),Ux=gh(),YC="TooltipProvider",IR=700,ky="tooltip.open",[NR,qC]=xh(YC),ZC=e=>{const{__scopeTooltip:t,delayDuration:r=IR,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,s=E.useRef(!0),o=E.useRef(!1),c=E.useRef(0);return E.useEffect(()=>{const l=c.current;return()=>window.clearTimeout(l)},[]),g.jsx(NR,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:E.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:E.useCallback(l=>{o.current=l},[]),disableHoverableContent:a,children:i})};ZC.displayName=YC;var QC="Tooltip",[Kq,mh]=xh(QC),kv="TooltipTrigger",OR=E.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=mh(kv,r),i=qC(kv,r),s=Ux(r),o=E.useRef(null),c=vt(t,o,a.onTriggerChange),l=E.useRef(!1),u=E.useRef(!1),f=E.useCallback(()=>l.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),g.jsx(GC,{asChild:!0,...s,children:g.jsx(ze.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Pe(e.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Pe(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Pe(e.onPointerDown,()=>{a.open&&a.onClose(),l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Pe(e.onFocus,()=>{l.current||a.onOpen()}),onBlur:Pe(e.onBlur,a.onClose),onClick:Pe(e.onClick,a.onClose)})})});OR.displayName=kv;var RR="TooltipPortal",[Yq,PR]=xh(RR,{forceMount:void 0}),Jc="TooltipContent",JC=E.forwardRef((e,t)=>{const r=PR(Jc,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,s=mh(Jc,e.__scopeTooltip);return g.jsx(Fo,{present:n||s.open,children:s.disableHoverableContent?g.jsx(eS,{side:a,...i,ref:t}):g.jsx(DR,{side:a,...i,ref:t})})}),DR=E.forwardRef((e,t)=>{const r=mh(Jc,e.__scopeTooltip),n=qC(Jc,e.__scopeTooltip),a=E.useRef(null),i=vt(t,a),[s,o]=E.useState(null),{trigger:c,onClose:l}=r,u=a.current,{onPointerInTransitChange:f}=n,d=E.useCallback(()=>{o(null),f(!1)},[f]),h=E.useCallback((v,p)=>{const x=v.currentTarget,y={x:v.clientX,y:v.clientY},w=jR(y,x.getBoundingClientRect()),m=UR(y,w),_=$R(p.getBoundingClientRect()),S=VR([...m,..._]);o(S),f(!0)},[f]);return E.useEffect(()=>()=>d(),[d]),E.useEffect(()=>{if(c&&u){const v=x=>h(x,u),p=x=>h(x,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",p)}}},[c,u,h,d]),E.useEffect(()=>{if(s){const v=p=>{const x=p.target,y={x:p.clientX,y:p.clientY},w=(c==null?void 0:c.contains(x))||(u==null?void 0:u.contains(x)),m=!HR(y,s);w?d():m&&(d(),l())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,s,l,d]),g.jsx(eS,{...e,ref:i})}),[FR,MR]=xh(QC,{isInside:!1}),LR=L4("TooltipContent"),eS=E.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...o}=e,c=mh(Jc,r),l=Ux(r),{onClose:u}=c;return E.useEffect(()=>(document.addEventListener(ky,u),()=>document.removeEventListener(ky,u)),[u]),E.useEffect(()=>{if(c.trigger){const f=d=>{const h=d.target;h!=null&&h.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),g.jsx(ff,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:g.jsxs(XC,{"data-state":c.stateAttribute,...l,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(LR,{children:n}),g.jsx(FR,{scope:r,isInside:!0,children:g.jsx(QI,{id:c.contentId,role:"tooltip",children:a||n})})]})})});JC.displayName=Jc;var tS="TooltipArrow",BR=E.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Ux(r);return MR(tS,r).isInside?null:g.jsx(KC,{...a,...n,ref:t})});BR.displayName=tS;function jR(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function UR(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function $R(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function HR(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const o=t[i],c=t[s],l=o.x,u=o.y,f=c.x,d=c.y;u>n!=d>n&&r<(f-l)*(n-u)/(d-u)+l&&(a=!a)}return a}function VR(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),zR(t)}function zR(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],s=r[r.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var WR=ZC,rS=JC;const GR=WR,XR=E.forwardRef(({className:e,sideOffset:t=4,...r},n)=>g.jsx(rS,{ref:n,sideOffset:t,className:Se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));XR.displayName=rS.displayName;var yh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wh=typeof window>"u"||"Deno"in globalThis;function xa(){}function KR(e,t){return typeof e=="function"?e(t):e}function YR(e){return typeof e=="number"&&e>=0&&e!==1/0}function qR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Iv(e,t){return typeof e=="function"?e(t):e}function ZR(e,t){return typeof e=="function"?e(t):e}function Iy(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==$x(s,t.options))return!1}else if(!Wu(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function Ny(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(zu(t.options.mutationKey)!==zu(i))return!1}else if(!Wu(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function $x(e,t){return((t==null?void 0:t.queryKeyHashFn)||zu)(e)}function zu(e){return JSON.stringify(e,(t,r)=>Nv(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Wu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Wu(e[r],t[r])):!1}function nS(e,t){if(e===t)return e;const r=Oy(e)&&Oy(t);if(r||Nv(e)&&Nv(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),s=i.length,o=r?[]:{},c=new Set(n);let l=0;for(let u=0;u<s;u++){const f=r?u:i[u];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(o[f]=void 0,l++):(o[f]=nS(e[f],t[f]),o[f]===e[f]&&e[f]!==void 0&&l++)}return a===s&&l===a?e:o}return t}function Oy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nv(e){if(!Ry(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ry(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ry(e){return Object.prototype.toString.call(e)==="[object Object]"}function QR(e){return new Promise(t=>{setTimeout(t,e)})}function JR(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?nS(e,t):t}function eP(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function tP(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Hx=Symbol();function aS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Hx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var so,ns,Fc,hE,rP=(hE=class extends yh{constructor(){super();nt(this,so);nt(this,ns);nt(this,Fc);Ue(this,Fc,t=>{if(!wh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){fe(this,ns)||this.setEventListener(fe(this,Fc))}onUnsubscribe(){var t;this.hasListeners()||((t=fe(this,ns))==null||t.call(this),Ue(this,ns,void 0))}setEventListener(t){var r;Ue(this,Fc,t),(r=fe(this,ns))==null||r.call(this),Ue(this,ns,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){fe(this,so)!==t&&(Ue(this,so,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof fe(this,so)=="boolean"?fe(this,so):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},so=new WeakMap,ns=new WeakMap,Fc=new WeakMap,hE),iS=new rP,Mc,as,Lc,pE,nP=(pE=class extends yh{constructor(){super();nt(this,Mc,!0);nt(this,as);nt(this,Lc);Ue(this,Lc,t=>{if(!wh&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){fe(this,as)||this.setEventListener(fe(this,Lc))}onUnsubscribe(){var t;this.hasListeners()||((t=fe(this,as))==null||t.call(this),Ue(this,as,void 0))}setEventListener(t){var r;Ue(this,Lc,t),(r=fe(this,as))==null||r.call(this),Ue(this,as,t(this.setOnline.bind(this)))}setOnline(t){fe(this,Mc)!==t&&(Ue(this,Mc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return fe(this,Mc)}},Mc=new WeakMap,as=new WeakMap,Lc=new WeakMap,pE),Td=new nP;function aP(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function iP(e){return Math.min(1e3*2**e,3e4)}function sS(e){return(e??"online")==="online"?Td.isOnline():!0}var oS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function B1(e){return e instanceof oS}function cS(e){let t=!1,r=0,n=!1,a;const i=aP(),s=p=>{var x;n||(d(new oS(p)),(x=e.abort)==null||x.call(e))},o=()=>{t=!0},c=()=>{t=!1},l=()=>iS.isFocused()&&(e.networkMode==="always"||Td.isOnline())&&e.canRun(),u=()=>sS(e.networkMode)&&e.canRun(),f=p=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,p),a==null||a(),i.resolve(p))},d=p=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,p),a==null||a(),i.reject(p))},h=()=>new Promise(p=>{var x;a=y=>{(n||l())&&p(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(n)return;let p;const x=r===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var A;if(n)return;const w=e.retry??(wh?0:3),m=e.retryDelay??iP,_=typeof m=="function"?m(r,y):m,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,y);if(t||!S){d(y);return}r++,(A=e.onFail)==null||A.call(e,r,y),QR(_).then(()=>l()?void 0:h()).then(()=>{t?d(y):v()})})};return{promise:i,cancel:s,continue:()=>(a==null||a(),i),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?v():h().then(v),i)}}var sP=e=>setTimeout(e,0);function oP(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=sP;const i=o=>{t?e.push(o):a(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||s()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var on=oP(),oo,vE,lS=(vE=class{constructor(){nt(this,oo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YR(this.gcTime)&&Ue(this,oo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(wh?1/0:5*60*1e3))}clearGcTimeout(){fe(this,oo)&&(clearTimeout(fe(this,oo)),Ue(this,oo,void 0))}},oo=new WeakMap,vE),Bc,co,Kn,lo,Vr,nf,uo,ma,pi,gE,cP=(gE=class extends lS{constructor(t){super();nt(this,ma);nt(this,Bc);nt(this,co);nt(this,Kn);nt(this,lo);nt(this,Vr);nt(this,nf);nt(this,uo);Ue(this,uo,!1),Ue(this,nf,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ue(this,lo,t.client),Ue(this,Kn,fe(this,lo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ue(this,Bc,uP(this.options)),this.state=t.state??fe(this,Bc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=fe(this,Vr))==null?void 0:t.promise}setOptions(t){this.options={...fe(this,nf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&fe(this,Kn).remove(this)}setData(t,r){const n=JR(this.state.data,t,this.options);return Br(this,ma,pi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Br(this,ma,pi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=fe(this,Vr))==null?void 0:n.promise;return(a=fe(this,Vr))==null||a.cancel(t),r?r.then(xa).catch(xa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(fe(this,Bc))}isActive(){return this.observers.some(t=>ZR(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Iv(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qR(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=fe(this,Vr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=fe(this,Vr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),fe(this,Kn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(fe(this,Vr)&&(fe(this,uo)?fe(this,Vr).cancel({revert:!0}):fe(this,Vr).cancelRetry()),this.scheduleGc()),fe(this,Kn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Br(this,ma,pi).call(this,{type:"invalidate"})}fetch(t,r){var l,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(fe(this,Vr))return fe(this,Vr).continueRetry(),fe(this,Vr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Ue(this,uo,!0),n.signal)})},i=()=>{const d=aS(this.options,r),v=(()=>{const p={client:fe(this,lo),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return Ue(this,uo,!1),this.options.persister?this.options.persister(d,v,this):d(v)},o=(()=>{const d={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:fe(this,lo),state:this.state,fetchFn:i};return a(d),d})();(l=this.options.behavior)==null||l.onFetch(o,this),Ue(this,co,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Br(this,ma,pi).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const c=d=>{var h,v,p,x;B1(d)&&d.silent||Br(this,ma,pi).call(this,{type:"error",error:d}),B1(d)||((v=(h=fe(this,Kn).config).onError)==null||v.call(h,d,this),(x=(p=fe(this,Kn).config).onSettled)==null||x.call(p,this.state.data,d,this)),this.scheduleGc()};return Ue(this,Vr,cS({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var h,v,p,x;if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(y){c(y);return}(v=(h=fe(this,Kn).config).onSuccess)==null||v.call(h,d,this),(x=(p=fe(this,Kn).config).onSettled)==null||x.call(p,d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,h)=>{Br(this,ma,pi).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{Br(this,ma,pi).call(this,{type:"pause"})},onContinue:()=>{Br(this,ma,pi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),fe(this,Vr).start()}},Bc=new WeakMap,co=new WeakMap,Kn=new WeakMap,lo=new WeakMap,Vr=new WeakMap,nf=new WeakMap,uo=new WeakMap,ma=new WeakSet,pi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...lP(n.data,this.options),fetchMeta:t.meta??null};case"success":return Ue(this,co,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return B1(a)&&a.revert&&fe(this,co)?{...fe(this,co),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),on.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),fe(this,Kn).notify({query:this,type:"updated",action:t})})},gE);function lP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function uP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var za,xE,fP=(xE=class extends yh{constructor(t={}){super();nt(this,za);this.config=t,Ue(this,za,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??$x(a,r);let s=this.get(i);return s||(s=new cP({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){fe(this,za).has(t.queryHash)||(fe(this,za).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=fe(this,za).get(t.queryHash);r&&(t.destroy(),r===t&&fe(this,za).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){on.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return fe(this,za).get(t)}getAll(){return[...fe(this,za).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Iy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Iy(t,n)):r}notify(t){on.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){on.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){on.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},za=new WeakMap,xE),Wa,nn,fo,Ga,Gi,mE,dP=(mE=class extends lS{constructor(t){super();nt(this,Ga);nt(this,Wa);nt(this,nn);nt(this,fo);this.mutationId=t.mutationId,Ue(this,nn,t.mutationCache),Ue(this,Wa,[]),this.state=t.state||hP(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){fe(this,Wa).includes(t)||(fe(this,Wa).push(t),this.clearGcTimeout(),fe(this,nn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ue(this,Wa,fe(this,Wa).filter(r=>r!==t)),this.scheduleGc(),fe(this,nn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){fe(this,Wa).length||(this.state.status==="pending"?this.scheduleGc():fe(this,nn).remove(this))}continue(){var t;return((t=fe(this,fo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,o,c,l,u,f,d,h,v,p,x,y,w,m,_,S,A,C,b;const r=()=>{Br(this,Ga,Gi).call(this,{type:"continue"})};Ue(this,fo,cS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,O)=>{Br(this,Ga,Gi).call(this,{type:"failed",failureCount:T,error:O})},onPause:()=>{Br(this,Ga,Gi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>fe(this,nn).canRun(this)}));const n=this.state.status==="pending",a=!fe(this,fo).canStart();try{if(n)r();else{Br(this,Ga,Gi).call(this,{type:"pending",variables:t,isPaused:a}),await((s=(i=fe(this,nn).config).onMutate)==null?void 0:s.call(i,t,this));const O=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,t));O!==this.state.context&&Br(this,Ga,Gi).call(this,{type:"pending",context:O,variables:t,isPaused:a})}const T=await fe(this,fo).start();return await((u=(l=fe(this,nn).config).onSuccess)==null?void 0:u.call(l,T,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,T,t,this.state.context)),await((v=(h=fe(this,nn).config).onSettled)==null?void 0:v.call(h,T,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,T,null,t,this.state.context)),Br(this,Ga,Gi).call(this,{type:"success",data:T}),T}catch(T){try{throw await((w=(y=fe(this,nn).config).onError)==null?void 0:w.call(y,T,t,this.state.context,this)),await((_=(m=this.options).onError)==null?void 0:_.call(m,T,t,this.state.context)),await((A=(S=fe(this,nn).config).onSettled)==null?void 0:A.call(S,void 0,T,this.state.variables,this.state.context,this)),await((b=(C=this.options).onSettled)==null?void 0:b.call(C,void 0,T,t,this.state.context)),T}finally{Br(this,Ga,Gi).call(this,{type:"error",error:T})}}finally{fe(this,nn).runNext(this)}}},Wa=new WeakMap,nn=new WeakMap,fo=new WeakMap,Ga=new WeakSet,Gi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),on.batch(()=>{fe(this,Wa).forEach(n=>{n.onMutationUpdate(t)}),fe(this,nn).notify({mutation:this,type:"updated",action:t})})},mE);function hP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wi,ya,af,yE,pP=(yE=class extends yh{constructor(t={}){super();nt(this,wi);nt(this,ya);nt(this,af);this.config=t,Ue(this,wi,new Set),Ue(this,ya,new Map),Ue(this,af,0)}build(t,r,n){const a=new dP({mutationCache:this,mutationId:++$f(this,af)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){fe(this,wi).add(t);const r=l0(t);if(typeof r=="string"){const n=fe(this,ya).get(r);n?n.push(t):fe(this,ya).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(fe(this,wi).delete(t)){const r=l0(t);if(typeof r=="string"){const n=fe(this,ya).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&fe(this,ya).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=l0(t);if(typeof r=="string"){const n=fe(this,ya).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=l0(t);if(typeof r=="string"){const a=(n=fe(this,ya).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){on.batch(()=>{fe(this,wi).forEach(t=>{this.notify({type:"removed",mutation:t})}),fe(this,wi).clear(),fe(this,ya).clear()})}getAll(){return Array.from(fe(this,wi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ny(r,n))}findAll(t={}){return this.getAll().filter(r=>Ny(t,r))}notify(t){on.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return on.batch(()=>Promise.all(t.map(r=>r.continue().catch(xa))))}},wi=new WeakMap,ya=new WeakMap,af=new WeakMap,yE);function l0(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Py(e){return{onFetch:(t,r)=>{var u,f,d,h,v;const n=t.options,a=(d=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],s=((v=t.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const l=async()=>{let p=!1;const x=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=aS(t.options,t.fetchOptions),w=async(m,_,S)=>{if(p)return Promise.reject();if(_==null&&m.pages.length)return Promise.resolve(m);const C=(()=>{const U={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return x(U),U})(),b=await y(C),{maxPages:T}=t.options,O=S?tP:eP;return{pages:O(m.pages,b,T),pageParams:O(m.pageParams,_,T)}};if(a&&i.length){const m=a==="backward",_=m?vP:Dy,S={pages:i,pageParams:s},A=_(n,S);o=await w(S,A,m)}else{const m=e??i.length;do{const _=c===0?s[0]??n.initialPageParam:Dy(n,o);if(c>0&&_==null)break;o=await w(o,_),c++}while(c<m)}return o};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=l}}}function Dy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function vP(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Lt,is,ss,jc,Uc,os,$c,Hc,wE,gP=(wE=class{constructor(e={}){nt(this,Lt);nt(this,is);nt(this,ss);nt(this,jc);nt(this,Uc);nt(this,os);nt(this,$c);nt(this,Hc);Ue(this,Lt,e.queryCache||new fP),Ue(this,is,e.mutationCache||new pP),Ue(this,ss,e.defaultOptions||{}),Ue(this,jc,new Map),Ue(this,Uc,new Map),Ue(this,os,0)}mount(){$f(this,os)._++,fe(this,os)===1&&(Ue(this,$c,iS.subscribe(async e=>{e&&(await this.resumePausedMutations(),fe(this,Lt).onFocus())})),Ue(this,Hc,Td.subscribe(async e=>{e&&(await this.resumePausedMutations(),fe(this,Lt).onOnline())})))}unmount(){var e,t;$f(this,os)._--,fe(this,os)===0&&((e=fe(this,$c))==null||e.call(this),Ue(this,$c,void 0),(t=fe(this,Hc))==null||t.call(this),Ue(this,Hc,void 0))}isFetching(e){return fe(this,Lt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return fe(this,is).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=fe(this,Lt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=fe(this,Lt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Iv(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return fe(this,Lt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=fe(this,Lt).get(n.queryHash),i=a==null?void 0:a.state.data,s=KR(t,i);if(s!==void 0)return fe(this,Lt).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return on.batch(()=>fe(this,Lt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=fe(this,Lt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=fe(this,Lt);on.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=fe(this,Lt);return on.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=on.batch(()=>fe(this,Lt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(xa).catch(xa)}invalidateQueries(e,t={}){return on.batch(()=>(fe(this,Lt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=on.batch(()=>fe(this,Lt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(xa)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(xa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=fe(this,Lt).build(this,t);return r.isStaleByTime(Iv(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xa).catch(xa)}fetchInfiniteQuery(e){return e.behavior=Py(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xa).catch(xa)}ensureInfiniteQueryData(e){return e.behavior=Py(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Td.isOnline()?fe(this,is).resumePausedMutations():Promise.resolve()}getQueryCache(){return fe(this,Lt)}getMutationCache(){return fe(this,is)}getDefaultOptions(){return fe(this,ss)}setDefaultOptions(e){Ue(this,ss,e)}setQueryDefaults(e,t){fe(this,jc).set(zu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...fe(this,jc).values()],r={};return t.forEach(n=>{Wu(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){fe(this,Uc).set(zu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...fe(this,Uc).values()],r={};return t.forEach(n=>{Wu(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...fe(this,ss).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$x(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Hx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...fe(this,ss).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){fe(this,Lt).clear(),fe(this,is).clear()}},Lt=new WeakMap,is=new WeakMap,ss=new WeakMap,jc=new WeakMap,Uc=new WeakMap,os=new WeakMap,$c=new WeakMap,Hc=new WeakMap,wE),xP=E.createContext(void 0),mP=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),g.jsx(xP.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gu.apply(this,arguments)}var us;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(us||(us={}));const Fy="popstate";function yP(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return Ov("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:kd(a)}return _P(t,r,null,e)}function Zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wP(){return Math.random().toString(36).substr(2,8)}function My(e,t){return{usr:e.state,key:e.key,idx:t}}function Ov(e,t,r,n){return r===void 0&&(r=null),Gu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fl(t):t,{state:r,key:t&&t.key||n||wP()})}function kd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function _P(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=us.Pop,c=null,l=u();l==null&&(l=0,s.replaceState(Gu({},s.state,{idx:l}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=us.Pop;let x=u(),y=x==null?null:x-l;l=x,c&&c({action:o,location:p.location,delta:y})}function d(x,y){o=us.Push;let w=Ov(p.location,x,y);l=u()+1;let m=My(w,l),_=p.createHref(w);try{s.pushState(m,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}i&&c&&c({action:o,location:p.location,delta:1})}function h(x,y){o=us.Replace;let w=Ov(p.location,x,y);l=u();let m=My(w,l),_=p.createHref(w);s.replaceState(m,"",_),i&&c&&c({action:o,location:p.location,delta:0})}function v(x){let y=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof x=="string"?x:kd(x);return w=w.replace(/ $/,"%20"),Zt(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let p={get action(){return o},get location(){return e(a,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Fy,f),c=x,()=>{a.removeEventListener(Fy,f),c=null}},createHref(x){return t(a,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:h,go(x){return s.go(x)}};return p}var Ly;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ly||(Ly={}));function EP(e,t,r){return r===void 0&&(r="/"),CP(e,t,r,!1)}function CP(e,t,r,n){let a=typeof t=="string"?fl(t):t,i=Vx(a.pathname||"/",r);if(i==null)return null;let s=fS(e);SP(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let l=FP(i);o=PP(s[c],l,n)}return o}function fS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(Zt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let l=Es([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Zt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),fS(i.children,t,u,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:OP(l,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let c of dS(i.path))a(i,s,c)}),t}function dS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=dS(n.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function SP(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:RP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const AP=/^:[\w-]+$/,bP=3,TP=2,kP=1,IP=10,NP=-2,By=e=>e==="*";function OP(e,t){let r=e.split("/"),n=r.length;return r.some(By)&&(n+=NP),t&&(n+=TP),r.filter(a=>!By(a)).reduce((a,i)=>a+(AP.test(i)?bP:i===""?kP:IP),n)}function RP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function PP(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=jy({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),d=c.route;if(!f&&l&&r&&!n[n.length-1].route.index&&(f=jy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:Es([i,f.pathname]),pathnameBase:jP(Es([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=Es([i,f.pathnameBase]))}return s}function jy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=DP(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((l,u,f)=>{let{paramName:d,isOptional:h}=u;if(d==="*"){let p=o[f]||"";s=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const v=o[f];return h&&!v?l[d]=void 0:l[d]=(v||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:s,pattern:e}}function DP(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),uS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function FP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return uS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function MP(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?fl(e):e;return{pathname:r?r.startsWith("/")?r:LP(r,t):t,search:UP(n),hash:$P(a)}}function LP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function j1(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hS(e,t){let r=BP(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pS(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=fl(e):(a=Gu({},e),Zt(!a.pathname||!a.pathname.includes("?"),j1("?","pathname","search",a)),Zt(!a.pathname||!a.pathname.includes("#"),j1("#","pathname","hash",a)),Zt(!a.search||!a.search.includes("#"),j1("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;a.pathname=d.join("/")}o=f>=0?t[f]:"/"}let c=MP(a,o),l=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const Es=e=>e.join("/").replace(/\/\/+/g,"/"),jP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),UP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$P=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function HP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vS=["post","put","patch","delete"];new Set(vS);const VP=["get",...vS];new Set(VP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xu.apply(this,arguments)}const zx=E.createContext(null),zP=E.createContext(null),Mo=E.createContext(null),_h=E.createContext(null),Fs=E.createContext({outlet:null,matches:[],isDataRoute:!1}),gS=E.createContext(null);function WP(e,t){let{relative:r}=t===void 0?{}:t;gf()||Zt(!1);let{basename:n,navigator:a}=E.useContext(Mo),{hash:i,pathname:s,search:o}=mS(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:Es([n,s])),a.createHref({pathname:c,search:o,hash:i})}function gf(){return E.useContext(_h)!=null}function Ms(){return gf()||Zt(!1),E.useContext(_h).location}function xS(e){E.useContext(Mo).static||E.useLayoutEffect(e)}function Lo(){let{isDataRoute:e}=E.useContext(Fs);return e?iD():GP()}function GP(){gf()||Zt(!1);let e=E.useContext(zx),{basename:t,future:r,navigator:n}=E.useContext(Mo),{matches:a}=E.useContext(Fs),{pathname:i}=Ms(),s=JSON.stringify(hS(a,r.v7_relativeSplatPath)),o=E.useRef(!1);return xS(()=>{o.current=!0}),E.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=pS(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Es([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,i,e])}function XP(){let{matches:e}=E.useContext(Fs),t=e[e.length-1];return t?t.params:{}}function mS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=E.useContext(Mo),{matches:a}=E.useContext(Fs),{pathname:i}=Ms(),s=JSON.stringify(hS(a,n.v7_relativeSplatPath));return E.useMemo(()=>pS(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function KP(e,t){return YP(e,t)}function YP(e,t,r,n){gf()||Zt(!1);let{navigator:a}=E.useContext(Mo),{matches:i}=E.useContext(Fs),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let l=Ms(),u;if(t){var f;let x=typeof t=="string"?fl(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Zt(!1),u=x}else u=l;let d=u.pathname||"/",h=d;if(c!=="/"){let x=c.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=EP(e,{pathname:h}),p=eD(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Es([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Es([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&p?E.createElement(_h.Provider,{value:{location:Xu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:us.Pop}},p):p}function qP(){let e=aD(),t=HP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),r?E.createElement("pre",{style:a},r):null,null)}const ZP=E.createElement(qP,null);class QP extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?E.createElement(Fs.Provider,{value:this.props.routeContext},E.createElement(gS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JP(e){let{routeContext:t,match:r,children:n}=e,a=E.useContext(zx);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(Fs.Provider,{value:t},n)}function eD(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Zt(!1),s=s.slice(0,Math.min(s.length,u+1))}let c=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=u),f.route.id){let{loaderData:d,errors:h}=r,v=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||v){c=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,f,d)=>{let h,v=!1,p=null,x=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,p=f.route.errorElement||ZP,c&&(l<0&&d===0?(v=!0,x=null):l===d&&(v=!0,x=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,d+1)),w=()=>{let m;return h?m=p:v?m=x:f.route.Component?m=E.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=u,E.createElement(JP,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:m})};return r&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?E.createElement(QP,{location:r.location,revalidation:r.revalidation,component:p,error:h,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var yS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yS||{}),Id=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Id||{});function tD(e){let t=E.useContext(zx);return t||Zt(!1),t}function rD(e){let t=E.useContext(zP);return t||Zt(!1),t}function nD(e){let t=E.useContext(Fs);return t||Zt(!1),t}function wS(e){let t=nD(),r=t.matches[t.matches.length-1];return r.route.id||Zt(!1),r.route.id}function aD(){var e;let t=E.useContext(gS),r=rD(Id.UseRouteError),n=wS(Id.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function iD(){let{router:e}=tD(yS.UseNavigateStable),t=wS(Id.UseNavigateStable),r=E.useRef(!1);return xS(()=>{r.current=!0}),E.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Xu({fromRouteId:t},i)))},[e,t])}function sD(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ks(e){Zt(!1)}function oD(e){let{basename:t="/",children:r=null,location:n,navigationType:a=us.Pop,navigator:i,static:s=!1,future:o}=e;gf()&&Zt(!1);let c=t.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:c,navigator:i,static:s,future:Xu({v7_relativeSplatPath:!1},o)}),[c,o,i,s]);typeof n=="string"&&(n=fl(n));let{pathname:u="/",search:f="",hash:d="",state:h=null,key:v="default"}=n,p=E.useMemo(()=>{let x=Vx(u,c);return x==null?null:{location:{pathname:x,search:f,hash:d,state:h,key:v},navigationType:a}},[c,u,f,d,h,v,a]);return p==null?null:E.createElement(Mo.Provider,{value:l},E.createElement(_h.Provider,{children:r,value:p}))}function cD(e){let{children:t,location:r}=e;return KP(Rv(t),r)}new Promise(()=>{});function Rv(e,t){t===void 0&&(t=[]);let r=[];return E.Children.forEach(e,(n,a)=>{if(!E.isValidElement(n))return;let i=[...t,a];if(n.type===E.Fragment){r.push.apply(r,Rv(n.props.children,i));return}n.type!==Ks&&Zt(!1),!n.props.index||!n.props.children||Zt(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Rv(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pv.apply(this,arguments)}function lD(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function uD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fD(e,t){return e.button===0&&(!t||t==="_self")&&!uD(e)}const dD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hD="6";try{window.__reactRouterVersion=hD}catch{}const pD="startTransition",Uy=Og[pD];function vD(e){let{basename:t,children:r,future:n,window:a}=e,i=E.useRef();i.current==null&&(i.current=yP({window:a,v5Compat:!0}));let s=i.current,[o,c]=E.useState({action:s.action,location:s.location}),{v7_startTransition:l}=n||{},u=E.useCallback(f=>{l&&Uy?Uy(()=>c(f)):c(f)},[c,l]);return E.useLayoutEffect(()=>s.listen(u),[s,u]),E.useEffect(()=>sD(n),[n]),E.createElement(oD,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const gD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mD=E.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:c,to:l,preventScrollReset:u,viewTransition:f}=t,d=lD(t,dD),{basename:h}=E.useContext(Mo),v,p=!1;if(typeof l=="string"&&xD.test(l)&&(v=l,gD))try{let m=new URL(window.location.href),_=l.startsWith("//")?new URL(m.protocol+l):new URL(l),S=Vx(_.pathname,h);_.origin===m.origin&&S!=null?l=S+_.search+_.hash:p=!0}catch{}let x=WP(l,{relative:a}),y=yD(l,{replace:s,state:o,target:c,preventScrollReset:u,relative:a,viewTransition:f});function w(m){n&&n(m),m.defaultPrevented||y(m)}return E.createElement("a",Pv({},d,{href:v||x,onClick:p||i?n:w,ref:r,target:c}))});var $y;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($y||($y={}));var Hy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hy||(Hy={}));function yD(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,c=Lo(),l=Ms(),u=mS(e,{relative:s});return E.useCallback(f=>{if(fD(f,r)){f.preventDefault();let d=n!==void 0?n:kd(l)===kd(u);c(e,{replace:d,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[l,c,u,n,a,r,e,i,s,o])}const wD="modulepreload",_D=function(e){return"/"+e},Vy={},Na=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=_D(c),c in Vy)return;Vy[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":wD,l||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),l)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},ED=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Na(async()=>{const{default:n}=await Promise.resolve().then(()=>dl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Wx extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class CD extends Wx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zy extends Wx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Wy extends Wx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dv||(Dv={}));var SD=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):a(u.value).then(o,c)}l((n=n.apply(e,t||[])).next())})};class AD{constructor(t,{headers:r={},customFetch:n,region:a=Dv.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=ED(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return SD(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let o={},{region:c}=r;c||(c=this.region);const l=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,l.searchParams.set("forceFunctionRegion",c));let u;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(o["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(o["Content-Type"]="application/json",u=JSON.stringify(s)));const f=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:u}).catch(p=>{throw new CD(p)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new zy(f);if(!f.ok)throw new Wy(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return h==="application/json"?v=yield f.json():h==="application/octet-stream"?v=yield f.blob():h==="text/event-stream"?v=f:h==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof Wy||a instanceof zy?a.context:void 0}}})}}var En={},Gx={},Eh={},xf={},Ch={},Sh={},bD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},el=bD();const TD=el.fetch,_S=el.fetch.bind(el),ES=el.Headers,kD=el.Request,ID=el.Response,dl=Object.freeze(Object.defineProperty({__proto__:null,Headers:ES,Request:kD,Response:ID,default:_S,fetch:TD},Symbol.toStringTag,{value:"Module"})),ND=q8(dl);var Ah={};Object.defineProperty(Ah,"__esModule",{value:!0});let OD=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ah.default=OD;var CS=jn&&jn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sh,"__esModule",{value:!0});const RD=CS(ND),PD=CS(Ah);let DD=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=RD.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,o,c;let l=null,u=null,f=null,d=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const p=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),x=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");p&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,d=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const p=await i.text();try{l=JSON.parse(p),Array.isArray(l)&&i.status===404&&(u=[],l=null,d=200,h="OK")}catch{i.status===404&&p===""?(d=204,h="No Content"):l={message:p}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,d=200,h="OK"),l&&this.shouldThrowOnError)throw new PD.default(l)}return{error:l,data:u,count:f,status:d,statusText:h}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,o,c;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Sh.default=DD;var FD=jn&&jn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ch,"__esModule",{value:!0});const MD=FD(Sh);let LD=class extends MD.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ch.default=LD;var BD=jn&&jn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xf,"__esModule",{value:!0});const jD=BD(Ch);let UD=class extends jD.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};xf.default=UD;var $D=jn&&jn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eh,"__esModule",{value:!0});const Ml=$D(xf);let HD=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new Ml.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const s=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(s.length>0){const o=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ml.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ml.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Ml.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ml.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Eh.default=HD;var bh={},Th={};Object.defineProperty(Th,"__esModule",{value:!0});Th.version=void 0;Th.version="0.0.0-automated";Object.defineProperty(bh,"__esModule",{value:!0});bh.DEFAULT_HEADERS=void 0;const VD=Th;bh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${VD.version}`};var SS=jn&&jn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gx,"__esModule",{value:!0});const zD=SS(Eh),WD=SS(xf),GD=bh;let XD=class AS{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},GD.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new zD.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new AS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${t}`);let c;n||a?(s=n?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{o.searchParams.append(u,f)})):(s="POST",c=r);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new WD.default({method:s,url:o,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Gx.default=XD;var hl=jn&&jn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(En,"__esModule",{value:!0});En.PostgrestError=En.PostgrestBuilder=En.PostgrestTransformBuilder=En.PostgrestFilterBuilder=En.PostgrestQueryBuilder=En.PostgrestClient=void 0;const bS=hl(Gx);En.PostgrestClient=bS.default;const TS=hl(Eh);En.PostgrestQueryBuilder=TS.default;const kS=hl(xf);En.PostgrestFilterBuilder=kS.default;const IS=hl(Ch);En.PostgrestTransformBuilder=IS.default;const NS=hl(Sh);En.PostgrestBuilder=NS.default;const OS=hl(Ah);En.PostgrestError=OS.default;var KD=En.default={PostgrestClient:bS.default,PostgrestQueryBuilder:TS.default,PostgrestFilterBuilder:kS.default,PostgrestTransformBuilder:IS.default,PostgrestBuilder:NS.default,PostgrestError:OS.default};const{PostgrestClient:YD,PostgrestQueryBuilder:tZ,PostgrestFilterBuilder:rZ,PostgrestTransformBuilder:nZ,PostgrestBuilder:aZ,PostgrestError:iZ}=KD;class qD{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ZD="2.15.1",QD=`realtime-js/${ZD}`,JD="1.0.0",Fv=1e4,e7=1e3,t7=100;var uu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(uu||(uu={}));var Jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Jt||(Jt={}));var _a;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(_a||(_a={}));var Mv;(function(e){e.websocket="websocket"})(Mv||(Mv={}));var Zs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Zs||(Zs={}));class r7{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+a));s=s+a;const c=n.decode(t.slice(s,s+i));s=s+i;const l=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:c,payload:l}}}class RS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xt||(xt={}));const Gy=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,s)=>(i[s]=n7(s,e,t,a),i),{})},n7=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?PS(i,s):Lv(s)},PS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return o7(t,r)}switch(e){case xt.bool:return a7(t);case xt.float4:case xt.float8:case xt.int2:case xt.int4:case xt.int8:case xt.numeric:case xt.oid:return i7(t);case xt.json:case xt.jsonb:return s7(t);case xt.timestamp:return c7(t);case xt.abstime:case xt.date:case xt.daterange:case xt.int4range:case xt.int8range:case xt.money:case xt.reltime:case xt.text:case xt.time:case xt.timestamptz:case xt.timetz:case xt.tsrange:case xt.tstzrange:return Lv(t);default:return Lv(t)}},Lv=e=>e,a7=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},i7=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},s7=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},o7=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>PS(t,o))}return e},c7=e=>typeof e=="string"?e.replace(" ","T"):e,DS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class U1{constructor(t,r,n={},a=Fv){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Xy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Xy||(Xy={}));class fu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fu.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=fu.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=fu.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{const f=i[l];if(f){const d=u.map(x=>x.presence_ref),h=f.map(x=>x.presence_ref),v=u.filter(x=>h.indexOf(x.presence_ref)<0),p=f.filter(x=>d.indexOf(x.presence_ref)<0);v.length>0&&(o[l]=v),p.length>0&&(c[l]=p)}else o[l]=u}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var l;const u=(l=t[o])!==null&&l!==void 0?l:[];if(t[o]=this.cloneDeep(c),u.length>0){const f=t[o].map(h=>h.presence_ref),d=u.filter(h=>f.indexOf(h.presence_ref)<0);t[o].unshift(...d)}n(o,u,c)}),this.map(s,(o,c)=>{let l=t[o];if(!l)return;const u=c.map(f=>f.presence_ref);l=l.filter(f=>u.indexOf(f.presence_ref)<0),t[o]=l,a(o,l,c),l.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ky;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ky||(Ky={}));var du;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(du||(du={}));var xi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xi||(xi={}));class Xx{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new U1(this,_a.join,this.params,this.timeout),this.rejoinTimer=new RS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_a.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new fu(this),this.broadcastEndpointURL=DS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:i,presence:s,private:o}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],l=!!this.bindings[du.PRESENCE]&&this.bindings[du.PRESENCE].length>0,u={},f={broadcast:i,presence:Object.assign(Object.assign({},s),{enabled:l}),postgres_changes:c,private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(d=>t==null?void 0:t(xi.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(xi.CLOSED)),this.updateJoinPayload(Object.assign({config:f},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(xi.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,p=(h=v==null?void 0:v.length)!==null&&h!==void 0?h:0,x=[];for(let y=0;y<p;y++){const w=v[y],{filter:{event:m,schema:_,table:S,filter:A}}=w,C=d&&d[y];if(C&&C.event===m&&C.schema===_&&C.table===S&&C.filter===A)x.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Jt.errored,t==null||t(xi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(xi.SUBSCRIBED);return}}).receive("error",d=>{this.state=Jt.errored,t==null||t(xi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Jt.joined&&t===du.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=l.body)===null||a===void 0?void 0:a.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,c;const l=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_a.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new U1(this,_a.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new U1(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>t7){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:l,join:u}=_a;if(n&&[o,c,l,u].indexOf(s)>=0&&n!==this._joinRef())return;let d=this._onMessage(s,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var v,p,x;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(p=h.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(h=>h.callback(d,n)):(i=this.bindings[s])===null||i===void 0||i.filter(h=>{var v,p,x,y,w,m;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const _=h.id,S=(v=h.filter)===null||v===void 0?void 0:v.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(w=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:p,table:x,commit_timestamp:y,type:w,errors:m}=v;d=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:m}),this._getPayloadRecords(v))}h.callback(d,n)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Xx.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_a.close,{},t)}_onError(t){this._on(_a.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Gy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Gy(t.columns,t.old_record)),r}}const Yy=()=>{},u0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},l7=[1e3,2e3,5e3,1e4],u7=1e4,f7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class d7{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fv,this.transport=null,this.heartbeatIntervalMs=u0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yy,this.ref=0,this.reconnectTimer=null,this.logger=Yy,this.conn=null,this.sendBuffer=[],this.serializer=new r7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...s)=>Na(async()=>{const{default:o}=await Promise.resolve().then(()=>dl);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Mv.websocket}`,this.httpEndpoint=DS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:JD}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case uu.connecting:return Zs.Connecting;case uu.open:return Zs.Open;case uu.closing:return Zs.Closing;default:return Zs.Closed}}isConnected(){return this.connectionState()===Zs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Xx(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(e7,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},u0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,o=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${o}`.trim(),i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(_a.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([f7],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:QD};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(_a.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new RS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},u0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,o,c,l;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Fv,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:u0.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:u=>l7[u-1]||u7,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(u,f)=>f(JSON.stringify(u)),this.decode=(l=t==null?void 0:t.decode)!==null&&l!==void 0?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Kx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function gr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class h7 extends Kx{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bv extends Kx{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var p7=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):a(u.value).then(o,c)}l((n=n.apply(e,t||[])).next())})};const FS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Na(async()=>{const{default:n}=await Promise.resolve().then(()=>dl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},v7=()=>p7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Na(()=>Promise.resolve().then(()=>dl),void 0)).Response:Response}),jv=e=>{if(Array.isArray(e))return e.map(r=>jv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=jv(n)}),t},g7=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Bo=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):a(u.value).then(o,c)}l((n=n.apply(e,t||[])).next())})};const $1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),x7=(e,t,r)=>Bo(void 0,void 0,void 0,function*(){const n=yield v7();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,s=(a==null?void 0:a.statusCode)||i+"";t(new h7($1(a),i,s))}).catch(a=>{t(new Bv($1(a),a))}):t(new Bv($1(e),e))}),m7=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(g7(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function mf(e,t,r,n,a,i){return Bo(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,m7(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>x7(c,o,n))})})}function Nd(e,t,r,n){return Bo(this,void 0,void 0,function*(){return mf(e,"GET",t,r,n)})}function mi(e,t,r,n,a){return Bo(this,void 0,void 0,function*(){return mf(e,"POST",t,n,a,r)})}function Uv(e,t,r,n,a){return Bo(this,void 0,void 0,function*(){return mf(e,"PUT",t,n,a,r)})}function y7(e,t,r,n){return Bo(this,void 0,void 0,function*(){return mf(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function MS(e,t,r,n,a){return Bo(this,void 0,void 0,function*(){return mf(e,"DELETE",t,n,a,r)})}var xn=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):a(u.value).then(o,c)}l((n=n.apply(e,t||[])).next())})};const w7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _7{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=FS(a)}uploadOrUpdate(t,r,n,a){return xn(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},qy),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const l=this._removeEmptyFolders(r),u=this._getFinalPath(l),f=yield(t=="PUT"?Uv:mi)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(gr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return xn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const l=Object.assign({upsert:qy.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const f=yield Uv(this.fetch,o.toString(),c,{headers:u});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(gr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return xn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield mi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new Kx("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(gr(n))return{data:null,error:n};throw n}})}update(t,r,n){return xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return xn(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(gr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return xn(this,void 0,void 0,function*(){try{return{data:{path:(yield mi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(gr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return xn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield mi(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(gr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return xn(this,void 0,void 0,function*(){try{const a=yield mi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(gr(a))return{data:null,error:a};throw a}})}download(t,r){return xn(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Nd(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(gr(o))return{data:null,error:o};throw o}})}info(t){return xn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Nd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:jv(n),error:null}}catch(n){if(gr(n))return{data:null,error:n};throw n}})}exists(t){return xn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield y7(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(gr(n)&&n instanceof Bv){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let l=a.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${l}`)}}}remove(t){return xn(this,void 0,void 0,function*(){try{return{data:yield MS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(gr(r))return{data:null,error:r};throw r}})}list(t,r,n){return xn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},w7),r),{prefix:t||""});return{data:yield mi(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(gr(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const E7="2.10.5",C7={"X-Client-Info":`storage-js/${E7}`};var Go=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):a(u.value).then(o,c)}l((n=n.apply(e,t||[])).next())})};class S7{constructor(t,r={},n,a){const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},C7),r),this.fetch=FS(n)}listBuckets(){return Go(this,void 0,void 0,function*(){try{return{data:yield Nd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(gr(t))return{data:null,error:t};throw t}})}getBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield Nd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(gr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Go(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Go(this,void 0,void 0,function*(){try{return{data:yield Uv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(gr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield MS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(gr(r))return{data:null,error:r};throw r}})}}class A7 extends S7{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new _7(this.url,this.headers,t,this.fetch)}}const b7="2.55.0";let zl="";typeof Deno<"u"?zl="deno":typeof document<"u"?zl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zl="react-native":zl="node";const T7={"X-Client-Info":`supabase-js-${zl}/${b7}`},k7={headers:T7},I7={schema:"public"},N7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},O7={};var R7=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):a(u.value).then(o,c)}l((n=n.apply(e,t||[])).next())})};const P7=e=>{let t;return e?t=e:typeof fetch>"u"?t=_S:t=fetch,(...r)=>t(...r)},D7=()=>typeof Headers>"u"?ES:Headers,F7=(e,t,r)=>{const n=P7(r),a=D7();return(i,s)=>R7(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let l=new a(s==null?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:l}))})};var M7=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):a(u.value).then(o,c)}l((n=n.apply(e,t||[])).next())})};function L7(e){return e.endsWith("/")?e:e+"/"}function B7(e,t){var r,n;const{db:a,auth:i,realtime:s,global:o}=e,{db:c,auth:l,realtime:u,global:f}=t,d={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>M7(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const LS="2.71.1",rc=30*1e3,$v=3,H1=$v*rc,j7="http://localhost:9999",U7="supabase.auth.token",$7={"X-Client-Info":`gotrue-js/${LS}`},Hv="X-Supabase-Api-Version",BS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},H7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,V7=10*60*1e3;class Yx extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class z7 extends Yx{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function W7(e){return $e(e)&&e.name==="AuthApiError"}class jS extends Yx{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ls extends Yx{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Xi extends Ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function G7(e){return $e(e)&&e.name==="AuthSessionMissingError"}class f0 extends Ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class d0 extends Ls{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class h0 extends Ls{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function X7(e){return $e(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zy extends Ls{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vv extends Ls{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function V1(e){return $e(e)&&e.name==="AuthRetryableFetchError"}class Qy extends Ls{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class zv extends Ls{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Od="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jy=` 	
\r=`.split(""),K7=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Jy.length;t+=1)e[Jy[t].charCodeAt(0)]=-2;for(let t=0;t<Od.length;t+=1)e[Od[t].charCodeAt(0)]=t;return e})();function ew(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Od[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Od[n]),t.queuedBits-=6}}function US(e,t,r){const n=K7[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tw(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{Z7(s,n,r)};for(let s=0;s<e.length;s+=1)US(e.charCodeAt(s),a,i);return t.join("")}function Y7(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function q7(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Y7(n,t)}}function Z7(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Q7(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)US(e.charCodeAt(a),r,n);return new Uint8Array(t)}function J7(e){const t=[];return q7(e,r=>t.push(r)),new Uint8Array(t)}function eF(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>ew(a,r,n)),ew(null,r,n),t.join("")}function tF(e){return Math.round(Date.now()/1e3)+e}function rF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ha=()=>typeof window<"u"&&typeof document<"u",Hs={tested:!1,writable:!1},$S=()=>{if(!ha())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hs.tested)return Hs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hs.tested=!0,Hs.writable=!0}catch{Hs.tested=!0,Hs.writable=!1}return Hs.writable};function nF(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const HS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Na(async()=>{const{default:n}=await Promise.resolve().then(()=>dl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},aF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Vs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Hi=async(e,t)=>{await e.removeItem(t)};class kh{constructor(){this.promise=new kh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}kh.promiseConstructor=Promise;function z1(e){const t=e.split(".");if(t.length!==3)throw new zv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!H7.test(t[n]))throw new zv("JWT not in base64url format");return{header:JSON.parse(tw(t[0])),payload:JSON.parse(tw(t[1])),signature:Q7(t[2]),raw:{header:t[0],payload:t[1]}}}async function iF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sF(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function oF(e){return("0"+e.toString(16)).substr(-2)}function cF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,oF).join("")}async function lF(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function uF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await lF(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xo(e,t,r=!1){const n=cF();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await nc(e,`${t}-code-verifier`,a);const i=await uF(n);return[i,n===i?"plain":"s256"]}const fF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dF(e){const t=e.headers.get(Hv);if(!t||!t.match(fF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function pF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ko(e){if(!vF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function W1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rw(e){return JSON.parse(JSON.stringify(e))}var gF=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ys=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xF=[502,503,504];async function nw(e){var t;if(!aF(e))throw new Vv(Ys(e),0);if(xF.includes(e.status))throw new Vv(Ys(e),e.status);let r;try{r=await e.json()}catch(i){throw new jS(Ys(i),i)}let n;const a=dF(e);if(a&&a.getTime()>=BS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Qy(Ys(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Xi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Qy(Ys(r),e.status,r.weak_password.reasons);throw new z7(Ys(r),e.status||500,n)}const mF=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Xe(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Hv]||(i[Hv]=BS["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await yF(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function yF(e,t,r,n,a,i){const s=mF(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new Vv(Ys(c),0)}if(o.ok||await nw(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await nw(c)}}function vi(e){var t;let r=null;CF(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=tF(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function aw(e){const t=vi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function es(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function wF(e){return{data:e,error:null}}function _F(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=gF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function EF(e){return e}function CF(e){return e.access_token&&e.refresh_token&&e.expires_in}const G1=["global","local","others"];var SF=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class AF{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=HS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=G1[0]){if(G1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${G1.join(", ")}`);try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:es})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=SF(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:_F,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:es})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,c;try{const l={nextPage:null,lastPage:0,total:0},u=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:EF});if(u.error)throw u.error;const f=await u.json(),d=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);l[`${x}Page`]=p}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if($e(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){Ko(t);try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:es})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ko(t);try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:es})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ko(t);try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:es})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ko(t.userId);try{const{data:r,error:n}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ko(t.userId),Ko(t.id);try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}}function iw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function bF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yo={debug:!!(globalThis&&$S()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class VS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class TF extends VS{}async function kF(e,t,r){Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new TF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}bF();const IF={url:j7,storageKey:U7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sw(e,t,r){return await r()}const qo={};class Ku{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ku.nextInstanceID,Ku.nextInstanceID+=1,this.instanceID>0&&ha()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},IF),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new AF({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=HS(a.fetch),this.lock=a.lock||sw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ha()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=kF:this.lock=sw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:$S()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=iw(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=iw(this.memoryStorage)),ha()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=qo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){qo[this.storageKey]=Object.assign(Object.assign({},qo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=qo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){qo[this.storageKey]=Object.assign(Object.assign({},qo[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${LS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=nF(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ha()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),X7(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $e(r)?{error:r}:{error:new jS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:vi}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if($e(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:f,options:d}=t;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await Xo(this.storage,this.storageKey)),i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:v},xform:vi})}else if("phone"in t){const{phone:u,password:f,options:d}=t;i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(a=d==null?void 0:d.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:vi})}else throw new d0("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if($e(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:aw})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:aw})}else throw new d0("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new f0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,s,o,c,l,u,f,d,h;let v,p;if("message"in t)v=t.message,p=t.signature;else{const{chain:x,wallet:y,statement:w,options:m}=t;let _;if(ha())if(typeof y=="object")_=y;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))_=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const A=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let C;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")C=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)C=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),p=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((s=m==null?void 0:m.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((f=(u=m==null?void 0:m.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...m.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const A=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=A}}try{const{data:x,error:y}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:eF(p)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:vi});if(y)throw y;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new f0}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:y})}catch(x){if($e(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await Vs(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:vi});if(await Hi(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new f0}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if($e(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vi}),{data:c,error:l}=o;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new f0}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:c}=t;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Xo(this.storage,this.storageKey));const{error:f}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:l,error:u}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new d0("You must provide either an email or phone number.")}catch(o){if($e(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:vi});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,l=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(a){if($e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Xo(this.storage,this.storageKey)),await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:wF})}catch(i){if($e(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Xi;const{error:a}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if($e(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new d0("You must provide either an email or phone number and a type")}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Vs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<H1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Vs(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=W1()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,l,u)=>(!s&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:es}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xi}:await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:es})})}catch(r){if($e(r))return G7(r)&&(await this._removeSession(),await Hi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Xi;const s=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Xo(this.storage,this.storageKey));const{data:l,error:u}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:es});if(u)throw u;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xi;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=z1(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if($e(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Xi;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ha())throw new h0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new h0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Zy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new h0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Zy("No code detected.");const{data:w,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:c,token_type:l}=t;if(!i||!o||!s||!l)throw new h0("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let d=u+f;c&&(d=parseInt(c));const h=d-u;h*1e3<=rc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=d-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,u);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:d,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if($e(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Vs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(W7(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Hi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=rF(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Xo(this.storage,this.storageKey,!0));try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if($e(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,c,l,u;const{data:f,error:d}=i;if(d)throw d;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Xe(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return ha()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if($e(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await sF(async a=>(a>0&&await iF(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vi})),(a,i)=>{const s=200*Math.pow(2,a);return i&&V1(i)&&Date.now()+s-n<rc})}catch(n){if(this._debug(r,"error",n),$e(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ha()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Vs(this.storage,this.storageKey);if(a&&this.userStorage){let s=await Vs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await nc(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:W1()}else if(a&&!a.user&&!a.user){const s=await Vs(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await Hi(this.storage,this.storageKey+"-user"),await nc(this.storage,this.storageKey,a)):a.user=W1()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<H1;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${H1}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),V1(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(a.access_token);!o&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Xi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new kh;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new Xi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),$e(i)){const s={session:null,error:i};return V1(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await nc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=rw(a);await nc(this.storage,this.storageKey,i)}else{const a=rw(r);await nc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Hi(this.storage,this.storageKey),await Hi(this.storage,this.storageKey+"-code-verifier"),await Hi(this.storage,this.storageKey+"-user"),this.userStorage&&await Hi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ha()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/rc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${rc}ms, refresh threshold is ${$v} ticks`),a<=$v&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof VS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ha()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Xo(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:l}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:o}=await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if($e(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($e(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=z1(a.access_token);let o=null;s.aal&&(o=s.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+V7>a)return n;const{data:i,error:s}=await Xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return{data:null,error:v};n=h.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:c}}=z1(n);r!=null&&r.allowExpired||hF(i.exp);const l=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!l){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:s},error:null}}const u=pF(a.alg),f=await crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,J7(`${o}.${c}`)))throw new zv("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}}}Ku.nextInstanceID=0;const NF=Ku;class OF extends NF{constructor(t){super(t)}}var RF=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):a(u.value).then(o,c)}l((n=n.apply(e,t||[])).next())})};class PF{constructor(t,r,n){var a,i,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=L7(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:I7,realtime:O7,auth:Object.assign(Object.assign({},N7),{storageKey:l}),global:k7},f=B7(n??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=F7(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new YD(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new A7(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new AD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return RF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:o,debug:c},l,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OF({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),l),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new d7(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const DF=(e,t,r)=>new PF(e,t,r);function FF(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}FF()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const MF="https://ebghltixenyygueymcpm.supabase.co",LF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImViZ2hsdGl4ZW55eWd1ZXltY3BtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwODg0OTQsImV4cCI6MjA3MDY2NDQ5NH0.GHT4O30VRY0QNFU3OagalivbbEY-JRrPXRFOcRIbloQ",_e=DF(MF,LF),BF=Object.freeze(Object.defineProperty({__proto__:null,supabase:_e},Symbol.toStringTag,{value:"Module"})),zS=E.createContext(void 0),qx=()=>{const e=E.useContext(zS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},jF=({children:e})=>{const[t,r]=E.useState(null),[n,a]=E.useState(null),[i,s]=E.useState(!0);E.useEffect(()=>{const{data:{subscription:l}}=_e.auth.onAuthStateChange(async(f,d)=>{console.log("Auth state changed:",f,d?"User logged in":"User logged out"),a(d),r((d==null?void 0:d.user)??null),s(!1),d!=null&&d.user&&Na(async()=>{const{NotificationService:h}=await Promise.resolve().then(()=>Fq);return{NotificationService:h}},void 0).then(({NotificationService:h})=>{h.saveTokenToDb()})});return(async()=>{try{s(!0);const{data:{session:f},error:d}=await _e.auth.getSession();d?console.error("Error getting session:",d):console.log("Initial session check:",f?"User authenticated":"No user"),a(f),r((f==null?void 0:f.user)??null)}catch(f){console.error("Session initialization error:",f)}finally{s(!1)}})(),()=>l.unsubscribe()},[]);const c={user:t,session:n,loading:i,signOut:async()=>{await _e.auth.signOut()}};return g.jsx(zS.Provider,{value:c,children:e})},yf=E.forwardRef(({className:e,...t},r)=>g.jsx("div",{ref:r,className:Se("rounded-2xl bg-card text-card-foreground shadow-neu border-none p-2",e),...t}));yf.displayName="Card";const WS=E.forwardRef(({className:e,...t},r)=>g.jsx("div",{ref:r,className:Se("flex flex-col space-y-1.5 p-6",e),...t}));WS.displayName="CardHeader";const GS=E.forwardRef(({className:e,...t},r)=>g.jsx("h3",{ref:r,className:Se("text-2xl font-semibold leading-none tracking-tight",e),...t}));GS.displayName="CardTitle";const UF=E.forwardRef(({className:e,...t},r)=>g.jsx("p",{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));UF.displayName="CardDescription";const wf=E.forwardRef(({className:e,...t},r)=>g.jsx("div",{ref:r,className:Se("p-6 pt-0",e),...t}));wf.displayName="CardContent";const $F=E.forwardRef(({className:e,...t},r)=>g.jsx("div",{ref:r,className:Se("flex items-center p-6 pt-0",e),...t}));$F.displayName="CardFooter";const Zx=hf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 active:scale-[0.98]",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-neu hover:shadow-neu-sm active:shadow-neu-inset",destructive:"bg-destructive text-destructive-foreground shadow-neu hover:shadow-neu-sm active:shadow-neu-inset",outline:"border-transparent bg-background text-foreground shadow-neu hover:shadow-neu-sm active:shadow-neu-inset",secondary:"bg-secondary text-secondary-foreground shadow-neu hover:shadow-neu-sm active:shadow-neu-inset",ghost:"hover:shadow-neu active:shadow-neu-inset",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ne=E.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const s=n?II:"button";return g.jsx(s,{className:Se(Zx({variant:t,size:r,className:e})),ref:i,...a})});Ne.displayName="Button";const zt=E.forwardRef(({className:e,type:t,...r},n)=>g.jsx("input",{type:t,className:Se("flex h-11 w-full rounded-xl border-none shadow-neu-inset bg-background px-4 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));zt.displayName="Input";var HF="Label",XS=E.forwardRef((e,t)=>g.jsx(ze.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));XS.displayName=HF;var KS=XS;const VF=hf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Zn=E.forwardRef(({className:e,...t},r)=>g.jsx(KS,{ref:r,className:Se(VF(),e),...t}));Zn.displayName=KS.displayName;var zF=E.createContext(void 0);function Qx(e){const t=E.useContext(zF);return e||t||"ltr"}var X1="rovingFocusGroup.onEntryFocus",WF={bubbles:!1,cancelable:!0},_f="RovingFocusGroup",[Wv,YS,GF]=Ex(_f),[XF,qS]=Fi(_f,[GF]),[KF,YF]=XF(_f),ZS=E.forwardRef((e,t)=>g.jsx(Wv.Provider,{scope:e.__scopeRovingFocusGroup,children:g.jsx(Wv.Slot,{scope:e.__scopeRovingFocusGroup,children:g.jsx(qF,{...e,ref:t})})}));ZS.displayName=_f;var qF=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...f}=e,d=E.useRef(null),h=vt(t,d),v=Qx(i),[p,x]=Zc({prop:s,defaultProp:o??null,onChange:c,caller:_f}),[y,w]=E.useState(!1),m=ia(l),_=YS(r),S=E.useRef(!1),[A,C]=E.useState(0);return E.useEffect(()=>{const b=d.current;if(b)return b.addEventListener(X1,m),()=>b.removeEventListener(X1,m)},[m]),g.jsx(KF,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:p,onItemFocus:E.useCallback(b=>x(b),[x]),onItemShiftTab:E.useCallback(()=>w(!0),[]),onFocusableItemAdd:E.useCallback(()=>C(b=>b+1),[]),onFocusableItemRemove:E.useCallback(()=>C(b=>b-1),[]),children:g.jsx(ze.div,{tabIndex:y||A===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:Pe(e.onMouseDown,()=>{S.current=!0}),onFocus:Pe(e.onFocus,b=>{const T=!S.current;if(b.target===b.currentTarget&&T&&!y){const O=new CustomEvent(X1,WF);if(b.currentTarget.dispatchEvent(O),!O.defaultPrevented){const U=_().filter(J=>J.focusable),R=U.find(J=>J.active),H=U.find(J=>J.id===p),Q=[R,H,...U].filter(Boolean).map(J=>J.ref.current);eA(Q,u)}}S.current=!1}),onBlur:Pe(e.onBlur,()=>w(!1))})})}),QS="RovingFocusGroupItem",JS=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...o}=e,c=_s(),l=i||c,u=YF(QS,r),f=u.currentTabStopId===l,d=YS(r),{onFocusableItemAdd:h,onFocusableItemRemove:v,currentTabStopId:p}=u;return E.useEffect(()=>{if(n)return h(),()=>v()},[n,h,v]),g.jsx(Wv.ItemSlot,{scope:r,id:l,focusable:n,active:a,children:g.jsx(ze.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Pe(e.onMouseDown,x=>{n?u.onItemFocus(l):x.preventDefault()}),onFocus:Pe(e.onFocus,()=>u.onItemFocus(l)),onKeyDown:Pe(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=JF(x,u.orientation,u.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let m=d().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")m.reverse();else if(y==="prev"||y==="next"){y==="prev"&&m.reverse();const _=m.indexOf(x.currentTarget);m=u.loop?e9(m,_+1):m.slice(_+1)}setTimeout(()=>eA(m))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:p!=null}):s})})});JS.displayName=QS;var ZF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function JF(e,t,r){const n=QF(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ZF[n]}function eA(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function e9(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var t9=ZS,r9=JS,Ih="Tabs",[n9,sZ]=Fi(Ih,[qS]),tA=qS(),[a9,Jx]=n9(Ih),rA=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:o,activationMode:c="automatic",...l}=e,u=Qx(o),[f,d]=Zc({prop:n,onChange:a,defaultProp:i??"",caller:Ih});return g.jsx(a9,{scope:r,baseId:_s(),value:f,onValueChange:d,orientation:s,dir:u,activationMode:c,children:g.jsx(ze.div,{dir:u,"data-orientation":s,...l,ref:t})})});rA.displayName=Ih;var nA="TabsList",aA=E.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Jx(nA,r),s=tA(r);return g.jsx(t9,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:g.jsx(ze.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});aA.displayName=nA;var iA="TabsTrigger",sA=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,s=Jx(iA,r),o=tA(r),c=lA(s.baseId,n),l=uA(s.baseId,n),u=n===s.value;return g.jsx(r9,{asChild:!0,...o,focusable:!a,active:u,children:g.jsx(ze.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Pe(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:Pe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:Pe(e.onFocus,()=>{const f=s.activationMode!=="manual";!u&&!a&&f&&s.onValueChange(n)})})})});sA.displayName=iA;var oA="TabsContent",cA=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=e,o=Jx(oA,r),c=lA(o.baseId,n),l=uA(o.baseId,n),u=n===o.value,f=E.useRef(u);return E.useEffect(()=>{const d=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(d)},[]),g.jsx(Fo,{present:a||u,children:({present:d})=>g.jsx(ze.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!d,id:l,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:d&&i})})});cA.displayName=oA;function lA(e,t){return`${e}-trigger-${t}`}function uA(e,t){return`${e}-content-${t}`}var i9=rA,fA=aA,dA=sA,hA=cA;const s9=i9,pA=E.forwardRef(({className:e,...t},r)=>g.jsx(fA,{ref:r,className:Se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));pA.displayName=fA.displayName;const Gv=E.forwardRef(({className:e,...t},r)=>g.jsx(dA,{ref:r,className:Se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Gv.displayName=dA.displayName;const Xv=E.forwardRef(({className:e,...t},r)=>g.jsx(hA,{ref:r,className:Se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Xv.displayName=hA.displayName;function o9({onAuth:e}){const{toast:t}=Do(),[r,n]=E.useState(!1),[a,i]=E.useState(!1),[s,o]=E.useState({email:"",password:"",fullName:""});E.useEffect(()=>{(async()=>{const{data:{session:d}}=await _e.auth.getSession();d!=null&&d.user&&e(d.user)})()},[e]);const c=async f=>{f.preventDefault(),n(!0);try{const d=`${window.location.origin}/`,{error:h}=await _e.auth.signUp({email:s.email,password:s.password,options:{emailRedirectTo:d,data:{full_name:s.fullName}}});h?h.message.includes("User already registered")?t({title:"  ",description:"    .      .",variant:"destructive"}):t({title:"  ",description:h.message,variant:"destructive"}):t({title:"  ",description:"     "})}catch{t({title:"",description:"   ",variant:"destructive"})}finally{n(!1)}},l=async f=>{f.preventDefault(),n(!0);try{const{data:d,error:h}=await _e.auth.signInWithPassword({email:s.email,password:s.password});h?h.message.includes("Invalid login credentials")?t({title:" ",description:"      ",variant:"destructive"}):t({title:"   ",description:h.message,variant:"destructive"}):d.user&&(t({title:" ",description:"   "}),e(d.user))}catch{t({title:"",description:"   ",variant:"destructive"})}finally{n(!1)}},u=(f,d)=>{o(h=>({...h,[f]:d}))};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 flex items-center justify-center p-4",children:g.jsxs(yf,{className:"w-full max-w-md",children:[g.jsxs(WS,{className:"text-center",children:[g.jsx(GS,{className:"text-2xl font-bold text-primary",children:"  "}),g.jsx("p",{className:"text-muted-foreground",children:"    "})]}),g.jsx(wf,{children:g.jsxs(s9,{defaultValue:"signin",className:"w-full",children:[g.jsxs(pA,{className:"grid w-full grid-cols-2",children:[g.jsx(Gv,{value:"signin",children:" "}),g.jsx(Gv,{value:"signup",children:" "})]}),g.jsx(Xv,{value:"signin",children:g.jsxs("form",{onSubmit:l,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Zn,{htmlFor:"email",children:" "}),g.jsx(zt,{id:"email",type:"email",value:s.email,onChange:f=>u("email",f.target.value),placeholder:"your@email.com",required:!0,className:"text-right"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Zn,{htmlFor:"password",children:" "}),g.jsxs("div",{className:"relative",children:[g.jsx(zt,{id:"password",type:a?"text":"password",value:s.password,onChange:f=>u("password",f.target.value),placeholder:"",required:!0,className:"text-right pr-10"}),g.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute left-2 top-1/2 -translate-y-1/2 h-auto p-0",onClick:()=>i(!a),children:a?g.jsx(uy,{size:16}):g.jsx(mv,{size:16})})]})]}),g.jsx(Ne,{type:"submit",className:"w-full",disabled:r,children:r?"  ...":g.jsxs(g.Fragment,{children:[g.jsx(RN,{size:16,className:"ml-2"})," "]})})]})}),g.jsx(Xv,{value:"signup",children:g.jsxs("form",{onSubmit:c,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Zn,{htmlFor:"fullName",children:" "}),g.jsx(zt,{id:"fullName",type:"text",value:s.fullName,onChange:f=>u("fullName",f.target.value),placeholder:"  ",required:!0,className:"text-right"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Zn,{htmlFor:"email-signup",children:" "}),g.jsx(zt,{id:"email-signup",type:"email",value:s.email,onChange:f=>u("email",f.target.value),placeholder:"your@email.com",required:!0,className:"text-right"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Zn,{htmlFor:"password-signup",children:" "}),g.jsxs("div",{className:"relative",children:[g.jsx(zt,{id:"password-signup",type:a?"text":"password",value:s.password,onChange:f=>u("password",f.target.value),placeholder:"",required:!0,className:"text-right pr-10",minLength:6}),g.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute left-2 top-1/2 -translate-y-1/2 h-auto p-0",onClick:()=>i(!a),children:a?g.jsx(uy,{size:16}):g.jsx(mv,{size:16})})]}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"     6   "})]}),g.jsx(Ne,{type:"submit",className:"w-full",disabled:r,children:r?"  ...":g.jsxs(g.Fragment,{children:[g.jsx(HN,{size:16,className:"ml-2"})," "]})})]})})]})})]})})}const ow=e=>{let t;const r=new Set,n=(l,u)=>{const f=typeof l=="function"?l(t):l;if(!Object.is(f,t)){const d=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(h=>h(t,d))}},a=()=>t,o={setState:n,getState:a,getInitialState:()=>c,subscribe:l=>(r.add(l),()=>r.delete(l))},c=t=e(n,a,o);return o},c9=e=>e?ow(e):ow,l9=e=>e;function u9(e,t=l9){const r=xe.useSyncExternalStore(e.subscribe,xe.useCallback(()=>t(e.getState()),[e,t]),xe.useCallback(()=>t(e.getInitialState()),[e,t]));return xe.useDebugValue(r),r}const cw=e=>{const t=c9(e),r=n=>u9(t,n);return Object.assign(r,t),r},Nh=e=>e?cw(e):cw,f9=60*1e3,di=new Map,Oh=Nh((e,t)=>({products:[],categories:[],cart:[],loading:!1,error:null,hasMore:!0,fetchCategories:async(r=!1)=>{if(!(!r&&t().categories.length>0))try{const{data:n,error:a}=await _e.from("categories").select("*").order("name");if(a)throw a;const i=(n==null?void 0:n.map(s=>({id:s.id,name:s.name,icon:""})))||[];e({categories:i})}catch(n){console.error("Error fetching categories:",n)}},updateCategory:async(r,n)=>{try{const{error:a}=await _e.from("categories").update({name:n}).eq("id",r);if(a)throw a;await t().fetchCategories(!0)}catch(a){throw console.error("Error updating category:",a),a}},deleteCategory:async r=>{try{const{error:n}=await _e.from("products").update({category_id:null}).eq("category_id",r);if(n)throw n;const{error:a}=await _e.from("categories").delete().eq("id",r);if(a)throw a;await t().fetchCategories(!0)}catch(n){throw console.error("Error deleting category:",n),n}},batchAssignCategory:async(r,n)=>{try{let a;const{data:i}=await _e.from("categories").select("id").eq("name",n).single();if(i)a=i.id;else{const{data:o,error:c}=await _e.from("categories").insert({name:n}).select("id").single();if(c)throw c;a=o.id}const{error:s}=await _e.from("products").update({category_id:a}).in("id",r);if(s)throw s;di.clear(),await t().fetchCategories(!0)}catch(a){throw console.error("Error batch assigning categories:",a),a}},searchProducts:async(r,n=!1)=>{e({loading:!0,error:null,hasMore:!1});try{if(!r.trim()){await t().fetchProductsByCategory(null,0);return}const a=/^\d+$/.test(r)&&r.length>3;let i=_e.from("products").select("id, name, price, stock, image, barcode, is_available, category_id, parent_id, categories(name), variants:products!parent_id(id, name, price, stock, image, barcode, is_available, parent_id)").order("created_at",{ascending:!1}).limit(20);a?i=i.eq("barcode",r):i=i.ilike("name",`%${r}%`);const{data:s,error:o}=await i;if(o)throw o;let c=[...s||[]];if(n&&c.length>0){const u=c.filter(d=>d.parent_id!==null),f=[...new Set(u.map(d=>d.parent_id))];if(f.length>0){const{data:d,error:h}=await _e.from("products").select("id, name, price, stock, image, barcode, is_available, category_id, parent_id, categories(name), variants:products!parent_id(id, name, price, stock, image, barcode, is_available, parent_id)").in("id",f);!h&&d&&(c=c.filter(v=>v.parent_id===null),d.forEach(v=>{c.some(p=>p.id===v.id)||c.push(v)}))}}const l=(c==null?void 0:c.map(u=>{var f,d;return{id:u.id,name:u.name,price:u.price,category:((f=u.categories)==null?void 0:f.name)||" ",stock:u.stock,image:u.image||"/placeholder.svg",barcode:u.barcode,isAvailable:u.is_available!==!1,parent_id:u.parent_id,variants:((d=u.variants)==null?void 0:d.map(h=>({id:h.id,name:h.name,price:h.price,stock:h.stock,image:h.image||"/placeholder.svg",barcode:h.barcode,isAvailable:h.is_available!==!1,parent_id:h.parent_id})))||[]}}))||[];e({products:l,loading:!1})}catch(a){console.error("Error searching products:",a),e({error:"    ",loading:!1})}},fetchProductsByCategory:async(r,n=0)=>{const a=`products_${r||"all"}_page_${n}`,i=di.get(a);if(i&&Date.now()-i.timestamp<f9){const s=i.data;e(o=>({products:n===0?s:[...o.products,...s],loading:!1,hasMore:s.length===20}));return}e({loading:!0,error:null});try{const s=n*20,o=s+19;let c=_e.from("products").select("id, name, price, stock, image, barcode, is_available, parent_id, categories(name), variants:products!parent_id(id, name, price, stock, image, barcode, is_available, parent_id)").is("parent_id",null).order("created_at",{ascending:!1}).range(s,o);r&&(c=c.eq("category_id",r));const{data:l,error:u}=await c;if(u)throw u;const f=(l==null?void 0:l.map(d=>{var h,v;return{id:d.id,name:d.name,price:d.price,category:((h=d.categories)==null?void 0:h.name)||" ",stock:d.stock,image:d.image||"/placeholder.svg",barcode:d.barcode,isAvailable:d.is_available!==!1,parent_id:d.parent_id,variants:((v=d.variants)==null?void 0:v.map(p=>({id:p.id,name:p.name,price:p.price,stock:p.stock,image:p.image||"/placeholder.svg",barcode:p.barcode,isAvailable:p.is_available!==!1,parent_id:p.parent_id})))||[]}}))||[];di.set(a,{data:f,timestamp:Date.now()}),e(d=>({products:n===0?f:[...d.products,...f],loading:!1,hasMore:f.length===20}))}catch(s){console.error("Error fetching products by category:",s),e({error:"   ",loading:!1})}},fetchProducts:async()=>{await t().fetchProductsByCategory(null)},addProduct:async r=>{var n;e({loading:!0,error:null});try{let a;const{data:i}=await _e.from("categories").select("id").eq("name",r.category).single();if(i)a=i.id;else{const{data:l,error:u}=await _e.from("categories").insert({name:r.category}).select("id").single();if(u)throw u;a=l.id}const{data:s,error:o}=await _e.from("products").insert({name:r.name,price:r.price,category_id:a,stock:r.stock,image:r.image,barcode:r.barcode,parent_id:r.parent_id}).select("*, categories(name), variants:products!parent_id(*)").single();if(o)throw o;di.clear(),await t().fetchCategories(!0);const c={id:s.id,name:s.name,price:s.price,category:((n=s.categories)==null?void 0:n.name)||" ",stock:s.stock,image:s.image||"/placeholder.svg",barcode:s.barcode,parent_id:s.parent_id,variants:s.variants||[]};e(l=>({products:[c,...l.products],loading:!1}))}catch(a){console.error("Error adding product:",a),e({error:"   ",loading:!1})}},addProductsBatch:async r=>{e({loading:!0,error:null});let n=0,a=0;try{const i=[...new Set(r.map(o=>o.category||" "))],s={};for(const o of i){const{data:c}=await _e.from("categories").select("id").eq("name",o).single();if(c)s[o]=c.id;else{const{data:l,error:u}=await _e.from("categories").insert({name:o}).select("id").single();!u&&l&&(s[o]=l.id)}}for(const o of r)try{const c=s[o.category||" "];if(!c){a++;continue}const{error:l}=await _e.from("products").insert({name:o.name,price:o.price,category_id:c,stock:o.stock||0,image:o.image||"/placeholder.svg",barcode:o.barcode,parent_id:o.parent_id});l?(console.error("Error adding product:",o.name,l),a++):n++}catch(c){console.error("Error adding product:",o.name,c),a++}return di.clear(),await t().fetchCategories(!0),await t().fetchProductsByCategory(null,0),e({loading:!1}),{success:n,failed:a}}catch(i){return console.error("Error in batch product import:",i),e({error:"   ",loading:!1}),{success:n,failed:a}}},updateProduct:async(r,n)=>{e({loading:!0,error:null});try{let a={...n};if(n.category){const{data:s}=await _e.from("categories").select("id").eq("name",n.category).single();if(s)a.category_id=s.id;else{const{data:o,error:c}=await _e.from("categories").insert({name:n.category}).select("id").single();if(c)throw c;a.category_id=o.id}delete a.category}const{error:i}=await _e.from("products").update(a).eq("id",r);if(i)throw i;di.clear(),await t().fetchCategories(!0),e(s=>({products:s.products.map(o=>o.id===r?{...o,...n}:o),loading:!1}))}catch(a){console.error("Error updating product:",a),e({error:"   ",loading:!1})}},deleteProduct:async r=>{e({loading:!0,error:null});try{const{error:n}=await _e.from("products").delete().eq("id",r);if(n){console.warn("Real delete failed, trying soft delete:",n.message);const{error:a}=await _e.from("products").update({is_available:!1}).eq("id",r);if(a)throw a}di.clear(),e(a=>({products:a.products.filter(i=>i.id!==r),loading:!1}))}catch(n){console.error("Error deleting product:",n),e({error:"   ",loading:!1})}},toggleProductAvailability:async r=>{e({loading:!0,error:null});try{const n=t().products.find(o=>o.id===r),i=!((n==null?void 0:n.isAvailable)!==!1),{error:s}=await _e.from("products").update({is_available:i}).eq("id",r);if(s)throw s;di.clear(),e(o=>({products:o.products.map(c=>c.id===r?{...c,isAvailable:i}:c),loading:!1}))}catch(n){console.error("Error toggling product availability:",n),e({error:"     ",loading:!1})}},addToCart:r=>e(n=>n.cart.find(i=>i.product.id===r.id)?{cart:n.cart.map(i=>i.product.id===r.id?{...i,quantity:i.quantity+1}:i)}:{cart:[...n.cart,{product:r,quantity:1}]}),updateCartQuantity:(r,n)=>e(a=>({cart:n>0?a.cart.map(i=>i.product.id===r?{...i,quantity:n}:i):a.cart.filter(i=>i.product.id!==r)})),removeFromCart:r=>e(n=>({cart:n.cart.filter(a=>a.product.id!==r)})),clearCart:()=>e({cart:[]}),getCartTotal:()=>{const{cart:r}=t();return r.reduce((n,a)=>n+a.product.price*a.quantity,0)},processSale:async r=>{const{cart:n}=t();if(n.length!==0){e({loading:!0,error:null});try{const a=t().getCartTotal(),{data:i,error:s}=await _e.from("sales").insert({total_amount:a,items_count:n.reduce((l,u)=>l+u.quantity,0),user_id:r,payment_method:"cash"}).select("id").single();if(s)throw s;const o=n.map(l=>({sale_id:i.id,product_id:l.product.id,quantity:l.quantity,unit_price:l.product.price,total_price:l.product.price*l.quantity})),{error:c}=await _e.from("sale_items").insert(o);if(c)throw c;for(const l of n){const{error:u}=await _e.from("products").update({stock:l.product.stock-l.quantity}).eq("id",l.product.id);if(u)throw u}di.clear(),e({cart:[],loading:!1}),await t().fetchProducts()}catch(a){console.error("Error processing sale:",a),e({error:"   ",loading:!1})}}}})),sr=e=>`${e.toLocaleString("ar-IQ")} .`;var K1="focusScope.autoFocusOnMount",Y1="focusScope.autoFocusOnUnmount",lw={bubbles:!1,cancelable:!0},d9="FocusScope",em=E.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[o,c]=E.useState(null),l=ia(a),u=ia(i),f=E.useRef(null),d=vt(t,p=>c(p)),h=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(n){let p=function(m){if(h.paused||!o)return;const _=m.target;o.contains(_)?f.current=_:Ki(f.current,{select:!0})},x=function(m){if(h.paused||!o)return;const _=m.relatedTarget;_!==null&&(o.contains(_)||Ki(f.current,{select:!0}))},y=function(m){if(document.activeElement===document.body)for(const S of m)S.removedNodes.length>0&&Ki(o)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const w=new MutationObserver(y);return o&&w.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),w.disconnect()}}},[n,o,h.paused]),E.useEffect(()=>{if(o){fw.add(h);const p=document.activeElement;if(!o.contains(p)){const y=new CustomEvent(K1,lw);o.addEventListener(K1,l),o.dispatchEvent(y),y.defaultPrevented||(h9(m9(vA(o)),{select:!0}),document.activeElement===p&&Ki(o))}return()=>{o.removeEventListener(K1,l),setTimeout(()=>{const y=new CustomEvent(Y1,lw);o.addEventListener(Y1,u),o.dispatchEvent(y),y.defaultPrevented||Ki(p??document.body,{select:!0}),o.removeEventListener(Y1,u),fw.remove(h)},0)}}},[o,l,u,h]);const v=E.useCallback(p=>{if(!r&&!n||h.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const w=p.currentTarget,[m,_]=p9(w);m&&_?!p.shiftKey&&y===_?(p.preventDefault(),r&&Ki(m,{select:!0})):p.shiftKey&&y===m&&(p.preventDefault(),r&&Ki(_,{select:!0})):y===w&&p.preventDefault()}},[r,n,h.paused]);return g.jsx(ze.div,{tabIndex:-1,...s,ref:d,onKeyDown:v})});em.displayName=d9;function h9(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ki(n,{select:t}),document.activeElement!==r)return}function p9(e){const t=vA(e),r=uw(t,e),n=uw(t.reverse(),e);return[r,n]}function vA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function uw(e,t){for(const r of e)if(!v9(r,{upTo:t}))return r}function v9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function g9(e){return e instanceof HTMLInputElement&&"select"in e}function Ki(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&g9(e)&&t&&e.select()}}var fw=x9();function x9(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=dw(e,t),e.unshift(t)},remove(t){var r;e=dw(e,t),(r=e[0])==null||r.resume()}}}function dw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function m9(e){return e.filter(t=>t.tagName!=="A")}var q1=0;function gA(){E.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hw()),document.body.insertAdjacentElement("beforeend",e[1]??hw()),q1++,()=>{q1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),q1--}},[])}function hw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ka=function(){return Ka=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ka.apply(this,arguments)};function xA(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function y9(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var K0="right-scroll-bar-position",Y0="width-before-scroll-bar",w9="with-scroll-bars-hidden",_9="--removed-body-scroll-bar-size";function Z1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function E9(e,t){var r=E.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var C9=typeof window<"u"?E.useLayoutEffect:E.useEffect,pw=new WeakMap;function S9(e,t){var r=E9(null,function(n){return e.forEach(function(a){return Z1(a,n)})});return C9(function(){var n=pw.get(r);if(n){var a=new Set(n),i=new Set(e),s=r.current;a.forEach(function(o){i.has(o)||Z1(o,null)}),i.forEach(function(o){a.has(o)||Z1(o,s)})}pw.set(r,e)},[e]),r}function A9(e){return e}function b9(e,t){t===void 0&&(t=A9);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(i),s=r}var c=function(){var u=s;s=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),r={push:function(u){s.push(u),l()},filter:function(u){return s=s.filter(u),r}}}};return a}function T9(e){e===void 0&&(e={});var t=b9(null);return t.options=Ka({async:!0,ssr:!1},e),t}var mA=function(e){var t=e.sideCar,r=xA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,Ka({},r))};mA.isSideCarExport=!0;function k9(e,t){return e.useMedium(t),mA}var yA=T9(),Q1=function(){},Rh=E.forwardRef(function(e,t){var r=E.useRef(null),n=E.useState({onScrollCapture:Q1,onWheelCapture:Q1,onTouchMoveCapture:Q1}),a=n[0],i=n[1],s=e.forwardProps,o=e.children,c=e.className,l=e.removeScrollBar,u=e.enabled,f=e.shards,d=e.sideCar,h=e.noRelative,v=e.noIsolation,p=e.inert,x=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,m=e.gapMode,_=xA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=d,A=S9([r,t]),C=Ka(Ka({},_),a);return E.createElement(E.Fragment,null,u&&E.createElement(S,{sideCar:yA,removeScrollBar:l,shards:f,noRelative:h,noIsolation:v,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:m}),s?E.cloneElement(E.Children.only(o),Ka(Ka({},C),{ref:A})):E.createElement(w,Ka({},C,{className:c,ref:A}),o))});Rh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rh.classNames={fullWidth:Y0,zeroRight:K0};var I9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function N9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=I9();return t&&e.setAttribute("nonce",t),e}function O9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function R9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var P9=function(){var e=0,t=null;return{add:function(r){e==0&&(t=N9())&&(O9(t,r),R9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},D9=function(){var e=P9();return function(t,r){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},wA=function(){var e=D9(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},F9={left:0,top:0,right:0,gap:0},J1=function(e){return parseInt(e||"",10)||0},M9=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[J1(r),J1(n),J1(a)]},L9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return F9;var t=M9(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},B9=wA(),Ic="data-scroll-locked",j9=function(e,t,r,n){var a=e.left,i=e.top,s=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(w9,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Ic,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(K0,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Y0,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(K0," .").concat(K0,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Y0," .").concat(Y0,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ic,`] {
    `).concat(_9,": ").concat(o,`px;
  }
`)},vw=function(){var e=parseInt(document.body.getAttribute(Ic)||"0",10);return isFinite(e)?e:0},U9=function(){E.useEffect(function(){return document.body.setAttribute(Ic,(vw()+1).toString()),function(){var e=vw()-1;e<=0?document.body.removeAttribute(Ic):document.body.setAttribute(Ic,e.toString())}},[])},$9=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;U9();var i=E.useMemo(function(){return L9(a)},[a]);return E.createElement(B9,{styles:j9(i,!t,a,r?"":"!important")})},Kv=!1;if(typeof window<"u")try{var p0=Object.defineProperty({},"passive",{get:function(){return Kv=!0,!0}});window.addEventListener("test",p0,p0),window.removeEventListener("test",p0,p0)}catch{Kv=!1}var Zo=Kv?{passive:!1}:!1,H9=function(e){return e.tagName==="TEXTAREA"},_A=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!H9(e)&&r[t]==="visible")},V9=function(e){return _A(e,"overflowY")},z9=function(e){return _A(e,"overflowX")},gw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=EA(e,n);if(a){var i=CA(e,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},W9=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},G9=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},EA=function(e,t){return e==="v"?V9(t):z9(t)},CA=function(e,t){return e==="v"?W9(t):G9(t)},X9=function(e,t){return e==="h"&&t==="rtl"?-1:1},K9=function(e,t,r,n,a){var i=X9(e,window.getComputedStyle(t).direction),s=i*n,o=r.target,c=t.contains(o),l=!1,u=s>0,f=0,d=0;do{if(!o)break;var h=CA(e,o),v=h[0],p=h[1],x=h[2],y=p-x-i*v;(v||y)&&EA(e,o)&&(f+=y,d+=v);var w=o.parentNode;o=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(d)<1||!a))&&(l=!0),l},v0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xw=function(e){return[e.deltaX,e.deltaY]},mw=function(e){return e&&"current"in e?e.current:e},Y9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},q9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Z9=0,Qo=[];function Q9(e){var t=E.useRef([]),r=E.useRef([0,0]),n=E.useRef(),a=E.useState(Z9++)[0],i=E.useState(wA)[0],s=E.useRef(e);E.useEffect(function(){s.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=y9([e.lockRef.current],(e.shards||[]).map(mw),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=E.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!s.current.allowPinchZoom;var y=v0(p),w=r.current,m="deltaX"in p?p.deltaX:w[0]-y[0],_="deltaY"in p?p.deltaY:w[1]-y[1],S,A=p.target,C=Math.abs(m)>Math.abs(_)?"h":"v";if("touches"in p&&C==="h"&&A.type==="range")return!1;var b=gw(C,A);if(!b)return!0;if(b?S=C:(S=C==="v"?"h":"v",b=gw(C,A)),!b)return!1;if(!n.current&&"changedTouches"in p&&(m||_)&&(n.current=S),!S)return!0;var T=n.current||S;return K9(T,x,p,T==="h"?m:_,!0)},[]),c=E.useCallback(function(p){var x=p;if(!(!Qo.length||Qo[Qo.length-1]!==i)){var y="deltaY"in x?xw(x):v0(x),w=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&Y9(S.delta,y)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var m=(s.current.shards||[]).map(mw).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=m.length>0?o(x,m[0]):!s.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),l=E.useCallback(function(p,x,y,w){var m={name:p,delta:x,target:y,should:w,shadowParent:J9(y)};t.current.push(m),setTimeout(function(){t.current=t.current.filter(function(_){return _!==m})},1)},[]),u=E.useCallback(function(p){r.current=v0(p),n.current=void 0},[]),f=E.useCallback(function(p){l(p.type,xw(p),p.target,o(p,e.lockRef.current))},[]),d=E.useCallback(function(p){l(p.type,v0(p),p.target,o(p,e.lockRef.current))},[]);E.useEffect(function(){return Qo.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",c,Zo),document.addEventListener("touchmove",c,Zo),document.addEventListener("touchstart",u,Zo),function(){Qo=Qo.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Zo),document.removeEventListener("touchmove",c,Zo),document.removeEventListener("touchstart",u,Zo)}},[]);var h=e.removeScrollBar,v=e.inert;return E.createElement(E.Fragment,null,v?E.createElement(i,{styles:q9(a)}):null,h?E.createElement($9,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function J9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const eM=k9(yA,Q9);var tm=E.forwardRef(function(e,t){return E.createElement(Rh,Ka({},e,{ref:t,sideCar:eM}))});tm.classNames=Rh.classNames;var tM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jo=new WeakMap,g0=new WeakMap,x0={},ep=0,SA=function(e){return e&&(e.host||SA(e.parentNode))},rM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=SA(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},nM=function(e,t,r,n){var a=rM(t,Array.isArray(e)?e:[e]);x0[r]||(x0[r]=new WeakMap);var i=x0[r],s=[],o=new Set,c=new Set(a),l=function(f){!f||o.has(f)||(o.add(f),l(f.parentNode))};a.forEach(l);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(d){if(o.has(d))u(d);else try{var h=d.getAttribute(n),v=h!==null&&h!=="false",p=(Jo.get(d)||0)+1,x=(i.get(d)||0)+1;Jo.set(d,p),i.set(d,x),s.push(d),p===1&&v&&g0.set(d,!0),x===1&&d.setAttribute(r,"true"),v||d.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",d,y)}})};return u(t),o.clear(),ep++,function(){s.forEach(function(f){var d=Jo.get(f)-1,h=i.get(f)-1;Jo.set(f,d),i.set(f,h),d||(g0.has(f)||f.removeAttribute(n),g0.delete(f)),h||f.removeAttribute(r)}),ep--,ep||(Jo=new WeakMap,Jo=new WeakMap,g0=new WeakMap,x0={})}},AA=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=tM(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),nM(n,a,r,"aria-hidden")):function(){return null}},Ph="Dialog",[bA,TA]=Fi(Ph),[aM,Ma]=bA(Ph),kA=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,o=E.useRef(null),c=E.useRef(null),[l,u]=Zc({prop:n,defaultProp:a??!1,onChange:i,caller:Ph});return g.jsx(aM,{scope:t,triggerRef:o,contentRef:c,contentId:_s(),titleId:_s(),descriptionId:_s(),open:l,onOpenChange:u,onOpenToggle:E.useCallback(()=>u(f=>!f),[u]),modal:s,children:r})};kA.displayName=Ph;var IA="DialogTrigger",NA=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ma(IA,r),i=vt(t,a.triggerRef);return g.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":am(a.open),...n,ref:i,onClick:Pe(e.onClick,a.onOpenToggle)})});NA.displayName=IA;var rm="DialogPortal",[iM,OA]=bA(rm,{forceMount:void 0}),RA=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Ma(rm,t);return g.jsx(iM,{scope:t,forceMount:r,children:E.Children.map(n,s=>g.jsx(Fo,{present:r||i.open,children:g.jsx(lh,{asChild:!0,container:a,children:s})}))})};RA.displayName=rm;var Rd="DialogOverlay",PA=E.forwardRef((e,t)=>{const r=OA(Rd,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ma(Rd,e.__scopeDialog);return i.modal?g.jsx(Fo,{present:n||i.open,children:g.jsx(oM,{...a,ref:t})}):null});PA.displayName=Rd;var sM=qc("DialogOverlay.RemoveScroll"),oM=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ma(Rd,r);return g.jsx(tm,{as:sM,allowPinchZoom:!0,shards:[a.contentRef],children:g.jsx(ze.div,{"data-state":am(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ao="DialogContent",DA=E.forwardRef((e,t)=>{const r=OA(Ao,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ma(Ao,e.__scopeDialog);return g.jsx(Fo,{present:n||i.open,children:i.modal?g.jsx(cM,{...a,ref:t}):g.jsx(lM,{...a,ref:t})})});DA.displayName=Ao;var cM=E.forwardRef((e,t)=>{const r=Ma(Ao,e.__scopeDialog),n=E.useRef(null),a=vt(t,r.contentRef,n);return E.useEffect(()=>{const i=n.current;if(i)return AA(i)},[]),g.jsx(FA,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&i.preventDefault()}),onFocusOutside:Pe(e.onFocusOutside,i=>i.preventDefault())})}),lM=E.forwardRef((e,t)=>{const r=Ma(Ao,e.__scopeDialog),n=E.useRef(!1),a=E.useRef(!1);return g.jsx(FA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,o;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,l;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((l=r.triggerRef.current)==null?void 0:l.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),FA=E.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,o=Ma(Ao,r),c=E.useRef(null),l=vt(t,c);return gA(),g.jsxs(g.Fragment,{children:[g.jsx(em,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:g.jsx(ff,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":am(o.open),...s,ref:l,onDismiss:()=>o.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(fM,{titleId:o.titleId}),g.jsx(hM,{contentRef:c,descriptionId:o.descriptionId})]})]})}),nm="DialogTitle",MA=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ma(nm,r);return g.jsx(ze.h2,{id:a.titleId,...n,ref:t})});MA.displayName=nm;var LA="DialogDescription",BA=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ma(LA,r);return g.jsx(ze.p,{id:a.descriptionId,...n,ref:t})});BA.displayName=LA;var jA="DialogClose",UA=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ma(jA,r);return g.jsx(ze.button,{type:"button",...n,ref:t,onClick:Pe(e.onClick,()=>a.onOpenChange(!1))})});UA.displayName=jA;function am(e){return e?"open":"closed"}var $A="DialogTitleWarning",[uM,HA]=TI($A,{contentName:Ao,titleName:nm,docsSlug:"dialog"}),fM=({titleId:e})=>{const t=HA($A),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},dM="DialogDescriptionWarning",hM=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HA(dM).contentName}}.`;return E.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},im=kA,sm=NA,om=RA,Ef=PA,Cf=DA,Sf=MA,Af=BA,bf=UA;const ei=im,cm=sm,pM=om,VA=E.forwardRef(({className:e,...t},r)=>g.jsx(Ef,{ref:r,className:Se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));VA.displayName=Ef.displayName;const Oa=E.forwardRef(({className:e,children:t,...r},n)=>g.jsxs(pM,{children:[g.jsx(VA,{}),g.jsxs(Cf,{ref:n,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border-none bg-background p-6 shadow-neu duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-2xl",e),...r,children:[t,g.jsxs(bf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(Co,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Oa.displayName=Cf.displayName;const ti=({className:e,...t})=>g.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ti.displayName="DialogHeader";const ri=E.forwardRef(({className:e,...t},r)=>g.jsx(Sf,{ref:r,className:Se("text-lg font-semibold leading-none tracking-tight",e),...t}));ri.displayName=Sf.displayName;const vM=E.forwardRef(({className:e,...t},r)=>g.jsx(Af,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));vM.displayName=Af.displayName;const gM=hf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ac({className:e,variant:t,...r}){return g.jsx("div",{className:Se(gM({variant:t}),e),...r})}function xM({open:e,onOpenChange:t,product:r}){const[n,a]=E.useState(!1);if(!r)return null;const i=()=>{a(!0)};return g.jsxs(g.Fragment,{children:[g.jsx(ei,{open:e,onOpenChange:t,children:g.jsxs(Oa,{className:"sm:max-w-[95vw] max-h-[90vh] overflow-y-auto",dir:"rtl",children:[g.jsx(ti,{children:g.jsx(ri,{className:"text-right text-xl font-bold",children:" "})}),g.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[g.jsxs("div",{className:"relative w-full aspect-video rounded-lg overflow-hidden bg-background border-none shadow-neu-inset group cursor-pointer",onClick:i,children:[g.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105"}),g.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-200 flex items-center justify-center",children:g.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:g.jsx("div",{className:"bg-background rounded-full p-2 shadow-neu",children:g.jsx(pC,{size:20,className:"text-gray-700"})})})}),g.jsx("div",{className:"absolute top-2 left-2 bg-background rounded-full p-1.5 shadow-neu opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:g.jsx(mv,{size:16,className:"text-gray-600"})})]}),g.jsxs("div",{className:"space-y-3 sm:space-y-4 text-right",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:r.name}),g.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[g.jsxs(ac,{className:"flex items-center gap-1 bg-background shadow-neu-inset border-none text-primary text-xs sm:text-sm",children:[g.jsx(UN,{size:12}),r.category]}),r.barcode&&g.jsxs(ac,{className:"flex items-center gap-1 bg-background shadow-neu-inset border-none text-muted-foreground text-xs",children:[g.jsx(wN,{size:12}),g.jsx("span",{className:"hidden sm:inline",children:r.barcode}),g.jsxs("span",{className:"sm:hidden",children:[r.barcode.slice(0,8),"..."]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[g.jsx("div",{className:"p-3 sm:p-4 bg-background rounded-2xl shadow-neu-inset border-none",children:g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-xs sm:text-sm text-primary mb-1 font-medium",children:""}),g.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-900",children:sr(r.price)})]})}),g.jsx("div",{className:"p-3 sm:p-4 bg-background rounded-2xl shadow-neu-inset border-none",children:g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"text-xs sm:text-sm text-green-600 mb-1 font-medium",children:""}),g.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[g.jsx(Rr,{size:16,className:"text-green-600"}),g.jsx("span",{className:`text-base sm:text-lg font-bold ${r.stock>0?"text-green-900":"text-red-600"}`,children:r.stock})]})]})})]}),g.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[g.jsx("p",{className:"font-semibold text-gray-900",children:":"}),g.jsxs("div",{className:"flex gap-2 flex-wrap",children:[g.jsx(ac,{className:`px-2 sm:px-3 py-1 text-xs sm:text-sm bg-background shadow-neu-inset border-none ${r.stock>0?"text-green-600":"text-red-500"}`,children:r.stock>0?" ":"  "}),r.isAvailable===!1&&g.jsx(ac,{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm bg-background shadow-neu-inset border-none text-red-500",children:"   "}),r.isAvailable!==!1&&r.stock>0&&g.jsx(ac,{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm bg-background shadow-neu-inset border-none text-green-600",children:"  "})]})]}),r.id&&g.jsx("div",{className:"p-2 sm:p-3 bg-background rounded-2xl shadow-neu-inset border-none mt-4",children:g.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[" : ",g.jsxs("span",{className:"font-mono text-gray-700",children:[r.id.slice(0,8),"..."]})]})})]})]})]})}),g.jsx(ei,{open:n,onOpenChange:a,children:g.jsxs(Oa,{className:"sm:max-w-[95vw] max-h-[95vh] p-1 sm:p-6",children:[g.jsx(ti,{className:"hidden sm:block",children:g.jsx(ri,{className:"text-right text-xl font-bold",children:" "})}),g.jsx("div",{className:"flex items-center justify-center min-h-[50vh] sm:min-h-[70vh]",children:g.jsx("img",{src:r.image,alt:r.name,className:"max-w-full max-h-[80vh] object-contain rounded-lg"})})]})})]})}function mM({product:e}){const[t,r]=E.useState(!1),[n,a]=E.useState(!1),[i,s]=E.useState(e),o=d=>{d.stopPropagation(),a(!0)},c=[e,...e.variants||[]],l=c.length>1,u=d=>{d.stopPropagation(),d.preventDefault();const v=(c.findIndex(p=>p.id===i.id)+1)%c.length;s(c[v])},f=d=>{d.stopPropagation(),d.preventDefault();const v=(c.findIndex(p=>p.id===i.id)-1+c.length)%c.length;s(c[v])};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:Se("group relative flex flex-col items-center justify-between p-3 sm:p-5 rounded-3xl sm:rounded-[2.5rem] transition-all cursor-pointer hover:scale-[1.02] active:scale-95 aspect-[4/5] bg-background shadow-neu hover:shadow-neu-sm border-none overflow-hidden"),onClick:()=>r(!0),children:[g.jsx("div",{className:"w-full flex justify-between items-start z-10 w-full h-6"}),g.jsxs("div",{className:"flex-1 flex items-center justify-center w-full my-1 sm:my-2 relative z-10",children:[l&&g.jsx("button",{type:"button",onClick:f,className:"absolute right-0 sm:-right-2 p-1.5 sm:p-2 rounded-full bg-background/90 backdrop-blur-md shadow-neu hover:shadow-neu-sm border-none text-gray-600 hover:text-gray-900 z-20 active:shadow-neu-inset transition-all",children:g.jsx(AN,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),g.jsx("div",{className:Se("mx-auto w-[90%] aspect-square max-w-[240px] rounded-[2rem] flex items-center justify-center text-gray-900 overflow-hidden shadow-neu-inset bg-background relative group p-1 sm:p-2"),children:i.image?g.jsxs(g.Fragment,{children:[g.jsx("img",{src:i.image,alt:"",className:"w-full h-full object-contain mix-blend-multiply cursor-pointer hover:scale-[1.15] transition-transform duration-300",onClick:o}),g.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-200 flex items-center justify-center",children:g.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:g.jsx("div",{className:"bg-background rounded-full p-2 shadow-neu",children:g.jsx(pC,{size:16,className:"text-gray-700"})})})})]}):g.jsx(GN,{size:40,className:"text-gray-300"})}),l&&g.jsx("button",{type:"button",onClick:u,className:"absolute left-0 sm:-left-2 p-1.5 sm:p-2 rounded-full bg-background/90 backdrop-blur-md shadow-neu hover:shadow-neu-sm border-none text-gray-600 hover:text-gray-900 z-20 active:shadow-neu-inset transition-all",children:g.jsx(SN,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),g.jsxs("div",{className:"w-full text-center mt-1 sm:mt-2 z-10 flex flex-col items-center gap-0.5 sm:gap-1",children:[g.jsx("h3",{className:"font-bold text-base sm:text-xl leading-tight line-clamp-1 text-gray-900 px-1",children:i.name}),g.jsx("p",{className:Se("text-sm sm:text-lg text-primary font-bold"),children:sr(i.price)}),l?g.jsx("span",{className:"text-[10px] sm:text-xs font-bold text-primary shadow-neu-inset px-3 py-1 bg-background rounded-full mt-1 border-none line-clamp-1 max-w-[90%]",children:e.category}):g.jsx("div",{className:"h-[20px] sm:h-[24px] mt-0.5"})]})]}),g.jsx(xM,{open:t,onOpenChange:r,product:i}),g.jsx(ei,{open:n,onOpenChange:a,children:g.jsxs(Oa,{className:"sm:max-w-[95vw] max-h-[95vh] p-1 sm:p-6",children:[g.jsx(ti,{className:"hidden sm:block",children:g.jsx(ri,{className:"text-right text-xl font-bold",children:" "})}),g.jsx("div",{className:"flex items-center justify-center min-h-[50vh] sm:min-h-[70vh]",children:g.jsx("img",{src:i.image,alt:i.name,className:"max-w-full max-h-[80vh] object-contain rounded-lg"})})]})})]})}function yM({categories:e,selectedCategory:t,onCategorySelect:r}){const n=a=>a.includes("")?g.jsx(bN,{size:28}):a.includes("")?g.jsx(VN,{size:28}):g.jsx(EN,{size:28});return g.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide px-2",children:[g.jsxs("button",{onClick:()=>r(null),className:Se("flex-shrink-0 w-24 h-24 rounded-[1.5rem] flex flex-col items-center justify-center gap-3 transition-all duration-300",t===null?"bg-primary text-primary-foreground shadow-neu-inset scale-95":"bg-background text-muted-foreground hover:text-foreground shadow-neu hover:shadow-neu-sm"),children:[g.jsx(NN,{size:28,strokeWidth:2}),g.jsx("span",{className:"text-xs font-bold",children:""})]}),e.map(a=>g.jsxs("button",{onClick:()=>r(a.id),className:Se("flex-shrink-0 w-24 h-24 rounded-[1.5rem] flex flex-col items-center justify-center gap-3 transition-all duration-300",t===a.id?"bg-primary text-primary-foreground shadow-neu-inset scale-95":"bg-background text-muted-foreground hover:text-foreground shadow-neu hover:shadow-neu-sm"),children:[n(a.name),g.jsx("span",{className:"text-xs font-bold truncate max-w-[80%]",children:a.name})]},a.id))]})}const wM=im,_M=sm,m0=bf,EM=om,zA=E.forwardRef(({className:e,...t},r)=>g.jsx(Ef,{className:Se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));zA.displayName=Ef.displayName;const CM=hf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),WA=E.forwardRef(({side:e="right",className:t,children:r,...n},a)=>g.jsxs(EM,{children:[g.jsx(zA,{}),g.jsxs(Cf,{ref:a,className:Se(CM({side:e}),t),...n,children:[r,g.jsxs(bf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[g.jsx(Co,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));WA.displayName=Cf.displayName;const GA=({className:e,...t})=>g.jsx("div",{className:Se("flex flex-col space-y-2 text-center sm:text-left",e),...t});GA.displayName="SheetHeader";const XA=E.forwardRef(({className:e,...t},r)=>g.jsx(Sf,{ref:r,className:Se("text-lg font-semibold text-foreground",e),...t}));XA.displayName=Sf.displayName;const SM=E.forwardRef(({className:e,...t},r)=>g.jsx(Af,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));SM.displayName=Af.displayName;const lm=Nh((e,t)=>({isClockedIn:!1,profiles:[],loading:!1,userPin:null,checkStatus:async()=>{try{const{data:{user:r}}=await _e.auth.getUser();if(!r){console.log("No user found in auth"),e({isClockedIn:!1});return}const{data:n}=await _e.from("profiles").select("is_clocked_in").eq("user_id",r.id).single(),a=(n==null?void 0:n.is_clocked_in)===!0,i=`attendance_${r.id}`,s=localStorage.getItem(i);a?(e({isClockedIn:!0}),s||localStorage.setItem(i,JSON.stringify({clockedIn:!0,clockInTime:new Date().toISOString(),userId:r.id}))):(e({isClockedIn:!1}),localStorage.removeItem(i))}catch(r){console.error("Error checking status:",r),e({isClockedIn:!1})}},fetchProfiles:async()=>{e({loading:!0});try{const{data:r,error:n}=await _e.from("profiles").select("*").order("full_name",{ascending:!0});if(n)throw n;e({profiles:r})}catch(r){console.error("Error fetching profiles:",r)}finally{e({loading:!1})}},clockIn:async()=>{try{const{data:{user:r}}=await _e.auth.getUser();if(!r)return{success:!1,error:"User not authenticated"};const{error:n}=await _e.from("profiles").update({is_clocked_in:!0}).eq("user_id",r.id);if(n)throw n;const a=`attendance_${r.id}`,i=new Date().toISOString(),s={clockedIn:!0,clockInTime:i,userId:r.id};return localStorage.setItem(a,JSON.stringify(s)),e({isClockedIn:!0}),console.log("User clocked in successfully:",{userId:r.id,clockInTime:i}),t().fetchProfiles(),{success:!0}}catch(r){return console.error("Clock in error:",r),{success:!1,error:"Failed to clock in"}}},clockOut:async()=>{try{const{data:{user:r}}=await _e.auth.getUser();if(!r)return{success:!1,error:"User not authenticated"};const{error:n}=await _e.from("profiles").update({is_clocked_in:!1}).eq("user_id",r.id);if(n)throw n;const a=`attendance_${r.id}`,i=localStorage.getItem(a);if(i){const o={...JSON.parse(i),clockedIn:!1,clockOutTime:new Date().toISOString()};localStorage.setItem(`${a}_history`,JSON.stringify(o)),localStorage.removeItem(a)}return e({isClockedIn:!1}),console.log("User clocked out successfully:",{userId:r.id,clockOutTime:new Date().toISOString()}),t().fetchProfiles(),{success:!0}}catch(r){return console.error("Clock out error:",r),{success:!1,error:"Failed to clock out"}}},updatePin:async r=>{try{const{data:{user:n}}=await _e.auth.getUser();if(!n)return{success:!1,error:"User not found"};const{error:a}=await _e.from("profiles").update({pin_code:r}).eq("user_id",n.id);if(a)throw a;return e({userPin:r}),{success:!0}}catch(n){return{success:!1,error:n.message}}}}));function AM(e,t){let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>e(...n),t)}}function bM(){const[e,t]=E.useState(navigator.onLine);return E.useEffect(()=>{const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}},[]),e}function TM(){const{products:e,categories:t,fetchCategories:r,fetchProductsByCategory:n,searchProducts:a,loading:i,hasMore:s}=Oh(),{profiles:o,loading:c,fetchProfiles:l,checkStatus:u,isClockedIn:f}=lm(),[d,h]=E.useState(""),[v,p]=E.useState(null),[x,y]=E.useState(0),w=Lo(),m=bM(),_=E.useRef(null);E.useEffect(()=>{u(),l()},[u,l]),E.useEffect(()=>{r(),n(null,0)},[r,n]),E.useEffect(()=>{const b=new IntersectionObserver(O=>{if(O[0].isIntersecting&&s&&!i){const R=x+1;y(R),n(v,R)}},{threshold:.1}),T=_.current;return T&&b.observe(T),()=>{T&&b.unobserve(T)}},[s,i,x,v,n]);const S=E.useMemo(()=>AM(b=>{b.trim()?(a(b,!1),p(null),y(0)):(n(v,0),y(0))},500),[a,n,v]),A=b=>{const T=b.target.value;h(T),S(T)},C=b=>{p(b),h(""),y(0),n(b,0)};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"pt-12 px-6 pb-6",children:[g.jsxs("div",{className:"flex justify-between items-start mb-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight mb-2",children:" "}),g.jsx("p",{className:"text-gray-400 text-lg font-medium",children:"  "})]}),g.jsxs(wM,{children:[g.jsx(_M,{asChild:!0,children:g.jsx("button",{className:"p-3 text-gray-900 hover:bg-gray-100 rounded-full transition-colors relative z-10 border border-transparent hover:border-gray-200",children:g.jsx(PN,{size:28,strokeWidth:2.5})})}),g.jsxs(WA,{side:"right",className:"w-[300px] sm:w-[540px] z-[100] overflow-y-auto",children:[g.jsx(GA,{className:"text-right mb-8",children:g.jsx(XA,{className:"text-2xl font-bold",children:""})}),g.jsxs("div",{className:"flex flex-col gap-6 text-right",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-lg font-bold text-gray-700 mb-3 flex items-center justify-end gap-2",children:[" ",g.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]}),g.jsx("div",{className:"flex flex-col gap-3 max-h-[300px] overflow-y-auto pr-1",children:c?g.jsx("div",{className:"flex justify-center p-4",children:g.jsx(wv,{className:"animate-spin text-gray-400"})}):o.length===0?g.jsx("p",{className:"text-gray-400 text-sm py-2",children:"  "}):o.map(b=>g.jsxs("div",{className:"flex items-center justify-end gap-3 p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"font-bold text-sm text-gray-900 leading-tight",children:b.full_name||""}),g.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:b.role||""})]}),g.jsx("div",{className:Se("w-3 h-3 rounded-full border-2 border-white shadow-sm ring-2 ring-gray-100",b.is_clocked_in?"bg-green-500":"bg-gray-300")})]},b.id))})]}),g.jsx("div",{className:"h-px bg-gray-100 my-2"}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx(m0,{asChild:!0,children:g.jsxs(Ne,{variant:"ghost",className:"justify-end gap-3 text-lg h-12",onClick:()=>w("/"),children:[g.jsx("span",{children:" ()"})," ",g.jsx(yv,{size:20})]})}),g.jsx(m0,{asChild:!0,children:g.jsxs(Ne,{variant:"ghost",className:Se("justify-end gap-3 text-lg h-12",!f&&"opacity-50"),onClick:()=>w("/orders"),children:[g.jsxs("span",{className:"flex items-center gap-2",children:[!f&&g.jsx(ON,{size:14,className:"text-gray-400"}),""]}),g.jsx(Ev,{size:20})]})}),g.jsx(m0,{asChild:!0,children:g.jsxs(Ne,{variant:"ghost",className:"justify-end gap-3 text-lg h-12",onClick:()=>w("/management"),children:[g.jsx("span",{children:""})," ",g.jsx(dC,{size:20})]})})]}),g.jsx("div",{className:"h-px bg-gray-100 my-2"}),g.jsxs("div",{className:Se("flex items-center justify-end gap-2 px-4 py-3 rounded-xl transition-colors",m?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:[g.jsx("span",{className:"font-bold text-sm",children:m?"  ":"  "}),m?g.jsx(WN,{size:18}):g.jsx(zN,{size:18})]}),g.jsx(m0,{asChild:!0,children:g.jsxs(Ne,{variant:"ghost",className:"justify-end gap-3 text-lg h-12 text-red-500 hover:text-red-600 hover:bg-red-50",children:[g.jsx("span",{children:" "})," ",g.jsx(fC,{size:20})]})})]})]})]})]}),g.jsxs("div",{className:"relative mb-8",children:[g.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx(Ix,{size:22})}),g.jsx(zt,{type:"text",placeholder:"  ...",className:"w-full h-14 pr-12 pl-4 text-right text-lg bg-background border-none shadow-neu-inset rounded-2xl focus-visible:ring-2 focus-visible:ring-primary transition-shadow",value:d,onChange:A})]}),g.jsxs("div",{className:"mb-10",children:[g.jsx("div",{className:"flex justify-between items-end mb-5 px-1",children:g.jsx("h2",{className:"font-bold text-xl text-gray-900",children:""})}),t.length>0&&g.jsx(yM,{categories:t,selectedCategory:v,onCategorySelect:C})]}),g.jsxs("div",{children:[g.jsx("div",{className:"flex justify-between items-end mb-5 px-1",children:g.jsx("h2",{className:"font-bold text-xl text-gray-900",children:""})}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:e.filter(b=>d.trim()?!0:!b.parent_id).map(b=>g.jsx(mM,{product:b},b.id))}),g.jsx("div",{ref:_,className:"h-4 w-full flex justify-center mt-10",children:i&&g.jsx(wv,{className:"animate-spin text-gray-900",size:32})}),!i&&e.length===0&&g.jsx("div",{className:"text-center py-24 opacity-30",children:g.jsx("p",{className:"text-xl font-medium",children:"  "})})]})]})})}var KA="AlertDialog",[kM,oZ]=Fi(KA,[TA]),Mi=TA(),YA=e=>{const{__scopeAlertDialog:t,...r}=e,n=Mi(t);return g.jsx(im,{...n,...r,modal:!0})};YA.displayName=KA;var IM="AlertDialogTrigger",qA=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mi(r);return g.jsx(sm,{...a,...n,ref:t})});qA.displayName=IM;var NM="AlertDialogPortal",ZA=e=>{const{__scopeAlertDialog:t,...r}=e,n=Mi(t);return g.jsx(om,{...n,...r})};ZA.displayName=NM;var OM="AlertDialogOverlay",QA=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mi(r);return g.jsx(Ef,{...a,...n,ref:t})});QA.displayName=OM;var Nc="AlertDialogContent",[RM,PM]=kM(Nc),DM=L4("AlertDialogContent"),JA=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Mi(r),s=E.useRef(null),o=vt(t,s),c=E.useRef(null);return g.jsx(uM,{contentName:Nc,titleName:eb,docsSlug:"alert-dialog",children:g.jsx(RM,{scope:r,cancelRef:c,children:g.jsxs(Cf,{role:"alertdialog",...i,...a,ref:o,onOpenAutoFocus:Pe(a.onOpenAutoFocus,l=>{var u;l.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:l=>l.preventDefault(),onInteractOutside:l=>l.preventDefault(),children:[g.jsx(DM,{children:n}),g.jsx(MM,{contentRef:s})]})})})});JA.displayName=Nc;var eb="AlertDialogTitle",tb=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mi(r);return g.jsx(Sf,{...a,...n,ref:t})});tb.displayName=eb;var rb="AlertDialogDescription",nb=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mi(r);return g.jsx(Af,{...a,...n,ref:t})});nb.displayName=rb;var FM="AlertDialogAction",ab=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mi(r);return g.jsx(bf,{...a,...n,ref:t})});ab.displayName=FM;var ib="AlertDialogCancel",sb=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=PM(ib,r),i=Mi(r),s=vt(t,a);return g.jsx(bf,{...i,...n,ref:s})});sb.displayName=ib;var MM=({contentRef:e})=>{const t=`\`${Nc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Nc}\` by passing a \`${rb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Nc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},LM=YA,BM=qA,jM=ZA,ob=QA,cb=JA,lb=ab,ub=sb,fb=tb,db=nb;const Dh=LM,Fh=BM,UM=jM,hb=E.forwardRef(({className:e,...t},r)=>g.jsx(ob,{className:Se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));hb.displayName=ob.displayName;const Tf=E.forwardRef(({className:e,...t},r)=>g.jsxs(UM,{children:[g.jsx(hb,{}),g.jsx(cb,{ref:r,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Tf.displayName=cb.displayName;const kf=({className:e,...t})=>g.jsx("div",{className:Se("flex flex-col space-y-2 text-center sm:text-left",e),...t});kf.displayName="AlertDialogHeader";const Mh=({className:e,...t})=>g.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Mh.displayName="AlertDialogFooter";const If=E.forwardRef(({className:e,...t},r)=>g.jsx(fb,{ref:r,className:Se("text-lg font-semibold",e),...t}));If.displayName=fb.displayName;const Lh=E.forwardRef(({className:e,...t},r)=>g.jsx(db,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));Lh.displayName=db.displayName;const Bh=E.forwardRef(({className:e,...t},r)=>g.jsx(lb,{ref:r,className:Se(Zx(),e),...t}));Bh.displayName=lb.displayName;const jh=E.forwardRef(({className:e,...t},r)=>g.jsx(ub,{ref:r,className:Se(Zx({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));jh.displayName=ub.displayName;const $M=()=>{const[e,t]=E.useState([]),[r,n]=E.useState(!0),[a,i]=E.useState(!1),{toast:s}=Do(),o=async()=>{try{n(!0);const{data:w,error:m}=await _e.from("orders").select("*").eq("status","delivered").or("is_profit_deleted.eq.false,is_profit_deleted.is.null").order("updated_at",{ascending:!1});if(m)throw m;t(w||[])}catch(w){console.error("Error fetching profits:",w),s({title:"",description:"     ",variant:"destructive"})}finally{n(!1)}};E.useEffect(()=>{o();const w=_e.channel("profits-changes").on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:"status=eq.delivered"},()=>{o()}).subscribe();return()=>{_e.removeChannel(w)}},[]);const c=w=>{const m=w?new Date(w):new Date,_=m.getFullYear(),S=String(m.getMonth()+1).padStart(2,"0"),A=String(m.getDate()).padStart(2,"0");return`${_}-${S}-${A}`},l=c(),u=e.filter(w=>c(w.updated_at||w.created_at)===l),f=e.filter(w=>c(w.updated_at||w.created_at)!==l),d=u.reduce((w,m)=>w+m.total_amount,0),h=f.reduce((w,m)=>w+m.total_amount,0),v=d+h,p=f.reduce((w,m)=>{const _=c(m.updated_at||m.created_at);return w[_]||(w[_]=0),w[_]+=m.total_amount,w},{}),x=Object.keys(p).sort((w,m)=>new Date(m).getTime()-new Date(w).getTime()),y=async()=>{try{if(f.length===0)return;const w=f.map(_=>_.id),{error:m}=await _e.from("orders").update({is_profit_deleted:!0}).in("id",w);if(m)throw m;s({title:"  ",description:"     "}),o()}catch(w){console.error("Error clearing history:",w),s({title:"",description:"    ",variant:"destructive"})}};return r?g.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 border border-gray-100 px-4 py-2.5 rounded-2xl animate-pulse w-max mb-6",children:[g.jsx("div",{className:"w-8 h-8 rounded-xl bg-gray-200"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded"}),g.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})]})]}):g.jsxs(ei,{children:[g.jsx(cm,{asChild:!0,children:g.jsxs("button",{className:"group relative flex items-center gap-4 bg-background transition-all px-4 py-3 rounded-[2rem] mb-8 border-none shadow-neu hover:shadow-neu-sm active:shadow-neu-inset w-full sm:w-auto",children:[g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-100 to-emerald-50 text-green-600 rounded-xl flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform duration-300",children:g.jsx(CN,{size:24,strokeWidth:2.5})}),g.jsxs("div",{className:"flex flex-col text-right",children:[g.jsx("span",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wider mb-0.5",children:"  "}),g.jsx("span",{className:"text-xl font-black text-gray-900 leading-none",children:sr(d)})]}),g.jsx("div",{className:"absolute left-4 opacity-0 group-hover:opacity-100 transition-opacity text-green-600 bg-background p-1.5 rounded-full shadow-neu",children:g.jsx(FN,{size:16})})]})}),g.jsx(Oa,{className:"sm:max-w-md p-0 overflow-hidden bg-background border-none shadow-neu rounded-[2rem]",children:g.jsxs("div",{className:"w-full bg-background",children:[g.jsxs("div",{className:"p-6 bg-gradient-to-br from-green-50 to-emerald-50/30 border-b border-green-100/50",children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-2xl flex items-center justify-center shadow-inner",children:g.jsx(kN,{size:32,strokeWidth:3})})}),g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("h2",{className:"text-gray-500 font-bold mb-1",children:"  "}),g.jsx("h3",{className:"text-4xl font-black text-green-600",children:sr(d)})]}),g.jsxs("div",{className:"flex items-center justify-between bg-background p-4 rounded-xl border-none shadow-neu-inset",children:[g.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[g.jsx($N,{size:20,className:"text-blue-500"}),g.jsx("span",{className:"font-bold",children:" :"})]}),g.jsx("span",{className:"font-black text-xl text-gray-900",children:sr(v)})]})]}),g.jsxs("button",{onClick:()=>i(!a),className:"w-full flex items-center justify-between p-4 bg-background transition-all border-none",children:[g.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-bold",children:[g.jsx(fy,{size:20,className:"text-blue-500"}),g.jsx("span",{children:"  "})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"font-bold text-gray-900 text-lg",children:sr(h)}),a?g.jsx(Tx,{size:20,className:"text-gray-400"}):g.jsx(dh,{size:20,className:"text-gray-400"})]})]}),g.jsx("div",{className:Se("transition-all duration-300 overflow-hidden bg-gray-50",a?"max-h-[300px] overflow-y-auto":"max-h-0"),children:g.jsx("div",{className:"p-4",children:x.length>0?g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[g.jsx("span",{className:"text-sm font-bold text-gray-500",children:" "}),g.jsxs(Dh,{children:[g.jsx(Fh,{asChild:!0,children:g.jsxs("button",{className:"flex items-center gap-1.5 text-xs font-bold text-red-600 hover:text-red-700 bg-red-50 hover:bg-red-100 px-3 py-1.5 rounded-lg transition-colors",children:[g.jsx(pf,{size:14})," "]})}),g.jsxs(Tf,{children:[g.jsxs(kf,{children:[g.jsx(If,{children:"      "}),g.jsx(Lh,{children:"         .         ."})]}),g.jsxs(Mh,{className:"flex-row-reverse sm:justify-start gap-2",children:[g.jsx(Bh,{onClick:y,className:"bg-red-600 hover:bg-red-700",children:" "}),g.jsx(jh,{className:"mt-0",children:""})]})]})]})]}),x.map(w=>g.jsxs("div",{className:"flex justify-between items-center bg-background p-3.5 rounded-xl border-none shadow-neu",children:[g.jsx("span",{className:"font-bold text-gray-600 text-sm",dir:"ltr",children:w}),g.jsx("span",{className:"font-black text-gray-900",children:sr(p[w])})]},w))]}):g.jsxs("div",{className:"text-center py-8",children:[g.jsx(fy,{size:36,className:"mx-auto text-gray-200 mb-3"}),g.jsx("p",{className:"text-gray-400 font-medium text-sm",children:"     "})]})})})]})})]})},HM=()=>{const{user:e}=qx(),[t,r]=E.useState(!1);return E.useEffect(()=>{(async()=>{if(e)try{const{data:a,error:i}=await _e.from("profiles").select("role").eq("user_id",e.id).single();!i&&a&&a.role==="admin"&&r(!0)}catch(a){console.error("Error checking role:",a)}})()},[e]),g.jsxs("div",{className:"w-full max-w-7xl mx-auto px-2 sm:px-4 md:px-6 lg:px-8 pt-4 pb-10",children:[t&&g.jsx($M,{}),g.jsx(TM,{})]})};function yw(e,[t,r]){return Math.min(r,Math.max(t,e))}function VM(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var zM=[" ","Enter","ArrowUp","ArrowDown"],WM=[" ","Enter"],bo="Select",[Uh,$h,GM]=Ex(bo),[pl,cZ]=Fi(bo,[GM,gh]),Hh=gh(),[XM,Bs]=pl(bo),[KM,YM]=pl(bo),pb=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:o,onValueChange:c,dir:l,name:u,autoComplete:f,disabled:d,required:h,form:v}=e,p=Hh(t),[x,y]=E.useState(null),[w,m]=E.useState(null),[_,S]=E.useState(!1),A=Qx(l),[C,b]=Zc({prop:n,defaultProp:a??!1,onChange:i,caller:bo}),[T,O]=Zc({prop:s,defaultProp:o,onChange:c,caller:bo}),U=E.useRef(null),R=x?v||!!x.closest("form"):!0,[H,K]=E.useState(new Set),Q=Array.from(H).map(J=>J.props.value).join(";");return g.jsx(kR,{...p,children:g.jsxs(XM,{required:h,scope:t,trigger:x,onTriggerChange:y,valueNode:w,onValueNodeChange:m,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:_s(),value:T,onValueChange:O,open:C,onOpenChange:b,dir:A,triggerPointerDownPosRef:U,disabled:d,children:[g.jsx(Uh.Provider,{scope:t,children:g.jsx(KM,{scope:e.__scopeSelect,onNativeOptionAdd:E.useCallback(J=>{K(se=>new Set(se).add(J))},[]),onNativeOptionRemove:E.useCallback(J=>{K(se=>{const Y=new Set(se);return Y.delete(J),Y})},[]),children:r})}),R?g.jsxs(Bb,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:T,onChange:J=>O(J.target.value),disabled:d,form:v,children:[T===void 0?g.jsx("option",{value:""}):null,Array.from(H)]},Q):null]})})};pb.displayName=bo;var vb="SelectTrigger",gb=E.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Hh(r),s=Bs(vb,r),o=s.disabled||n,c=vt(t,s.onTriggerChange),l=$h(r),u=E.useRef("touch"),[f,d,h]=Ub(p=>{const x=l().filter(m=>!m.disabled),y=x.find(m=>m.value===s.value),w=$b(x,p,y);w!==void 0&&s.onValueChange(w.value)}),v=p=>{o||(s.onOpenChange(!0),h()),p&&(s.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return g.jsx(GC,{asChild:!0,...i,children:g.jsx(ze.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":jb(s.value)?"":void 0,...a,ref:c,onClick:Pe(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&v(p)}),onPointerDown:Pe(a.onPointerDown,p=>{u.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:Pe(a.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&d(p.key),!(x&&p.key===" ")&&zM.includes(p.key)&&(v(),p.preventDefault())})})})});gb.displayName=vb;var xb="SelectValue",mb=E.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...o}=e,c=Bs(xb,r),{onValueNodeHasChildrenChange:l}=c,u=i!==void 0,f=vt(t,c.onValueNodeChange);return Mr(()=>{l(u)},[l,u]),g.jsx(ze.span,{...o,ref:f,style:{pointerEvents:"none"},children:jb(c.value)?g.jsx(g.Fragment,{children:s}):i})});mb.displayName=xb;var qM="SelectIcon",yb=E.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return g.jsx(ze.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});yb.displayName=qM;var ZM="SelectPortal",wb=e=>g.jsx(lh,{asChild:!0,...e});wb.displayName=ZM;var To="SelectContent",_b=E.forwardRef((e,t)=>{const r=Bs(To,e.__scopeSelect),[n,a]=E.useState();if(Mr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Po.createPortal(g.jsx(Eb,{scope:e.__scopeSelect,children:g.jsx(Uh.Slot,{scope:e.__scopeSelect,children:g.jsx("div",{children:e.children})})}),i):null}return g.jsx(Cb,{...e,ref:t})});_b.displayName=To;var va=10,[Eb,js]=pl(To),QM="SelectContentImpl",JM=qc("SelectContent.RemoveScroll"),Cb=E.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:o,sideOffset:c,align:l,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:v,hideWhenDetached:p,avoidCollisions:x,...y}=e,w=Bs(To,r),[m,_]=E.useState(null),[S,A]=E.useState(null),C=vt(t,X=>_(X)),[b,T]=E.useState(null),[O,U]=E.useState(null),R=$h(r),[H,K]=E.useState(!1),Q=E.useRef(!1);E.useEffect(()=>{if(m)return AA(m)},[m]),gA();const J=E.useCallback(X=>{const[ie,...ne]=R().map(P=>P.ref.current),[q]=ne.slice(-1),ge=document.activeElement;for(const P of X)if(P===ge||(P==null||P.scrollIntoView({block:"nearest"}),P===ie&&S&&(S.scrollTop=0),P===q&&S&&(S.scrollTop=S.scrollHeight),P==null||P.focus(),document.activeElement!==ge))return},[R,S]),se=E.useCallback(()=>J([b,m]),[J,b,m]);E.useEffect(()=>{H&&se()},[H,se]);const{onOpenChange:Y,triggerPointerDownPosRef:L}=w;E.useEffect(()=>{if(m){let X={x:0,y:0};const ie=q=>{var ge,P;X={x:Math.abs(Math.round(q.pageX)-(((ge=L.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(q.pageY)-(((P=L.current)==null?void 0:P.y)??0))}},ne=q=>{X.x<=10&&X.y<=10?q.preventDefault():m.contains(q.target)||Y(!1),document.removeEventListener("pointermove",ie),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",ne,{capture:!0})}}},[m,Y,L]),E.useEffect(()=>{const X=()=>Y(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[Y]);const[le,de]=Ub(X=>{const ie=R().filter(ge=>!ge.disabled),ne=ie.find(ge=>ge.ref.current===document.activeElement),q=$b(ie,X,ne);q&&setTimeout(()=>q.ref.current.focus())}),N=E.useCallback((X,ie,ne)=>{const q=!Q.current&&!ne;(w.value!==void 0&&w.value===ie||q)&&(T(X),q&&(Q.current=!0))},[w.value]),G=E.useCallback(()=>m==null?void 0:m.focus(),[m]),V=E.useCallback((X,ie,ne)=>{const q=!Q.current&&!ne;(w.value!==void 0&&w.value===ie||q)&&U(X)},[w.value]),z=n==="popper"?Yv:Sb,W=z===Yv?{side:o,sideOffset:c,align:l,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:v,hideWhenDetached:p,avoidCollisions:x}:{};return g.jsx(Eb,{scope:r,content:m,viewport:S,onViewportChange:A,itemRefCallback:N,selectedItem:b,onItemLeave:G,itemTextRefCallback:V,focusSelectedItem:se,selectedItemText:O,position:n,isPositioned:H,searchRef:le,children:g.jsx(tm,{as:JM,allowPinchZoom:!0,children:g.jsx(em,{asChild:!0,trapped:w.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Pe(a,X=>{var ie;(ie=w.trigger)==null||ie.focus({preventScroll:!0}),X.preventDefault()}),children:g.jsx(ff,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:g.jsx(z,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:X=>X.preventDefault(),...y,...W,onPlaced:()=>K(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Pe(y.onKeyDown,X=>{const ie=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!ie&&X.key.length===1&&de(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let q=R().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(X.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const ge=X.target,P=q.indexOf(ge);q=q.slice(P+1)}setTimeout(()=>J(q)),X.preventDefault()}})})})})})})});Cb.displayName=QM;var eL="SelectItemAlignedPosition",Sb=E.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Bs(To,r),s=js(To,r),[o,c]=E.useState(null),[l,u]=E.useState(null),f=vt(t,C=>u(C)),d=$h(r),h=E.useRef(!1),v=E.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:w}=s,m=E.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&l&&p&&x&&y){const C=i.trigger.getBoundingClientRect(),b=l.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(i.dir!=="rtl"){const ge=O.left-b.left,P=T.left-ge,De=C.left-P,oe=C.width+De,Ee=Math.max(oe,b.width),Te=window.innerWidth-va,ve=yw(P,[va,Math.max(va,Te-Ee)]);o.style.minWidth=oe+"px",o.style.left=ve+"px"}else{const ge=b.right-O.right,P=window.innerWidth-T.right-ge,De=window.innerWidth-C.right-P,oe=C.width+De,Ee=Math.max(oe,b.width),Te=window.innerWidth-va,ve=yw(P,[va,Math.max(va,Te-Ee)]);o.style.minWidth=oe+"px",o.style.right=ve+"px"}const U=d(),R=window.innerHeight-va*2,H=p.scrollHeight,K=window.getComputedStyle(l),Q=parseInt(K.borderTopWidth,10),J=parseInt(K.paddingTop,10),se=parseInt(K.borderBottomWidth,10),Y=parseInt(K.paddingBottom,10),L=Q+J+H+Y+se,le=Math.min(x.offsetHeight*5,L),de=window.getComputedStyle(p),N=parseInt(de.paddingTop,10),G=parseInt(de.paddingBottom,10),V=C.top+C.height/2-va,z=R-V,W=x.offsetHeight/2,X=x.offsetTop+W,ie=Q+J+X,ne=L-ie;if(ie<=V){const ge=U.length>0&&x===U[U.length-1].ref.current;o.style.bottom="0px";const P=l.clientHeight-p.offsetTop-p.offsetHeight,De=Math.max(z,W+(ge?G:0)+P+se),oe=ie+De;o.style.height=oe+"px"}else{const ge=U.length>0&&x===U[0].ref.current;o.style.top="0px";const De=Math.max(V,Q+p.offsetTop+(ge?N:0)+W)+ne;o.style.height=De+"px",p.scrollTop=ie-V+p.offsetTop}o.style.margin=`${va}px 0`,o.style.minHeight=le+"px",o.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[d,i.trigger,i.valueNode,o,l,p,x,y,i.dir,n]);Mr(()=>m(),[m]);const[_,S]=E.useState();Mr(()=>{l&&S(window.getComputedStyle(l).zIndex)},[l]);const A=E.useCallback(C=>{C&&v.current===!0&&(m(),w==null||w(),v.current=!1)},[m,w]);return g.jsx(rL,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:h,onScrollButtonChange:A,children:g.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:g.jsx(ze.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Sb.displayName=eL;var tL="SelectPopperPosition",Yv=E.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=va,...i}=e,s=Hh(r);return g.jsx(XC,{...s,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yv.displayName=tL;var[rL,um]=pl(To,{}),qv="SelectViewport",Ab=E.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=js(qv,r),s=um(qv,r),o=vt(t,i.onViewportChange),c=E.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),g.jsx(Uh.Slot,{scope:r,children:g.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Pe(a.onScroll,l=>{const u=l.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:d}=s;if(d!=null&&d.current&&f){const h=Math.abs(c.current-u.scrollTop);if(h>0){const v=window.innerHeight-va*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),y=Math.max(p,x);if(y<v){const w=y+h,m=Math.min(v,w),_=w-m;f.style.height=m+"px",f.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Ab.displayName=qv;var bb="SelectGroup",[nL,aL]=pl(bb),iL=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=_s();return g.jsx(nL,{scope:r,id:a,children:g.jsx(ze.div,{role:"group","aria-labelledby":a,...n,ref:t})})});iL.displayName=bb;var Tb="SelectLabel",kb=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=aL(Tb,r);return g.jsx(ze.div,{id:a.id,...n,ref:t})});kb.displayName=Tb;var Pd="SelectItem",[sL,Ib]=pl(Pd),Nb=E.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=e,o=Bs(Pd,r),c=js(Pd,r),l=o.value===n,[u,f]=E.useState(i??""),[d,h]=E.useState(!1),v=vt(t,w=>{var m;return(m=c.itemRefCallback)==null?void 0:m.call(c,w,n,a)}),p=_s(),x=E.useRef("touch"),y=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(sL,{scope:r,value:n,disabled:a,textId:p,isSelected:l,onItemTextChange:E.useCallback(w=>{f(m=>m||((w==null?void 0:w.textContent)??"").trim())},[]),children:g.jsx(Uh.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:g.jsx(ze.div,{role:"option","aria-labelledby":p,"data-highlighted":d?"":void 0,"aria-selected":l&&d,"data-state":l?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:v,onFocus:Pe(s.onFocus,()=>h(!0)),onBlur:Pe(s.onBlur,()=>h(!1)),onClick:Pe(s.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:Pe(s.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:Pe(s.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:Pe(s.onPointerMove,w=>{var m;x.current=w.pointerType,a?(m=c.onItemLeave)==null||m.call(c):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(s.onPointerLeave,w=>{var m;w.currentTarget===document.activeElement&&((m=c.onItemLeave)==null||m.call(c))}),onKeyDown:Pe(s.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(WM.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});Nb.displayName=Pd;var Wl="SelectItemText",Ob=E.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,s=Bs(Wl,r),o=js(Wl,r),c=Ib(Wl,r),l=YM(Wl,r),[u,f]=E.useState(null),d=vt(t,y=>f(y),c.onItemTextChange,y=>{var w;return(w=o.itemTextRefCallback)==null?void 0:w.call(o,y,c.value,c.disabled)}),h=u==null?void 0:u.textContent,v=E.useMemo(()=>g.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=l;return Mr(()=>(p(v),()=>x(v)),[p,x,v]),g.jsxs(g.Fragment,{children:[g.jsx(ze.span,{id:c.textId,...i,ref:d}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Po.createPortal(i.children,s.valueNode):null]})});Ob.displayName=Wl;var Rb="SelectItemIndicator",Pb=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Ib(Rb,r).isSelected?g.jsx(ze.span,{"aria-hidden":!0,...n,ref:t}):null});Pb.displayName=Rb;var Zv="SelectScrollUpButton",Db=E.forwardRef((e,t)=>{const r=js(Zv,e.__scopeSelect),n=um(Zv,e.__scopeSelect),[a,i]=E.useState(!1),s=vt(t,n.onScrollButtonChange);return Mr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const l=c.scrollTop>0;i(l)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?g.jsx(Mb,{...e,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});Db.displayName=Zv;var Qv="SelectScrollDownButton",Fb=E.forwardRef((e,t)=>{const r=js(Qv,e.__scopeSelect),n=um(Qv,e.__scopeSelect),[a,i]=E.useState(!1),s=vt(t,n.onScrollButtonChange);return Mr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;i(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?g.jsx(Mb,{...e,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});Fb.displayName=Qv;var Mb=E.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=js("SelectScrollButton",r),s=E.useRef(null),o=$h(r),c=E.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return E.useEffect(()=>()=>c(),[c]),Mr(()=>{var u;const l=o().find(f=>f.ref.current===document.activeElement);(u=l==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),g.jsx(ze.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Pe(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:Pe(a.onPointerMove,()=>{var l;(l=i.onItemLeave)==null||l.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:Pe(a.onPointerLeave,()=>{c()})})}),oL="SelectSeparator",Lb=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return g.jsx(ze.div,{"aria-hidden":!0,...n,ref:t})});Lb.displayName=oL;var Jv="SelectArrow",cL=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Hh(r),i=Bs(Jv,r),s=js(Jv,r);return i.open&&s.position==="popper"?g.jsx(KC,{...a,...n,ref:t}):null});cL.displayName=Jv;var lL="SelectBubbleInput",Bb=E.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=E.useRef(null),i=vt(n,a),s=VM(t);return E.useEffect(()=>{const o=a.current;if(!o)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&u){const f=new Event("change",{bubbles:!0});u.call(o,t),o.dispatchEvent(f)}},[s,t]),g.jsx(ze.select,{...r,style:{...H4,...r.style},ref:i,defaultValue:t})});Bb.displayName=lL;function jb(e){return e===""||e===void 0}function Ub(e){const t=ia(e),r=E.useRef(""),n=E.useRef(0),a=E.useCallback(s=>{const o=r.current+s;t(o),function c(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),i=E.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function $b(e,t,r){const a=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=uL(e,Math.max(i,0));a.length===1&&(s=s.filter(l=>l!==r));const c=s.find(l=>l.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function uL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var fL=pb,Hb=gb,dL=mb,hL=yb,pL=wb,Vb=_b,vL=Ab,zb=kb,Wb=Nb,gL=Ob,xL=Pb,Gb=Db,Xb=Fb,Kb=Lb;const Vh=fL,zh=dL,Nf=E.forwardRef(({className:e,children:t,...r},n)=>g.jsxs(Hb,{ref:n,className:Se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,g.jsx(hL,{asChild:!0,children:g.jsx(dh,{className:"h-4 w-4 opacity-50"})})]}));Nf.displayName=Hb.displayName;const Yb=E.forwardRef(({className:e,...t},r)=>g.jsx(Gb,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(Tx,{className:"h-4 w-4"})}));Yb.displayName=Gb.displayName;const qb=E.forwardRef(({className:e,...t},r)=>g.jsx(Xb,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(dh,{className:"h-4 w-4"})}));qb.displayName=Xb.displayName;const Of=E.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>g.jsx(pL,{children:g.jsxs(Vb,{ref:a,className:Se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[g.jsx(Yb,{}),g.jsx(vL,{className:Se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),g.jsx(qb,{})]})}));Of.displayName=Vb.displayName;const mL=E.forwardRef(({className:e,...t},r)=>g.jsx(zb,{ref:r,className:Se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));mL.displayName=zb.displayName;const Ut=E.forwardRef(({className:e,children:t,...r},n)=>g.jsxs(Wb,{ref:n,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(xL,{children:g.jsx(bx,{className:"h-4 w-4"})})}),g.jsx(gL,{children:t})]}));Ut.displayName=Wb.displayName;const yL=E.forwardRef(({className:e,...t},r)=>g.jsx(Kb,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",e),...t}));yL.displayName=Kb.displayName;/*! Capacitor: https://capacitorjs.com/ - MIT License */var tl;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(tl||(tl={}));class Oc extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const wL=e=>{var t,r;return e!=null&&e.androidBridge?"android":!((r=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},_L=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},n=r.Plugins=r.Plugins||{},a=()=>t!==null?t.name:wL(e),i=()=>a()!=="web",s=f=>{const d=l.get(f);return!!(d!=null&&d.platforms.has(a())||o(f))},o=f=>{var d;return(d=r.PluginHeaders)===null||d===void 0?void 0:d.find(h=>h.name===f)},c=f=>e.console.error(f),l=new Map,u=(f,d={})=>{const h=l.get(f);if(h)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),h.proxy;const v=a(),p=o(f);let x;const y=async()=>(!x&&v in d?x=typeof d[v]=="function"?x=await d[v]():x=d[v]:t!==null&&!x&&"web"in d&&(x=typeof d.web=="function"?x=await d.web():x=d.web),x),w=(b,T)=>{var O,U;if(p){const R=p==null?void 0:p.methods.find(H=>T===H.name);if(R)return R.rtype==="promise"?H=>r.nativePromise(f,T.toString(),H):(H,K)=>r.nativeCallback(f,T.toString(),H,K);if(b)return(O=b[T])===null||O===void 0?void 0:O.bind(b)}else{if(b)return(U=b[T])===null||U===void 0?void 0:U.bind(b);throw new Oc(`"${f}" plugin is not implemented on ${v}`,tl.Unimplemented)}},m=b=>{let T;const O=(...U)=>{const R=y().then(H=>{const K=w(H,b);if(K){const Q=K(...U);return T=Q==null?void 0:Q.remove,Q}else throw new Oc(`"${f}.${b}()" is not implemented on ${v}`,tl.Unimplemented)});return b==="addListener"&&(R.remove=async()=>T()),R};return O.toString=()=>`${b.toString()}() { [capacitor code] }`,Object.defineProperty(O,"name",{value:b,writable:!1,configurable:!1}),O},_=m("addListener"),S=m("removeListener"),A=(b,T)=>{const O=_({eventName:b},T),U=async()=>{const H=await O;S({eventName:b,callbackId:H},T)},R=new Promise(H=>O.then(()=>H({remove:U})));return R.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await U()},R},C=new Proxy({},{get(b,T){switch(T){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return p?A:_;case"removeListener":return S;default:return m(T)}}});return n[f]=C,l.set(f,{name:f,proxy:C,platforms:new Set([...Object.keys(d),...p?[v]:[]])}),C};return r.convertFileSrc||(r.convertFileSrc=f=>f),r.getPlatform=a,r.handleError=c,r.isNativePlatform=i,r.isPluginAvailable=s,r.registerPlugin=u,r.Exception=Oc,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},EL=e=>e.Capacitor=_L(e),Qn=EL(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Rf=Qn.registerPlugin;class fm{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let n=!1;this.listeners[t]||(this.listeners[t]=[],n=!0),this.listeners[t].push(r);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(t);const s=async()=>this.removeListener(t,r);return Promise.resolve({remove:s})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,n){const a=this.listeners[t];if(!a){if(n){let i=this.retainedEventArguments[t];i||(i=[]),i.push(r),this.retainedEventArguments[t]=i}return}a.forEach(i=>i(r))}hasListeners(t){var r;return!!(!((r=this.listeners[t])===null||r===void 0)&&r.length)}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new Qn.Exception(t,tl.Unimplemented)}unavailable(t="not available"){return new Qn.Exception(t,tl.Unavailable)}async removeListener(t,r){const n=this.listeners[t];if(!n)return;const a=n.indexOf(r);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(n=>{this.notifyListeners(t,n)}))}}const ww=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),_w=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class CL extends fm{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[a,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=_w(a).trim(),i=_w(i).trim(),r[a]=i}),r}async setCookie(t){try{const r=ww(t.key),n=ww(t.value),a=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),s=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${a}; path=${i}; ${s};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Rf("CapacitorCookies",{web:()=>new CL});const SL=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const a=n.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},n.onerror=a=>r(a),n.readAsDataURL(e)}),AL=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,i,s)=>(a[i]=e[t[s]],a),{})},bL=(e,t=!0)=>e?Object.entries(e).reduce((n,a)=>{const[i,s]=a;let o,c;return Array.isArray(s)?(c="",s.forEach(l=>{o=t?encodeURIComponent(l):l,c+=`${i}=${o}&`}),c.slice(0,-1)):(o=t?encodeURIComponent(s):s,c=`${i}=${o}`),`${n}&${c}`},"").substr(1):null,TL=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),a=AL(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[s,o]of Object.entries(e.data||{}))i.set(s,o);r.body=i.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((o,c)=>{i.append(c,o)});else for(const o of Object.keys(e.data))i.append(o,e.data[o]);r.body=i;const s=new Headers(r.headers);s.delete("content-type"),r.headers=s}else(a.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class kL extends fm{async request(t){const r=TL(t,t.webFetchExtra),n=bL(t.params,t.shouldEncodeUrlParams),a=n?`${t.url}?${n}`:t.url,i=await fetch(a,r),s=i.headers.get("content-type")||"";let{responseType:o="text"}=i.ok?t:{};s.includes("application/json")&&(o="json");let c,l;switch(o){case"arraybuffer":case"blob":l=await i.blob(),c=await SL(l);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const u={};return i.headers.forEach((f,d)=>{u[d]=f}),{data:c,headers:u,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Rf("CapacitorHttp",{web:()=>new kL});const Wh=Nh((e,t)=>({orders:[],loading:!1,error:null,fetchOrders:async()=>{e({loading:!0,error:null});try{const{data:{user:r}}=await _e.auth.getUser();let n=_e.from("orders").select(`
          *,
          order_items (
            *,
            product:products (
              id,
              name,
              price,
              image
            )
          )
        `).order("created_at",{ascending:!1});r&&(n=n.or(`approved_by.is.null,approved_by.eq.${r.id}`));const{data:a,error:i}=await n;if(i)throw i;e({orders:a||[],loading:!1})}catch(r){console.error("Error fetching orders:",r),e({error:"    ",loading:!1})}},approveOrder:async r=>{try{const{data:{user:n}}=await _e.auth.getUser();if(!n)throw new Error("User not authenticated");const{error:a}=await _e.from("orders").update({approved_by:n.id}).eq("id",r);if(a)throw a;return e(i=>({orders:i.orders.map(s=>s.id===r?{...s,approved_by:n.id}:s)})),{success:!0}}catch(n){return console.error("Error approving order:",n),{success:!1,error:"     "}}},createOrder:async r=>{try{const n=r.items.reduce((f,d)=>f+d.unit_price*d.quantity,0),{data:{user:a}}=await _e.auth.getUser(),i=localStorage.getItem("push_token");let s=Qn.getPlatform()==="android"?"android":"web";if(i){const{data:f}=await _e.from("user_fcm_tokens").select("device_name").eq("token",i).maybeSingle();f!=null&&f.device_name&&(s=f.device_name==="android"?"android":"web")}const{data:o,error:c}=await _e.from("orders").insert({customer_name:r.customer_name,customer_phone:r.customer_phone,customer_email:r.customer_email,total_amount:n,notes:r.notes,user_id:a==null?void 0:a.id,source:s}).select().single();if(c)throw c;const l=r.items.map(f=>({order_id:o.id,product_id:f.product_id,quantity:f.quantity,unit_price:f.unit_price,total_price:f.unit_price*f.quantity})),{error:u}=await _e.from("order_items").insert(l);if(u)throw u;try{await _e.functions.invoke("push-notification",{body:{record:{id:o.id,customer_name:o.customer_name,total_amount:o.total_amount}}}),console.log("Push notification sent successfully")}catch(f){console.error("Failed to send push notification:",f)}return t().fetchOrders(),{success:!0,orderId:o.id}}catch(n){return console.error("Error creating order:",n),{success:!1,error:"    "}}},updateOrderStatus:async(r,n)=>{try{const{error:a}=await _e.from("orders").update({status:n}).eq("id",r);if(a)throw a;e(i=>({orders:i.orders.map(s=>s.id===r?{...s,status:n}:s)}))}catch(a){console.error("Error updating order status:",a),e({error:"     "})}},deleteOrder:async r=>{try{const{error:n}=await _e.from("order_items").delete().eq("order_id",r);if(n)throw n;const{error:a}=await _e.from("orders").delete().eq("id",r);if(a)throw a;return e(i=>({orders:i.orders.filter(s=>s.id!==r)})),{success:!0}}catch(n){return console.error("Error deleting order:",n),{success:!1,error:"    "}}},createOrderFromCart:async(r,n)=>{const a={customer_name:n.name,customer_phone:n.phone,customer_email:n.email,notes:n.notes,items:r.map(i=>({product_id:i.product.id,quantity:i.quantity,unit_price:i.product.price,order_id:""}))};return t().createOrder(a)},subscribeToOrders:()=>{const r=_e.channel("public:orders").on("postgres_changes",{event:"*",schema:"public",table:"orders"},n=>{console.log("Realtime update:",n),t().fetchOrders()}).subscribe();return()=>{_e.removeChannel(r)}}})),IL=`
  .ripple {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.6);
    transform: scale(0);
    animation: ripple-animation 0.6s ease-out;
    pointer-events: none;
  }
  
  .ripple-icon {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.8);
    transform: scale(0);
    animation: ripple-icon-animation 0.8s ease-out;
    pointer-events: none;
    z-index: 20;
  }
  
  @keyframes ripple-animation {
    to {
      transform: scale(4);
      opacity: 0;
    }
  }
  
  @keyframes ripple-icon-animation {
    0% {
      transform: scale(0);
      opacity: 1;
      background: rgba(255, 255, 255, 0.8);
    }
    50% {
      transform: scale(2);
      opacity: 0.6;
      background: rgba(34, 197, 94, 0.4);
    }
    100% {
      transform: scale(3);
      opacity: 0;
      background: rgba(34, 197, 94, 0.2);
    }
  }
  
  .check-icon {
    position: relative;
    transition: all 0.3s ease;
  }
  
  .check-icon:hover {
    transform: scale(1.1);
  }
`;if(typeof document<"u"&&!document.getElementById("ripple-styles")){const e=document.createElement("style");e.id="ripple-styles",e.textContent=IL,document.head.appendChild(e)}const NL=({items:e,orderId:t})=>{const[r,n]=E.useState(!1),[a,i]=E.useState({}),s=u=>{i(f=>({...f,[`${t}_${u}`]:!f[`${t}_${u}`]}))},o=e.reduce((u,f)=>u+f.quantity,0),c=Object.values(a).filter(Boolean).length,l=c===e.length&&e.length>0;return g.jsxs("div",{className:Se("w-full mt-2 border-none rounded-xl overflow-hidden transition-all shadow-neu",l?"bg-green-50/50 shadow-neu-inset":"bg-background"),children:[g.jsxs("button",{onClick:()=>n(!r),className:Se("w-full px-4 py-3 flex items-center justify-between text-sm font-bold transition-colors",l?"bg-green-50 text-green-700 hover:bg-green-100":"text-blue-700 bg-blue-50/50 hover:bg-blue-50"),children:[g.jsxs("span",{className:"flex items-center gap-2",children:[l?g.jsx($u,{size:18,className:"text-green-500"}):g.jsx(Rr,{size:16,className:r?"text-blue-600":"text-blue-400"}),"  (",o," )"]}),g.jsxs("div",{className:"flex items-center gap-3",children:[c>0&&g.jsxs("span",{className:"text-xs font-medium opacity-75",children:[c,"/",e.length," "]}),r?g.jsx(Tx,{size:16}):g.jsx(dh,{size:16})]})]}),r&&g.jsx("div",{className:"p-1.5 bg-background shadow-neu-inset rounded-2xl flex flex-col gap-1.5 border-none mt-2",children:e.map((u,f)=>{var d,h;return g.jsxs("label",{className:Se("flex items-center gap-2 p-2 rounded-lg border-none cursor-pointer transition-all bg-background select-none",a[`${t}_${f}`]?"shadow-neu-inset bg-green-50/40":"shadow-neu hover:shadow-neu-sm"),children:[g.jsx("div",{className:"flex items-center justify-center p-0.5",children:g.jsx("input",{type:"checkbox",checked:a[`${t}_${f}`]||!1,onChange:()=>s(f),className:"w-4 h-4 text-green-600 rounded border-gray-300 focus:ring-green-500 shadow-sm transition-all"})}),(d=u.product)!=null&&d.image?g.jsx("div",{className:"w-8 h-8 rounded-lg bg-background flex-shrink-0 overflow-hidden border-none p-0.5 shadow-neu-inset",children:g.jsx("img",{src:u.product.image,alt:u.product.name,className:"w-full h-full object-contain"})}):g.jsx("div",{className:"w-8 h-8 rounded-lg bg-background flex items-center justify-center text-gray-400 flex-shrink-0 border-none shadow-neu-inset",children:g.jsx(Rr,{size:14})}),g.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsx("p",{className:Se("text-xs font-bold truncate transition-all duration-300",a[`${t}_${f}`]?"text-gray-500 line-through decoration-2 decoration-green-500/50":"text-gray-900"),children:(h=u.product)==null?void 0:h.name}),g.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[g.jsxs("span",{className:Se("text-[10px] font-semibold px-2 py-0.5 rounded-md transition-colors bg-background border-none shadow-neu-inset",a[`${t}_${f}`]?"text-green-600":"text-gray-500"),children:[": ",u.quantity]}),u.quantity>1&&g.jsxs("span",{className:"text-[10px] font-medium text-gray-400",children:["(",sr(u.unit_price)," )"]})]})]}),g.jsx("span",{className:"text-xs font-bold text-blue-600 mr-2 whitespace-nowrap",children:sr(u.total_price)})]})]},f)})})]})},OL={pending:"bg-yellow-500",confirmed:"bg-blue-500",preparing:"bg-orange-500",ready:"bg-green-500",delivered:"bg-gray-500",cancelled:"bg-red-500"},Ew={pending:" ",confirmed:"",preparing:" ",ready:"",delivered:" ",cancelled:""};function RL({scannedOrderId:e}){Lo();const{orders:r,loading:n,fetchOrders:a,updateOrderStatus:i,deleteOrder:s,approveOrder:o}=Wh(),{isClockedIn:c,clockIn:l,clockOut:u,profiles:f,fetchProfiles:d,checkStatus:h,userPin:v,updatePin:p}=lm(),{toast:x}=Do(),[y,w]=E.useState(null),[m,_]=E.useState(null);console.log("OrderManagement render:",{isClockedIn:c,loading:n,ordersCount:r.length,profilesCount:f.length,DEBUG_MODE:!1});const[S,A]=E.useState(!1),[C,b]=E.useState(""),T=E.useRef(null),O=E.useRef(null),[U,R]=E.useState(!1),[H,K]=E.useState(""),[Q,J]=E.useState("");if(E.useEffect(()=>{console.log("OrderManagement useEffect - checking status and fetching profiles"),(async()=>{try{await h(),await d(),await a()}catch(X){console.error("Initialization error:",X),_("Failed to initialize attendance system")}})()},[h,d,a]),m)return g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-6 text-center px-4",children:[g.jsx("div",{className:"p-6 bg-red-50 rounded-full",children:g.jsx(Rr,{size:64,className:"text-red-500"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),g.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:m})]}),g.jsx(Ne,{onClick:()=>window.location.reload(),variant:"outline",children:"  "})]});const se=async()=>{!Qn.isNativePlatform()&&"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission();try{const X=new(window.AudioContext||window.webkitAudioContext);T.current=X;const ne=await(await fetch("/notification_sound.mp3")).arrayBuffer();O.current=await X.decodeAudioData(ne),console.log(" Notification sound loaded successfully")}catch(X){console.warn("Audio pre-load failed:",X)}const W=await l();W.success?x({title:"  ",description:" !    .",className:"bg-green-500 text-white border-none"}):x({title:"",description:W.error||"    ",variant:"destructive"})},Y=async()=>{C===v?(A(!1),await se()):x({title:"  ",description:"       ",variant:"destructive"})},L=async()=>{if(H.length<4){x({title:"  ",description:"     4   ",variant:"destructive"});return}if(H!==Q){x({title:"  ",description:"      ",variant:"destructive"});return}const W=await p(H);W.success?(R(!1),x({title:"  ",description:"    .   ...",className:"bg-green-500 text-white border-none"}),await se()):x({title:"",description:W.error||"  ",variant:"destructive"})},le=async()=>{var W;try{if(Qn.isNativePlatform()){const{BiometricAuth:X}=await Na(async()=>{const{BiometricAuth:ne}=await import("./index-BCZpSgPg.js").then(q=>q.c);return{BiometricAuth:ne}},[]);(await X.checkBiometry()).isAvailable&&await X.authenticate({reason:"    ",androidTitle:" ",androidSubtitle:"    PIN",cancelTitle:"",allowDeviceCredential:!0}),await se()}else v?(b(""),A(!0)):(K(""),J(""),R(!0))}catch(X){((W=X==null?void 0:X.constructor)==null?void 0:W.name)==="BiometryError"?(console.error("Biometric Error:",X),x({title:" ",description:"     .   .",variant:"destructive"})):(console.error("Clock In Error:",X),x({title:"",description:"   ",variant:"destructive"}))}},de=async()=>{(await u()).success&&x({title:"  ",description:"   ."})},N=async(W,X)=>{if(X){const ne=X.currentTarget.querySelector(".check-icon");if(ne){const q=document.createElement("span"),ge=ne.getBoundingClientRect(),P=40,De=X.clientX-ge.left-P/2,oe=X.clientY-ge.top-P/2;q.style.width=q.style.height=P+"px",q.style.left=De+"px",q.style.top=oe+"px",q.classList.add("ripple-icon"),ne.appendChild(q),setTimeout(()=>{q.remove()},600)}}try{const ie=await o(W);ie.success?x({title:" ",description:"       ",className:"bg-green-500 text-white border-none"}):x({title:"",description:ie.error||"   ",variant:"destructive"})}catch{x({title:"",description:"   ",variant:"destructive"})}};E.useEffect(()=>{if(c){const W=_e.channel("orders").on("postgres_changes",{event:"*",schema:"public",table:"orders"},ie=>{if(console.log("Order change received:",ie),a(),ie.eventType==="INSERT"){try{if(T.current&&O.current){T.current.state==="suspended"&&T.current.resume();const ne=T.current.createBufferSource();ne.buffer=O.current,ne.connect(T.current.destination),ne.start(0)}}catch(ne){console.warn("Audio playback error:",ne)}if(!Qn.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const ne=ie.new,q=new Notification("  !",{body:`   ${(ne==null?void 0:ne.customer_name)||""}  ${(ne==null?void 0:ne.total_amount)||""}`,icon:"/favicon.ico",tag:"new-order-"+(ne==null?void 0:ne.id)});setTimeout(()=>q.close(),5e3),q.onclick=()=>{window.focus(),q.close()}}}else if(ie.eventType==="UPDATE"){const ne=ie.old,q=ie.new;if(q.status&&ne.status&&q.status!==ne.status){const ge=P=>{switch(P){case"pending":return" ";case"processing":return" ";case"completed":return"";case"cancelled":return"";default:return P}};if(!Qn.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const P=new Notification("   !",{body:`    ${q.customer_name||""} : ${ge(q.status)}`,icon:"/favicon.ico",tag:"update-order-"+q.id});setTimeout(()=>P.close(),5e3),P.onclick=()=>{window.focus(),P.close()}}x({title:"  ",description:` ${q.customer_name||""}  ${ge(q.status)}`})}}}).on("postgres_changes",{event:"INSERT",schema:"public",table:"order_items"},async ie=>{console.log("Order item added:",ie),a();const ne=ie.new;try{if(T.current&&O.current){T.current.state==="suspended"&&T.current.resume();const oe=T.current.createBufferSource();oe.buffer=O.current,oe.connect(T.current.destination),oe.start(0)}}catch(oe){console.warn("Audio playback error:",oe)}const{data:q}=await _e.from("products").select("name").eq("id",ne.product_id).single(),{data:ge}=await _e.from("orders").select("customer_name").eq("id",ne.order_id).single(),P=(q==null?void 0:q.name)||" ",De=(ge==null?void 0:ge.customer_name)||"";if(!Qn.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const oe=new Notification("   !",{body:` ${De} : ${P} (: ${ne.quantity})  `,icon:"/favicon.ico",tag:"new-item-"+ne.id});setTimeout(()=>oe.close(),5e3),oe.onclick=()=>{window.focus(),oe.close()}}x({title:"  ",description:` ${De}  ${P} `})}).subscribe(),X=_e.channel("profiles-updates").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles"},ie=>{console.log("Profile update received:",ie),d()}).subscribe();return()=>{_e.removeChannel(W),_e.removeChannel(X)}}},[a,d,x,c,!1]);const G=async(W,X)=>{try{await i(W,X),x({title:"   ",description:`   : ${Ew[X]}`})}catch{x({title:"",description:"     ",variant:"destructive"})}},V=async W=>{w(W);try{const X=await s(W);X.success?x({title:"  ",description:"   "}):x({title:"",description:X.error||"    ",variant:"destructive"})}catch{x({title:"",description:"   ",variant:"destructive"})}finally{w(null)}},z=(W,X,ie,ne)=>{let q=X.replace(/\D/g,"");q.startsWith("0")&&(q="964"+q.substring(1)),!q.startsWith("964")&&q.length<=10&&(q="964"+q);const ge=W.slice(0,8);let P="";switch(ne){case"pending":P=` ${ie}!

    #${ge}   .

  .

  .`;break;case"confirmed":P=` ${ie}!

    #${ge} .

  .

  .`;break;case"preparing":P=` ${ie}!

  #${ge}   .

  .

 .`;break;case"ready":P=` ${ie}!

  #${ge}  !

    .

  .`;break;case"delivered":P=` ${ie}!

    #${ge} .

     .

  .`;break;case"cancelled":P=` ${ie}!

     #${ge}  .

        .

 .`;break;default:P=` ${ie}!

   #${ge}

  .`}const De=`https://wa.me/${q}?text=${encodeURIComponent(P)}`;window.open(De,"_blank"),x({title:"  ",description:"      "})};return!c&&f.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-6 text-center px-4",children:[g.jsx("div",{className:"p-6 bg-background shadow-neu rounded-full animate-pulse border-none",children:g.jsx(P1,{size:64,className:"text-gray-400"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" ..."}),g.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"       ."})]}),g.jsx(Ne,{onClick:()=>{console.log("Bypassing attendance check for debugging"),_(null)},variant:"outline",className:"mt-4",children:"   "})]}):c?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto pb-4 scrollbar-hide",children:[g.jsx("div",{className:"flex -space-x-3 space-x-reverse min-h-[50px] items-center px-2",children:f.filter(W=>W.role==="admin").map(W=>{const X=`attendance_${W.user_id}`,ie=localStorage.getItem(X),ne=ie?JSON.parse(ie).clockedIn:!1,q=W.is_clocked_in===!0||ne;return g.jsxs("div",{className:"relative group",children:[g.jsx("div",{className:Se("w-12 h-12 rounded-full border-none flex items-center justify-center bg-background text-xs font-bold transition-transform hover:scale-110 hover:z-10",q?"shadow-neu-inset text-green-600":"shadow-neu text-gray-400 grayscale"),children:W.full_name?W.full_name.charAt(0).toUpperCase():"?"}),q&&g.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]},W.id)})}),g.jsx("div",{className:"h-8 w-px bg-gray-200 mx-2"}),g.jsxs(Ne,{onClick:de,variant:"outline",size:"sm",className:"text-red-500 hover:text-red-600 hover:bg-red-50 border-red-100 rounded-xl",children:[g.jsx(fC,{size:14,className:"mr-1"}),""]})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-2xl font-bold",children:" "}),g.jsx(Ne,{onClick:a,variant:"outline",children:""})]}),n?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"text-lg",children:"  ..."})}):r.length===0?g.jsx(yf,{children:g.jsxs(wf,{className:"flex flex-col items-center justify-center py-8 sm:py-12",children:[g.jsx(Rr,{className:"h-10 w-10 sm:h-12 sm:w-12 text-muted-foreground mb-4"}),g.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2",children:"  "}),g.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"     "})]})}):g.jsx("div",{className:"grid gap-3 sm:gap-4",children:r.map(W=>{const X=W.order_items.reduce((ne,q)=>ne+q.quantity,0),ie=e&&W.id.includes(e);return g.jsxs("div",{className:Se("group relative bg-background rounded-[2rem] p-6 shadow-neu hover:shadow-neu-sm transition-all border-none flex flex-col gap-4",ie?"ring-2 ring-primary shadow-neu-inset animate-pulse":""),children:[ie&&g.jsx("div",{className:"absolute -top-2 -right-2 bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-bold z-10",children:" "}),g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-2xl bg-background flex items-center justify-center text-primary shadow-neu-inset border-none",children:g.jsx(Rr,{size:24})}),g.jsxs("div",{children:[g.jsxs("h3",{className:"font-bold text-lg text-gray-900",children:[" #",W.id.slice(0,8)]}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("p",{className:"text-gray-500 text-sm font-medium",children:W.customer_name}),W.customer_phone&&g.jsx("p",{className:"text-gray-400 text-xs font-mono mt-0.5",dir:"ltr",children:W.customer_phone})]})]})]}),g.jsxs("div",{className:"flex flex-col items-end gap-2",children:[g.jsx("span",{className:"text-xs font-semibold text-gray-400 bg-background shadow-neu-inset px-3 py-1 rounded-full border-none",children:new Date(W.created_at).toLocaleDateString("ar-SA")}),W.source&&g.jsxs("span",{className:Se("flex items-center gap-1 text-[10px] font-bold px-3 py-1 rounded-full shadow-neu-inset bg-background border-none",W.source==="android"?"text-green-600":"text-blue-600"),children:[W.source==="android"?g.jsx(LN,{size:12}):g.jsx(IN,{size:12}),W.source==="android"?"":""]})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsx("span",{className:Se("px-4 py-1.5 rounded-full text-xs font-bold shadow-neu-inset bg-background border-none",OL[W.status].replace("bg-","text-")),children:Ew[W.status]}),g.jsxs("span",{className:"px-4 py-1.5 rounded-full text-xs font-bold bg-background shadow-neu-inset text-gray-600 border-none",children:[X," "]}),g.jsx("span",{className:"px-4 py-1.5 rounded-full text-xs font-bold bg-background shadow-neu-inset text-primary border-none",children:sr(W.total_amount)})]}),g.jsx(NL,{items:W.order_items,orderId:W.id}),W.notes&&g.jsx("div",{className:"bg-background shadow-neu-inset p-3 sm:p-4 rounded-xl border-none",children:g.jsxs("p",{className:"text-xs text-yellow-600 font-bold flex items-center gap-2",children:[g.jsx("span",{className:"font-extrabold text-yellow-500",children:":"})," ",W.notes]})}),g.jsxs("div",{className:"pt-2",children:[g.jsx("div",{className:"mb-3",children:W.approved_by?g.jsxs("div",{className:"w-full bg-gradient-to-r from-green-50 to-green-100 border border-green-200 text-green-700 font-bold h-10 rounded-xl flex items-center justify-center relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-green-200/30 to-transparent -translate-x-full animate-pulse"}),g.jsx($u,{className:"mr-2 h-4 w-4 relative z-10"}),g.jsx("span",{className:"relative z-10",children:"   "})]}):g.jsxs(Ne,{onClick:ne=>N(W.id,ne),className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-bold h-12 rounded-xl shadow-lg hover:shadow-green-500/25 transform transition-all duration-300 hover:scale-105 active:scale-95 relative overflow-hidden group",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-out"}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:g.jsx("div",{className:"ripple-container"})}),g.jsx($u,{className:"mr-2 h-5 w-5 relative z-10 check-icon"}),g.jsx("span",{className:"relative z-10",children:"  "})]})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(Vh,{value:W.status,onValueChange:ne=>G(W.id,ne),children:[g.jsx(Nf,{className:"flex-1 h-12 rounded-xl bg-gray-900 text-white hover:bg-gray-800 border-none font-bold",children:g.jsx(zh,{placeholder:" "})}),g.jsxs(Of,{children:[g.jsx(Ut,{value:"pending",children:" "}),g.jsx(Ut,{value:"confirmed",children:""}),g.jsx(Ut,{value:"preparing",children:" "}),g.jsx(Ut,{value:"ready",children:""}),g.jsx(Ut,{value:"delivered",children:" "}),g.jsx(Ut,{value:"cancelled",children:""})]})]}),g.jsxs(Dh,{children:[g.jsx(Fh,{asChild:!0,children:g.jsx("button",{className:"h-12 w-12 rounded-xl border border-gray-200 flex items-center justify-center text-gray-400 hover:text-red-500 hover:border-red-200 transition-colors",children:g.jsx(pf,{size:20})})}),g.jsxs(Tf,{children:[g.jsxs(kf,{children:[g.jsx(If,{children:" "}),g.jsx(Lh,{children:"      "})]}),g.jsxs(Mh,{children:[g.jsx(jh,{children:""}),g.jsx(Bh,{onClick:()=>V(W.id),className:"bg-destructive hover:bg-destructive/90",children:""})]})]})]})]}),W.customer_phone&&g.jsxs(Ne,{variant:"ghost",className:"w-full mt-2 text-green-600 hover:text-green-700 hover:bg-green-50 h-10 rounded-xl",onClick:()=>z(W.id,W.customer_phone,W.customer_name,W.status),children:[g.jsx(kx,{size:16,className:"ml-2"}),"  "]})]})]},W.id)})}),g.jsx(ei,{open:S,onOpenChange:A,children:g.jsxs(Oa,{className:"sm:max-w-md",children:[g.jsx(ti,{children:g.jsx(ri,{className:"text-center",children:"  "})}),g.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[g.jsx("div",{className:"w-full",children:g.jsx(zt,{type:"password",placeholder:" ",className:"text-center text-lg tracking-widest",value:C,onChange:W=>b(W.target.value),onKeyDown:W=>{W.key==="Enter"&&Y()}})}),g.jsx(Ne,{onClick:Y,className:"w-full",children:" "})]})]})})]}):g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-6 text-center px-4",children:[g.jsx("div",{className:"p-6 bg-red-50 rounded-full animate-pulse",children:g.jsx(P1,{size:64,className:"text-red-500"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"  "}),g.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"    ()      ."})]}),g.jsxs(Ne,{onClick:le,size:"lg",className:"bg-red-600 hover:bg-red-700 text-white rounded-2xl h-14 px-8 text-lg font-bold shadow-lg shadow-red-200",children:[g.jsx(P1,{className:"mr-2 h-6 w-6"})," "]}),g.jsx(ei,{open:S,onOpenChange:A,children:g.jsxs(Oa,{className:"sm:max-w-md",children:[g.jsx(ti,{children:g.jsx(ri,{className:"text-center",children:"  "})}),g.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[g.jsx("div",{className:"w-full",children:g.jsx(zt,{type:"password",placeholder:" ",className:"text-center text-lg tracking-widest",value:C,onChange:W=>b(W.target.value),onKeyDown:W=>{W.key==="Enter"&&Y()}})}),g.jsx(Ne,{onClick:Y,className:"w-full",children:" "})]})]})}),g.jsx(ei,{open:U,onOpenChange:R,children:g.jsxs(Oa,{className:"sm:max-w-md",children:[g.jsx(ti,{children:g.jsx(ri,{className:"text-center",children:"   "})}),g.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[g.jsx("p",{className:"text-sm text-gray-500 text-center",children:"     .         ."}),g.jsxs("div",{className:"w-full space-y-3",children:[g.jsx(zt,{type:"password",placeholder:"  (4   )",className:"text-center text-lg tracking-widest",value:H,onChange:W=>K(W.target.value)}),g.jsx(zt,{type:"password",placeholder:" ",className:"text-center text-lg tracking-widest",value:Q,onChange:W=>J(W.target.value)})]}),g.jsx(Ne,{onClick:L,className:"w-full",children:"  "})]})]})})]})}function PL(){var r,n;const e=Lo(),t=Ms();return E.useEffect(()=>{var a;(a=t.state)!=null&&a.scannedOrderId&&console.log("Scanned Order ID:",t.state.scannedOrderId)},[t.state]),g.jsx("div",{className:"p-6",dir:"rtl",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("div",{className:"mb-6",children:[g.jsxs(Ne,{variant:"ghost",onClick:()=>e(-1),className:"flex items-center gap-2 mb-4",children:[g.jsx(Uu,{size:20}),""]}),((r=t.state)==null?void 0:r.scannedOrderId)&&g.jsx("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 px-4 py-2 rounded-lg mb-4",children:g.jsxs("p",{className:"text-sm font-medium",children:["   : ",t.state.scannedOrderId.slice(0,8)]})})]}),g.jsx(RL,{scannedOrderId:(n=t.state)==null?void 0:n.scannedOrderId})]})})}const Cw=({item:e})=>{var s,o,c;const[t,r]=E.useState(()=>{const l={};if(e.quantity>1)for(let u=1;u<=e.quantity;u++)l[`item_${u}`]=!1;return l}),n=l=>{r(u=>({...u,[l]:!u[l]}))},a=Object.values(t).filter(Boolean).length,i=e.quantity<=1?!0:a===e.quantity;return g.jsxs(ei,{children:[g.jsx(cm,{asChild:!0,children:g.jsxs("button",{className:"px-3 py-1.5 rounded-xl border-none shadow-neu text-xs text-gray-600 font-medium bg-background hover:shadow-neu-sm active:shadow-neu-inset transition-all relative",children:[(s=e.product)==null?void 0:s.name,"  ",e.quantity,e.quantity>1&&g.jsxs("span",{className:Se("absolute -top-1 -right-1 w-4 h-4 rounded-full text-xs font-bold",i?"bg-green-500 text-white":"bg-orange-500 text-white"),children:[a,"/",e.quantity]})]})}),g.jsxs(Oa,{className:"sm:max-w-lg",children:[g.jsx(ti,{children:g.jsxs(ri,{className:"flex items-center justify-between",children:[(o=e.product)==null?void 0:o.name,e.quantity>1&&g.jsxs("span",{className:Se("px-2 py-1 rounded-full text-xs font-bold",i?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"),children:[a,"/",e.quantity,"  "]})]})}),g.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[(c=e.product)!=null&&c.image?g.jsx("img",{src:e.product.image,alt:e.product.name,className:"w-full max-h-48 object-contain rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{e.product.image&&window.open(e.product.image,"_blank")}}):g.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400",children:g.jsx(Rr,{size:48})}),e.quantity>1&&g.jsxs("div",{className:"w-full space-y-2",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:" :"}),g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Array.from({length:e.quantity},(l,u)=>g.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[g.jsx("input",{type:"checkbox",checked:t[`item_${u+1}`]||!1,onChange:()=>n(`item_${u+1}`),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),g.jsxs("span",{className:"text-sm font-medium",children:[" ",u+1]})]},u+1))})]}),g.jsxs("div",{className:"text-center space-y-2 w-full",children:[g.jsx("p",{className:"text-lg font-bold text-blue-600",children:sr(e.unit_price)}),g.jsxs("p",{className:"text-sm text-gray-500",children:[": ",e.quantity]}),g.jsxs("p",{className:"text-lg font-semibold text-green-600",children:[": ",sr(e.total_price)]})]})]})]})]})},DL={pending:"bg-yellow-500",confirmed:"bg-blue-500",preparing:"bg-orange-500",ready:"bg-green-500",delivered:"bg-gray-500",cancelled:"bg-red-500"},FL={pending:" ",confirmed:"",preparing:" ",ready:"",delivered:" ",cancelled:""};function ML(){const{orders:e,loading:t,fetchOrders:r}=Wh(),{isClockedIn:n,profiles:a,fetchProfiles:i}=lm(),[s,o]=E.useState(""),[c,l]=E.useState("all");E.useEffect(()=>{n&&(r(),i())},[r,i,n]);const u=e.filter(d=>{const h=s===""||d.customer_name.toLowerCase().includes(s.toLowerCase())||d.id.toLowerCase().includes(s.toLowerCase())||d.customer_phone&&d.customer_phone.includes(s),v=c==="all"||d.status===c;return h&&v}),f=(d,h,v,p)=>{let x=h.replace(/\D/g,"");x.startsWith("0")&&(x="964"+x.substring(1)),!x.startsWith("964")&&x.length<=10&&(x="964"+x);const y=d.slice(0,8);let w="";switch(p){case"pending":w=` ${v}!

    #${y}   .

  .

  .`;break;case"confirmed":w=` ${v}!

    #${y} .

  .

  .`;break;case"preparing":w=` ${v}!

  #${y}   .

  .

 .`;break;case"ready":w=` ${v}!

  #${y}  !

    .

  .`;break;case"delivered":w=` ${v}!

    #${y} .

     .

  .`;break;case"cancelled":w=` ${v}!

     #${y}  .

        .

 .`;break;default:w=` ${v}!

   #${y}

  .`}const m=`https://wa.me/${x}?text=${encodeURIComponent(w)}`;window.open(m,"_blank")};return n?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-2xl font-bold",children:""}),g.jsx(Ne,{onClick:r,variant:"outline",children:""})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"flex-1",children:g.jsx(zt,{placeholder:"     ...",value:s,onChange:d=>o(d.target.value),className:"text-right"})}),g.jsxs(Vh,{value:c,onValueChange:l,children:[g.jsx(Nf,{className:"w-48",children:g.jsx(zh,{placeholder:""})}),g.jsxs(Of,{children:[g.jsx(Ut,{value:"all",children:" "}),g.jsx(Ut,{value:"pending",children:" "}),g.jsx(Ut,{value:"confirmed",children:""}),g.jsx(Ut,{value:"preparing",children:" "}),g.jsx(Ut,{value:"ready",children:""}),g.jsx(Ut,{value:"delivered",children:" "}),g.jsx(Ut,{value:"cancelled",children:""})]})]})]}),t?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"text-lg",children:"  ..."})}):u.length===0?g.jsx(yf,{children:g.jsxs(wf,{className:"flex flex-col items-center justify-center py-8 sm:py-12",children:[g.jsx(Rr,{className:"h-10 w-10 sm:h-12 sm:w-12 text-muted-foreground mb-4"}),g.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2",children:s||c!=="all"?"   ":"  "}),g.jsx("p",{className:"text-sm text-muted-foreground text-center",children:s||c!=="all"?"       ":"     "})]})}):g.jsx("div",{className:"grid gap-3 sm:gap-4",children:u.map(d=>{const h=d.order_items.reduce((v,p)=>v+p.quantity,0);return g.jsxs("div",{className:"group relative bg-background rounded-[2rem] p-6 shadow-neu hover:shadow-neu-sm transition-all border-none flex flex-col gap-4",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-[1.25rem] bg-background flex items-center justify-center text-primary shadow-neu",children:g.jsx(Rr,{size:24})}),g.jsxs("div",{children:[g.jsxs("h3",{className:"font-bold text-lg text-gray-900",children:[" #",d.id.slice(0,8)]}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("p",{className:"text-gray-500 text-sm font-medium",children:d.customer_name}),d.customer_phone&&g.jsx("p",{className:"text-gray-400 text-xs font-mono mt-0.5",dir:"ltr",children:d.customer_phone})]})]})]}),g.jsx("span",{className:"text-xs font-semibold text-gray-500 bg-background shadow-neu-inset px-3 py-1 rounded-full",children:new Date(d.created_at).toLocaleDateString("ar-SA")})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("span",{className:Se("px-4 py-1.5 rounded-full text-xs font-bold border-none shadow-neu-inset bg-background",DL[d.status].replace("bg-","text-")),children:FL[d.status]}),g.jsxs("span",{className:"px-4 py-1.5 rounded-full text-xs font-bold bg-background shadow-neu-inset text-gray-600 border-none",children:[h," "]}),g.jsx("span",{className:"px-4 py-1.5 rounded-full text-xs font-bold bg-background shadow-neu-inset text-primary border-none",children:sr(d.total_amount)})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.order_items.slice(0,3).map((v,p)=>g.jsx(Cw,{item:v},p)),d.order_items.length>3&&g.jsxs(ei,{children:[g.jsx(cm,{asChild:!0,children:g.jsxs("button",{className:"px-3 py-1.5 rounded-xl border-none shadow-neu hover:shadow-neu-sm active:shadow-neu-inset text-xs text-gray-400 font-medium bg-background transition-all",children:["+",d.order_items.length-3," "]})}),g.jsxs(Oa,{className:"max-w-lg",children:[g.jsx(ti,{children:g.jsxs(ri,{children:["  #",d.id.slice(0,8)]})}),g.jsxs("div",{className:"py-4",children:[g.jsxs("h4",{className:"mb-4 text-sm font-medium text-gray-500",children:[" (",d.order_items.length,")"]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:d.order_items.map((v,p)=>g.jsx(Cw,{item:v},p))})]})]})]})]}),d.notes&&g.jsx("div",{className:"bg-yellow-50 p-3 rounded-xl border border-yellow-100",children:g.jsxs("p",{className:"text-xs text-yellow-800 font-medium flex items-center gap-2",children:[g.jsx("span",{className:"font-bold",children:":"})," ",d.notes]})}),d.customer_phone&&g.jsxs(Ne,{variant:"ghost",className:"w-full mt-2 text-green-600 hover:text-green-700 hover:bg-green-50 h-10 rounded-xl",onClick:()=>f(d.id,d.customer_phone,d.customer_name,d.status),children:[g.jsx(kx,{size:16,className:"ml-2"}),"  "]})]},d.id)})})]}):g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-6 text-center px-4",children:[g.jsx("div",{className:"p-6 bg-background shadow-neu-inset rounded-full",children:g.jsx(Rr,{size:64,className:"text-gray-400"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"  "}),g.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"     ."})]})]})}function LL(){const e=Lo();return g.jsx("div",{className:"p-6",dir:"rtl",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsx("div",{className:"mb-6",children:g.jsxs(Ne,{variant:"ghost",onClick:()=>e(-1),className:"flex items-center gap-2 mb-4",children:[g.jsx(Uu,{size:20}),""]})}),g.jsx(ML,{})]})})}function BL(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function jL(e,t){t===void 0&&(t=e.constructor);var r=Error.captureStackTrace;r&&r(e,t)}var UL=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$L=function(e){UL(t,e);function t(r,n){var a=this.constructor,i=e.call(this,r,n)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),BL(i,a.prototype),jL(i),i}return t}(Error),HL=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kn=function(e){HL(t,e);function t(r){r===void 0&&(r=void 0);var n=e.call(this,r)||this;return n.message=r,n}return t.prototype.getKind=function(){var r=this.constructor;return r.kind},t.kind="Exception",t}($L),VL=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pa=function(e){VL(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ArgumentException",t}(kn),zL=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oe=function(e){zL(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IllegalArgumentException",t}(kn),WL=function(){function e(t){if(this.binarizer=t,t===null)throw new Oe("Binarizer must be non-null.")}return e.prototype.getWidth=function(){return this.binarizer.getWidth()},e.prototype.getHeight=function(){return this.binarizer.getHeight()},e.prototype.getBlackRow=function(t,r){return this.binarizer.getBlackRow(t,r)},e.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},e.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},e.prototype.crop=function(t,r,n,a){var i=this.binarizer.getLuminanceSource().crop(t,r,n,a);return new e(this.binarizer.createBinarizer(i))},e.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},e.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new e(this.binarizer.createBinarizer(t))},e.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new e(this.binarizer.createBinarizer(t))},e.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},e}(),GL=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yr=function(e){GL(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t}(kn),XL=function(){function e(t){this.source=t}return e.prototype.getLuminanceSource=function(){return this.source},e.prototype.getWidth=function(){return this.source.getWidth()},e.prototype.getHeight=function(){return this.source.getHeight()},e}(),yt=function(){function e(){}return e.arraycopy=function(t,r,n,a,i){for(;i--;)n[a++]=t[r++]},e.currentTimeMillis=function(){return Date.now()},e}(),KL=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dm=function(e){KL(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IndexOutOfBoundsException",t}(kn),YL=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sw=function(e){YL(t,e);function t(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var a=e.call(this,n)||this;return a.index=r,a.message=n,a}return t.kind="ArrayIndexOutOfBoundsException",t}(dm),qL=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},or=function(){function e(){}return e.fill=function(t,r){for(var n=0,a=t.length;n<a;n++)t[n]=r},e.fillWithin=function(t,r,n,a){e.rangeCheck(t.length,r,n);for(var i=r;i<n;i++)t[i]=a},e.rangeCheck=function(t,r,n){if(r>n)throw new Oe("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new Sw(r);if(n>t)throw new Sw(n)},e.asList=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t},e.create=function(t,r,n){var a=Array.from({length:t});return a.map(function(i){return Array.from({length:r}).fill(n)})},e.createInt32Array=function(t,r,n){var a=Array.from({length:t});return a.map(function(i){return Int32Array.from({length:r}).fill(n)})},e.equals=function(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(var n=0,a=t.length;n<a;n++)if(t[n]!==r[n])return!1;return!0},e.hashCode=function(t){var r,n;if(t===null)return 0;var a=1;try{for(var i=qL(t),s=i.next();!s.done;s=i.next()){var o=s.value;a=31*a+o}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},e.fillUint8Array=function(t,r){for(var n=0;n!==t.length;n++)t[n]=r},e.copyOf=function(t,r){return t.slice(0,r)},e.copyOfUint8Array=function(t,r){if(t.length<=r){var n=new Uint8Array(r);return n.set(t),n}return t.slice(0,r)},e.copyOfRange=function(t,r,n){var a=n-r,i=new Int32Array(a);return yt.arraycopy(t,r,i,0,a),i},e.binarySearch=function(t,r,n){n===void 0&&(n=e.numberComparator);for(var a=0,i=t.length-1;a<=i;){var s=i+a>>1,o=n(r,t[s]);if(o>0)a=s+1;else if(o<0)i=s-1;else return s}return-a-1},e.numberComparator=function(t,r){return t-r},e}(),Ge=function(){function e(){}return e.numberOfTrailingZeros=function(t){var r;if(t===0)return 32;var n=31;return r=t<<16,r!==0&&(n-=16,t=r),r=t<<8,r!==0&&(n-=8,t=r),r=t<<4,r!==0&&(n-=4,t=r),r=t<<2,r!==0&&(n-=2,t=r),n-(t<<1>>>31)},e.numberOfLeadingZeros=function(t){if(t===0)return 32;var r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r},e.toHexString=function(t){return t.toString(16)},e.toBinaryString=function(t){return String(parseInt(String(t),2))},e.bitCount=function(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63},e.truncDivision=function(t,r){return Math.trunc(t/r)},e.parseInt=function(t,r){return r===void 0&&(r=void 0),parseInt(t,r)},e.MIN_VALUE_32_BITS=-2147483648,e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),wr=function(){function e(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=e.makeArray(t):this.bits=r)}return e.prototype.getSize=function(){return this.size},e.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},e.prototype.ensureCapacity=function(t){if(t>this.bits.length*32){var r=e.makeArray(t);yt.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},e.prototype.get=function(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0},e.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(t&31)},e.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(t&31)},e.prototype.getNextSet=function(t){var r=this.size;if(t>=r)return r;var n=this.bits,a=Math.floor(t/32),i=n[a];i&=~((1<<(t&31))-1);for(var s=n.length;i===0;){if(++a===s)return r;i=n[a]}var o=a*32+Ge.numberOfTrailingZeros(i);return o>r?r:o},e.prototype.getNextUnset=function(t){var r=this.size;if(t>=r)return r;var n=this.bits,a=Math.floor(t/32),i=~n[a];i&=~((1<<(t&31))-1);for(var s=n.length;i===0;){if(++a===s)return r;i=~n[a]}var o=a*32+Ge.numberOfTrailingZeros(i);return o>r?r:o},e.prototype.setBulk=function(t,r){this.bits[Math.floor(t/32)]=r},e.prototype.setRange=function(t,r){if(r<t||t<0||r>this.size)throw new Oe;if(r!==t){r--;for(var n=Math.floor(t/32),a=Math.floor(r/32),i=this.bits,s=n;s<=a;s++){var o=s>n?0:t&31,c=s<a?31:r&31,l=(2<<c)-(1<<o);i[s]|=l}}},e.prototype.clear=function(){for(var t=this.bits.length,r=this.bits,n=0;n<t;n++)r[n]=0},e.prototype.isRange=function(t,r,n){if(r<t||t<0||r>this.size)throw new Oe;if(r===t)return!0;r--;for(var a=Math.floor(t/32),i=Math.floor(r/32),s=this.bits,o=a;o<=i;o++){var c=o>a?0:t&31,l=o<i?31:r&31,u=(2<<l)-(1<<c)&4294967295;if((s[o]&u)!==(n?u:0))return!1}return!0},e.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},e.prototype.appendBits=function(t,r){if(r<0||r>32)throw new Oe("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((t>>n-1&1)===1)},e.prototype.appendBitArray=function(t){var r=t.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(t.get(n))},e.prototype.xor=function(t){if(this.size!==t.size)throw new Oe("Sizes don't match");for(var r=this.bits,n=0,a=r.length;n<a;n++)r[n]^=t.bits[n]},e.prototype.toBytes=function(t,r,n,a){for(var i=0;i<a;i++){for(var s=0,o=0;o<8;o++)this.get(t)&&(s|=1<<7-o),t++;r[n+i]=s}},e.prototype.getBitArray=function(){return this.bits},e.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,a=this.bits,i=0;i<n;i++){var s=a[i];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,t[r-i]=s}if(this.size!==n*32){for(var o=n*32-this.size,c=t[0]>>>o,i=1;i<n;i++){var l=t[i];c|=l<<32-o,t[i-1]=c,c=l>>>o}t[n-1]=c}this.bits=t},e.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.size===r.size&&or.equals(this.bits,r.bits)},e.prototype.hashCode=function(){return 31*this.size+or.hashCode(this.bits)},e.prototype.toString=function(){for(var t="",r=0,n=this.size;r<n;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t},e.prototype.clone=function(){return new e(this.size,this.bits.slice())},e.prototype.toArray=function(){for(var t=[],r=0,n=this.size;r<n;r++)t.push(this.get(r));return t},e}(),eg;(function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",e[e.ASSUME_GS1=8]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(eg||(eg={}));const kt=eg;var ZL=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ye=function(e){ZL(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getFormatInstance=function(){return new t},t.kind="FormatException",t}(kn),QL=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ut;(function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"})(ut||(ut={}));var ir=function(){function e(t,r,n){for(var a,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];this.valueIdentifier=t,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,e.VALUE_IDENTIFIER_TO_ECI.set(t,this),e.NAME_TO_ECI.set(n,this);for(var c=this.values,l=0,u=c.length;l!==u;l++){var f=c[l];e.VALUES_TO_ECI.set(f,this)}try{for(var d=QL(s),h=d.next();!h.done;h=d.next()){var v=h.value;e.NAME_TO_ECI.set(v,this)}}catch(p){a={error:p}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}return e.prototype.getValueIdentifier=function(){return this.valueIdentifier},e.prototype.getName=function(){return this.name},e.prototype.getValue=function(){return this.values[0]},e.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new ye("incorect value");var r=e.VALUES_TO_ECI.get(t);if(r===void 0)throw new ye("incorect value");return r},e.getCharacterSetECIByName=function(t){var r=e.NAME_TO_ECI.get(t);if(r===void 0)throw new ye("incorect value");return r},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.getName()===r.getName()},e.VALUE_IDENTIFIER_TO_ECI=new Map,e.VALUES_TO_ECI=new Map,e.NAME_TO_ECI=new Map,e.Cp437=new e(ut.Cp437,Int32Array.from([0,2]),"Cp437"),e.ISO8859_1=new e(ut.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),e.ISO8859_2=new e(ut.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),e.ISO8859_3=new e(ut.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),e.ISO8859_4=new e(ut.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),e.ISO8859_5=new e(ut.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),e.ISO8859_6=new e(ut.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),e.ISO8859_7=new e(ut.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),e.ISO8859_8=new e(ut.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),e.ISO8859_9=new e(ut.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),e.ISO8859_10=new e(ut.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),e.ISO8859_11=new e(ut.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),e.ISO8859_13=new e(ut.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),e.ISO8859_14=new e(ut.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),e.ISO8859_15=new e(ut.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),e.ISO8859_16=new e(ut.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),e.SJIS=new e(ut.SJIS,20,"SJIS","Shift_JIS"),e.Cp1250=new e(ut.Cp1250,21,"Cp1250","windows-1250"),e.Cp1251=new e(ut.Cp1251,22,"Cp1251","windows-1251"),e.Cp1252=new e(ut.Cp1252,23,"Cp1252","windows-1252"),e.Cp1256=new e(ut.Cp1256,24,"Cp1256","windows-1256"),e.UnicodeBigUnmarked=new e(ut.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),e.UTF8=new e(ut.UTF8,26,"UTF8","UTF-8"),e.ASCII=new e(ut.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),e.Big5=new e(ut.Big5,28,"Big5"),e.GB18030=new e(ut.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),e.EUC_KR=new e(ut.EUC_KR,30,"EUC_KR","EUC-KR"),e}(),JL=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q0=function(e){JL(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="UnsupportedOperationException",t}(kn),ra=function(){function e(){}return e.decode=function(t,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(t,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(t,n):new TextDecoder(n).decode(t)},e.shouldDecodeOnFallback=function(t){return!e.isBrowser()&&t==="ISO-8859-1"},e.encode=function(t,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(t,n):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)},e.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},e.encodingName=function(t){return typeof t=="string"?t:t.getName()},e.encodingCharacterSet=function(t){return t instanceof ir?t:ir.getCharacterSetECIByName(t)},e.decodeFallback=function(t,r){var n=this.encodingCharacterSet(r);if(e.isDecodeFallbackSupported(n)){for(var a="",i=0,s=t.length;i<s;i++){var o=t[i].toString(16);o.length<2&&(o="0"+o),a+="%"+o}return decodeURIComponent(a)}if(n.equals(ir.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new q0("Encoding "+this.encodingName(r)+" not supported by fallback.")},e.isDecodeFallbackSupported=function(t){return t.equals(ir.UTF8)||t.equals(ir.ISO8859_1)||t.equals(ir.ASCII)},e.encodeFallback=function(t){for(var r=btoa(unescape(encodeURIComponent(t))),n=r.split(""),a=[],i=0;i<n.length;i++)a.push(n[i].charCodeAt(0));return new Uint8Array(a)},e}(),qe=function(){function e(){}return e.castAsNonUtf8Char=function(t,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return ra.decode(new Uint8Array([t]),n)},e.guessEncoding=function(t,r){if(r!=null&&r.get(kt.CHARACTER_SET)!==void 0)return r.get(kt.CHARACTER_SET).toString();for(var n=t.length,a=!0,i=!0,s=!0,o=0,c=0,l=0,u=0,f=0,d=0,h=0,v=0,p=0,x=0,y=0,w=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191,m=0;m<n&&(a||i||s);m++){var _=t[m]&255;s&&(o>0?_&128?o--:s=!1:_&128&&(_&64?(o++,_&32?(o++,_&16?(o++,_&8?s=!1:u++):l++):c++):s=!1)),a&&(_>127&&_<160?a=!1:_>159&&(_<192||_===215||_===247)&&y++),i&&(f>0?_<64||_===127||_>252?i=!1:f--:_===128||_===160||_>239?i=!1:_>160&&_<224?(d++,v=0,h++,h>p&&(p=h)):_>127?(f++,h=0,v++,v>x&&(x=v)):(h=0,v=0))}return s&&o>0&&(s=!1),i&&f>0&&(i=!1),s&&(w||c+l+u>0)?e.UTF8:i&&(e.ASSUME_SHIFT_JIS||p>=3||x>=3)?e.SHIFT_JIS:a&&i?p===2&&d===2||y*10>=n?e.SHIFT_JIS:e.ISO88591:a?e.ISO88591:i?e.SHIFT_JIS:s?e.UTF8:e.PLATFORM_DEFAULT_ENCODING},e.format=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=-1;function i(o,c,l,u,f,d){if(o==="%%")return"%";if(r[++a]!==void 0){o=u?parseInt(u.substr(1)):void 0;var h=f?parseInt(f.substr(1)):void 0,v;switch(d){case"s":v=r[a];break;case"c":v=r[a][0];break;case"f":v=parseFloat(r[a]).toFixed(o);break;case"p":v=parseFloat(r[a]).toPrecision(o);break;case"e":v=parseFloat(r[a]).toExponential(o);break;case"x":v=parseInt(r[a]).toString(h||16);break;case"d":v=parseFloat(parseInt(r[a],h||10).toPrecision(o)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(h);for(var p=parseInt(l),x=l&&l[0]+""=="0"?"0":" ";v.length<p;)v=c!==void 0?v+x:x+v;return v}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,i)},e.getBytes=function(t,r){return ra.encode(t,r)},e.getCharCode=function(t,r){return r===void 0&&(r=0),t.charCodeAt(r)},e.getCharAt=function(t){return String.fromCharCode(t)},e.SHIFT_JIS=ir.SJIS.getName(),e.GB2312="GB2312",e.ISO88591=ir.ISO8859_1.getName(),e.EUC_JP="EUC_JP",e.UTF8=ir.UTF8.getName(),e.PLATFORM_DEFAULT_ENCODING=e.UTF8,e.ASSUME_SHIFT_JIS=!1,e}(),We=function(){function e(t){t===void 0&&(t=""),this.value=t}return e.prototype.enableDecoding=function(t){return this.encoding=t,this},e.prototype.append=function(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=qe.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},e.prototype.appendChars=function(t,r,n){for(var a=r;r<r+n;a++)this.append(t[a]);return this},e.prototype.length=function(){return this.value.length},e.prototype.charAt=function(t){return this.value.charAt(t)},e.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},e.prototype.setCharAt=function(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)},e.prototype.substring=function(t,r){return this.value.substring(t,r)},e.prototype.setLengthToZero=function(){this.value=""},e.prototype.toString=function(){return this.value},e.prototype.insert=function(t,r){this.value=this.value.substring(0,t)+r+this.value.substring(t)},e}(),ai=function(){function e(t,r,n,a){if(this.width=t,this.height=r,this.rowSize=n,this.bits=a,r==null&&(r=t),this.height=r,t<1||r<1)throw new Oe("Both dimensions must be greater than 0");n==null&&(n=Math.floor((t+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return e.parseFromBooleanArray=function(t){for(var r=t.length,n=t[0].length,a=new e(n,r),i=0;i<r;i++)for(var s=t[i],o=0;o<n;o++)s[o]&&a.set(o,i);return a},e.parseFromString=function(t,r,n){if(t===null)throw new Oe("stringRepresentation cannot be null");for(var a=new Array(t.length),i=0,s=0,o=-1,c=0,l=0;l<t.length;)if(t.charAt(l)===`
`||t.charAt(l)==="\r"){if(i>s){if(o===-1)o=i-s;else if(i-s!==o)throw new Oe("row lengths do not match");s=i,c++}l++}else if(t.substring(l,l+r.length)===r)l+=r.length,a[i]=!0,i++;else if(t.substring(l,l+n.length)===n)l+=n.length,a[i]=!1,i++;else throw new Oe("illegal character encountered: "+t.substring(l));if(i>s){if(o===-1)o=i-s;else if(i-s!==o)throw new Oe("row lengths do not match");c++}for(var u=new e(o,c),f=0;f<i;f++)a[f]&&u.set(Math.floor(f%o),Math.floor(f/o));return u},e.prototype.get=function(t,r){var n=r*this.rowSize+Math.floor(t/32);return(this.bits[n]>>>(t&31)&1)!==0},e.prototype.set=function(t,r){var n=r*this.rowSize+Math.floor(t/32);this.bits[n]|=1<<(t&31)&4294967295},e.prototype.unset=function(t,r){var n=r*this.rowSize+Math.floor(t/32);this.bits[n]&=~(1<<(t&31)&4294967295)},e.prototype.flip=function(t,r){var n=r*this.rowSize+Math.floor(t/32);this.bits[n]^=1<<(t&31)&4294967295},e.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new Oe("input matrix dimensions do not match");for(var r=new wr(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,i=0,s=this.height;i<s;i++)for(var o=i*n,c=t.getRow(i,r).getBitArray(),l=0;l<n;l++)a[o+l]^=c[l]},e.prototype.clear=function(){for(var t=this.bits,r=t.length,n=0;n<r;n++)t[n]=0},e.prototype.setRegion=function(t,r,n,a){if(r<0||t<0)throw new Oe("Left and top must be nonnegative");if(a<1||n<1)throw new Oe("Height and width must be at least 1");var i=t+n,s=r+a;if(s>this.height||i>this.width)throw new Oe("The region must fit inside the matrix");for(var o=this.rowSize,c=this.bits,l=r;l<s;l++)for(var u=l*o,f=t;f<i;f++)c[u+Math.floor(f/32)]|=1<<(f&31)&4294967295},e.prototype.getRow=function(t,r){r==null||r.getSize()<this.width?r=new wr(this.width):r.clear();for(var n=this.rowSize,a=this.bits,i=t*n,s=0;s<n;s++)r.setBulk(s*32,a[i+s]);return r},e.prototype.setRow=function(t,r){yt.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},e.prototype.rotate180=function(){for(var t=this.getWidth(),r=this.getHeight(),n=new wr(t),a=new wr(t),i=0,s=Math.floor((r+1)/2);i<s;i++)n=this.getRow(i,n),a=this.getRow(r-1-i,a),n.reverse(),a.reverse(),this.setRow(i,a),this.setRow(r-1-i,n)},e.prototype.getEnclosingRectangle=function(){for(var t=this.width,r=this.height,n=this.rowSize,a=this.bits,i=t,s=r,o=-1,c=-1,l=0;l<r;l++)for(var u=0;u<n;u++){var f=a[l*n+u];if(f!==0){if(l<s&&(s=l),l>c&&(c=l),u*32<i){for(var d=0;!(f<<31-d&4294967295);)d++;u*32+d<i&&(i=u*32+d)}if(u*32+31>o){for(var d=31;!(f>>>d);)d--;u*32+d>o&&(o=u*32+d)}}}return o<i||c<s?null:Int32Array.from([i,s,o-i+1,c-s+1])},e.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var a=n/t,i=n%t*32,s=r[n],o=0;!(s<<31-o&4294967295);)o++;return i+=o,Int32Array.from([i,a])},e.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/t),i=Math.floor(n%t)*32,s=r[n],o=31;!(s>>>o);)o--;return i+=o,Int32Array.from([i,a])},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRowSize=function(){return this.rowSize},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&or.equals(this.bits,r.bits)},e.prototype.hashCode=function(){var t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+or.hashCode(this.bits),t},e.prototype.toString=function(t,r,n){return t===void 0&&(t="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(t,r,n)},e.prototype.buildToString=function(t,r,n){for(var a=new We,i=0,s=this.height;i<s;i++){for(var o=0,c=this.width;o<c;o++)a.append(this.get(o,i)?t:r);a.append(n)}return a.toString()},e.prototype.clone=function(){return new e(this.width,this.height,this.rowSize,this.bits.slice())},e}(),eB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ce=function(e){eB(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t}(kn),tB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rB=function(e){tB(t,e);function t(r){var n=e.call(this,r)||this;return n.luminances=t.EMPTY,n.buckets=new Int32Array(t.LUMINANCE_BUCKETS),n}return t.prototype.getBlackRow=function(r,n){var a=this.getLuminanceSource(),i=a.getWidth();n==null||n.getSize()<i?n=new wr(i):n.clear(),this.initArrays(i);for(var s=a.getRow(r,this.luminances),o=this.buckets,c=0;c<i;c++)o[(s[c]&255)>>t.LUMINANCE_SHIFT]++;var l=t.estimateBlackPoint(o);if(i<3)for(var c=0;c<i;c++)(s[c]&255)<l&&n.set(c);else for(var u=s[0]&255,f=s[1]&255,c=1;c<i-1;c++){var d=s[c+1]&255;(f*4-u-d)/2<l&&n.set(c),u=f,f=d}return n},t.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight(),i=new ai(n,a);this.initArrays(n);for(var s=this.buckets,o=1;o<5;o++)for(var c=Math.floor(a*o/5),l=r.getRow(c,this.luminances),u=Math.floor(n*4/5),f=Math.floor(n/5);f<u;f++){var d=l[f]&255;s[d>>t.LUMINANCE_SHIFT]++}for(var h=t.estimateBlackPoint(s),v=r.getMatrix(),o=0;o<a;o++)for(var p=o*n,f=0;f<n;f++){var d=v[p+f]&255;d<h&&i.set(f,o)}return i},t.prototype.createBinarizer=function(r){return new t(r)},t.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,a=0;a<t.LUMINANCE_BUCKETS;a++)n[a]=0},t.estimateBlackPoint=function(r){for(var n=r.length,a=0,i=0,s=0,o=0;o<n;o++)r[o]>s&&(i=o,s=r[o]),r[o]>a&&(a=r[o]);for(var c=0,l=0,o=0;o<n;o++){var u=o-i,f=r[o]*u*u;f>l&&(c=o,l=f)}if(i>c){var d=i;i=c,c=d}if(c-i<=n/16)throw new ce;for(var h=c-1,v=-1,o=c-1;o>i;o--){var p=o-i,f=p*p*(c-o)*(a-r[o]);f>v&&(h=o,v=f)}return h<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(XL),nB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aB=function(e){nB(t,e);function t(r){var n=e.call(this,r)||this;return n.matrix=null,n}return t.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight();if(n>=t.MINIMUM_DIMENSION&&a>=t.MINIMUM_DIMENSION){var i=r.getMatrix(),s=n>>t.BLOCK_SIZE_POWER;n&t.BLOCK_SIZE_MASK&&s++;var o=a>>t.BLOCK_SIZE_POWER;a&t.BLOCK_SIZE_MASK&&o++;var c=t.calculateBlackPoints(i,s,o,n,a),l=new ai(n,a);t.calculateThresholdForBlock(i,s,o,n,a,c,l),this.matrix=l}else this.matrix=e.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(r){return new t(r)},t.calculateThresholdForBlock=function(r,n,a,i,s,o,c){for(var l=s-t.BLOCK_SIZE,u=i-t.BLOCK_SIZE,f=0;f<a;f++){var d=f<<t.BLOCK_SIZE_POWER;d>l&&(d=l);for(var h=t.cap(f,2,a-3),v=0;v<n;v++){var p=v<<t.BLOCK_SIZE_POWER;p>u&&(p=u);for(var x=t.cap(v,2,n-3),y=0,w=-2;w<=2;w++){var m=o[h+w];y+=m[x-2]+m[x-1]+m[x]+m[x+1]+m[x+2]}var _=y/25;t.thresholdBlock(r,p,d,_,i,c)}}},t.cap=function(r,n,a){return r<n?n:r>a?a:r},t.thresholdBlock=function(r,n,a,i,s,o){for(var c=0,l=a*s+n;c<t.BLOCK_SIZE;c++,l+=s)for(var u=0;u<t.BLOCK_SIZE;u++)(r[l+u]&255)<=i&&o.set(n+u,a+c)},t.calculateBlackPoints=function(r,n,a,i,s){for(var o=s-t.BLOCK_SIZE,c=i-t.BLOCK_SIZE,l=new Array(a),u=0;u<a;u++){l[u]=new Int32Array(n);var f=u<<t.BLOCK_SIZE_POWER;f>o&&(f=o);for(var d=0;d<n;d++){var h=d<<t.BLOCK_SIZE_POWER;h>c&&(h=c);for(var v=0,p=255,x=0,y=0,w=f*i+h;y<t.BLOCK_SIZE;y++,w+=i){for(var m=0;m<t.BLOCK_SIZE;m++){var _=r[w+m]&255;v+=_,_<p&&(p=_),_>x&&(x=_)}if(x-p>t.MIN_DYNAMIC_RANGE)for(y++,w+=i;y<t.BLOCK_SIZE;y++,w+=i)for(var m=0;m<t.BLOCK_SIZE;m++)v+=r[w+m]&255}var S=v>>t.BLOCK_SIZE_POWER*2;if(x-p<=t.MIN_DYNAMIC_RANGE&&(S=p/2,u>0&&d>0)){var A=(l[u-1][d]+2*l[u][d-1]+l[u-1][d-1])/4;p<A&&(S=A)}l[u][d]=S}}return l},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=t.BLOCK_SIZE*5,t.MIN_DYNAMIC_RANGE=24,t}(rB),Gh=function(){function e(t,r){this.width=t,this.height=r}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.isCropSupported=function(){return!1},e.prototype.crop=function(t,r,n,a){throw new q0("This luminance source does not support cropping.")},e.prototype.isRotateSupported=function(){return!1},e.prototype.rotateCounterClockwise=function(){throw new q0("This luminance source does not support rotation by 90 degrees.")},e.prototype.rotateCounterClockwise45=function(){throw new q0("This luminance source does not support rotation by 45 degrees.")},e.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),r=new We,n=0;n<this.height;n++){for(var a=this.getRow(n,t),i=0;i<this.width;i++){var s=a[i]&255,o=void 0;s<64?o="#":s<128?o="+":s<192?o=".":o=" ",r.append(o)}r.append(`
`)}return r.toString()},e}(),iB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hm=function(e){iB(t,e);function t(r){var n=e.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return t.prototype.getRow=function(r,n){for(var a=this.delegate.getRow(r,n),i=this.getWidth(),s=0;s<i;s++)a[s]=255-(a[s]&255);return a},t.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),i=0;i<n;i++)a[i]=255-(r[i]&255);return a},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(r,n,a,i){return new t(this.delegate.crop(r,n,a,i))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}(Gh),sB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oB=function(e){sB(t,e);function t(r,n){n===void 0&&(n=!1);var a=e.call(this,r.width,r.height)||this;return a.canvas=r,a.tempCanvasElement=null,a.buffer=t.makeBufferFromCanvasImageData(r,n),a}return t.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var a=r.getContext("2d").getImageData(0,0,r.width,r.height);return t.toGrayscaleBuffer(a.data,r.width,r.height,n)},t.toGrayscaleBuffer=function(r,n,a,i){i===void 0&&(i=!1);var s=new Uint8ClampedArray(n*a);if(t.FRAME_INDEX=!t.FRAME_INDEX,t.FRAME_INDEX||!i)for(var o=0,c=0,l=r.length;o<l;o+=4,c++){var u=void 0,f=r[o+3];if(f===0)u=255;else{var d=r[o],h=r[o+1],v=r[o+2];u=306*d+601*h+117*v+512>>10}s[c]=u}else for(var o=0,c=0,p=r.length;o<p;o+=4,c++){var u=void 0,f=r[o+3];if(f===0)u=255;else{var d=r[o],h=r[o+1],v=r[o+2];u=306*d+601*h+117*v+512>>10}s[c]=255-u}return s},t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Oe("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return n===null?n=this.buffer.slice(i,i+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(i,i+a))),n},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return e.prototype.crop.call(this,r,n,a,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},t.prototype.rotate=function(r){var n=this.getTempCanvasElement(),a=n.getContext("2d"),i=r*t.DEGREE_TO_RADIANS,s=this.canvas.width,o=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*o),l=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*o);return n.width=c,n.height=l,a.translate(c/2,l/2),a.rotate(i),a.drawImage(this.canvas,s/-2,o/-2),this.buffer=t.makeBufferFromCanvasImageData(n),this},t.prototype.invert=function(){return new hm(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t.FRAME_INDEX=!0,t}(Gh),cB=function(){function e(t,r,n){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return e.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},e}(),en=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):a(u.value).then(o,c)}l((n=n.apply(e,t||[])).next())})},tn=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=l[0]&2?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,a=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(u){l=[6,u],a=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},lB=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vl=function(){function e(t,r,n){r===void 0&&(r=500),this.reader=t,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(e.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),e.prototype.listVideoInputDevices=function(){return en(this,void 0,void 0,function(){var t,r,n,a,i,s,o,c,l,u,f,d;return tn(this,function(h){switch(h.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=h.sent(),r=[];try{for(n=lB(t),a=n.next();!a.done;a=n.next())i=a.value,s=i.kind==="video"?"videoinput":i.kind,s==="videoinput"&&(o=i.deviceId||i.id,c=i.label||"Video device "+(r.length+1),l=i.groupId,u={deviceId:o,label:c,kind:s,groupId:l},r.push(u))}catch(v){f={error:v}}finally{try{a&&!a.done&&(d=n.return)&&d.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},e.prototype.getVideoInputDevices=function(){return en(this,void 0,void 0,function(){var t;return tn(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),[2,t.map(function(n){return new cB(n.deviceId,n.label)})]}})})},e.prototype.findDeviceById=function(t){return en(this,void 0,void 0,function(){var r;return tn(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===t})]:[2,null]}})})},e.prototype.decodeFromInputVideoDevice=function(t,r){return en(this,void 0,void 0,function(){return tn(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,r)];case 1:return[2,n.sent()]}})})},e.prototype.decodeOnceFromVideoDevice=function(t,r){return en(this,void 0,void 0,function(){var n,a;return tn(this,function(i){switch(i.label){case 0:return this.reset(),t?n={deviceId:{exact:t}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},e.prototype.decodeOnceFromConstraints=function(t,r){return en(this,void 0,void 0,function(){var n;return tn(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},e.prototype.decodeOnceFromStream=function(t,r){return en(this,void 0,void 0,function(){var n,a;return tn(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,r)];case 1:return n=i.sent(),[4,this.decodeOnce(n)];case 2:return a=i.sent(),[2,a]}})})},e.prototype.decodeFromInputVideoDeviceContinuously=function(t,r,n){return en(this,void 0,void 0,function(){return tn(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(t,r,n)];case 1:return[2,a.sent()]}})})},e.prototype.decodeFromVideoDevice=function(t,r,n){return en(this,void 0,void 0,function(){var a,i;return tn(this,function(s){switch(s.label){case 0:return t?a={deviceId:{exact:t}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,s.sent()]}})})},e.prototype.decodeFromConstraints=function(t,r,n){return en(this,void 0,void 0,function(){var a;return tn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return a=i.sent(),[4,this.decodeFromStream(a,r,n)];case 2:return[2,i.sent()]}})})},e.prototype.decodeFromStream=function(t,r,n){return en(this,void 0,void 0,function(){var a;return tn(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,r)];case 1:return a=i.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,i.sent()]}})})},e.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},e.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},e.prototype.attachStreamToVideo=function(t,r){return en(this,void 0,void 0,function(){var n;return tn(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,t),this.videoElement=n,this.stream=t,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},e.prototype.playVideoOnLoadAsync=function(t){var r=this;return new Promise(function(n,a){return r.playVideoOnLoad(t,function(){return n()})})},e.prototype.playVideoOnLoad=function(t,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)},e.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},e.prototype.tryPlayVideo=function(t){return en(this,void 0,void 0,function(){return tn(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},e.prototype.getMediaElement=function(t,r){var n=document.getElementById(t);if(!n)throw new pa("element with id '"+t+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new pa("element with id '"+t+"' must be an "+r+" element");return n},e.prototype.decodeFromImage=function(t,r){if(!t&&!r)throw new pa("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)},e.prototype.decodeFromVideo=function(t,r){if(!t&&!r)throw new pa("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)},e.prototype.decodeFromVideoContinuously=function(t,r,n){if(t===void 0&&r===void 0)throw new pa("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(t,n)},e.prototype.decodeFromImageElement=function(t){if(!t)throw new pa("An image element must be provided.");this.reset();var r=this.prepareImageElement(t);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},e.prototype.decodeFromVideoElement=function(t){var r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)},e.prototype.decodeFromVideoElementContinuously=function(t,r){var n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(n,r)},e.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new pa("A video element must be provided.");this.reset();var r=this.prepareVideoElement(t);return this.videoElement=r,r},e.prototype.decodeFromImageUrl=function(t){if(!t)throw new pa("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=t,n},e.prototype.decodeFromVideoUrl=function(t){if(!t)throw new pa("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=t,n},e.prototype.decodeFromVideoUrlContinuously=function(t,r){if(!t)throw new pa("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,r);return n.src=t,a},e.prototype._decodeOnLoadImage=function(t){var r=this;return new Promise(function(n,a){r.imageLoadedListener=function(){return r.decodeOnce(t,!1,!0).then(n,a)},t.addEventListener("load",r.imageLoadedListener)})},e.prototype._decodeOnLoadVideo=function(t){return en(this,void 0,void 0,function(){return tn(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return r.sent(),[4,this.decodeOnce(t)];case 2:return[2,r.sent()]}})})},e.prototype._decodeOnLoadVideoContinuously=function(t,r){return en(this,void 0,void 0,function(){return tn(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return n.sent(),this.decodeContinuously(t,r),[2]}})})},e.prototype.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},e.prototype.prepareImageElement=function(t){var r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r},e.prototype.prepareVideoElement=function(t){var r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},e.prototype.decodeOnce=function(t,r,n){var a=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var i=function(s,o){if(a._stopAsyncDecode){o(new ce("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var c=a.decode(t);s(c)}catch(d){var l=r&&d instanceof ce,u=d instanceof yr||d instanceof ye,f=u&&n;if(l||f)return setTimeout(i,a._timeBetweenDecodingAttempts,s,o);o(d)}};return new Promise(function(s,o){return i(s,o)})},e.prototype.decodeContinuously=function(t,r){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var i=n.decode(t);r(i,null),setTimeout(a,n.timeBetweenScansMillis)}catch(c){r(null,c);var s=c instanceof yr||c instanceof ye,o=c instanceof ce;(s||o)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},e.prototype.decode=function(t){var r=this.createBinaryBitmap(t);return this.decodeBitmap(r)},e.prototype.createBinaryBitmap=function(t){this.getCaptureCanvasContext(t);var r=!1;t instanceof HTMLVideoElement?(this.drawFrameOnCanvas(t),r=!0):this.drawImageOnCanvas(t);var n=this.getCaptureCanvas(t),a=new oB(n,r),i=new aB(a);return new WL(i)},e.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(t),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},e.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas},e.prototype.drawFrameOnCanvas=function(t,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},e.prototype.drawImageOnCanvas=function(t,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},e.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},e.prototype.createCaptureCanvas=function(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,a;return typeof t<"u"&&(t instanceof HTMLVideoElement?(n=t.videoWidth,a=t.videoHeight):t instanceof HTMLImageElement&&(n=t.naturalWidth||t.width,a=t.naturalHeight||t.height)),r.style.width=n+"px",r.style.height=a+"px",r.width=n,r.height=a,r},e.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},e.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},e.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},e.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},e.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},e.prototype.addVideoSource=function(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}},e.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")},e}(),Zr=function(){function e(t,r,n,a,i,s){n===void 0&&(n=r==null?0:8*r.length),s===void 0&&(s=yt.currentTimeMillis()),this.text=t,this.rawBytes=r,this.numBits=n,this.resultPoints=a,this.format=i,this.timestamp=s,this.text=t,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=a,this.format=i,this.resultMetadata=null,s==null?this.timestamp=yt.currentTimeMillis():this.timestamp=s}return e.prototype.getText=function(){return this.text},e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.getBarcodeFormat=function(){return this.format},e.prototype.getResultMetadata=function(){return this.resultMetadata},e.prototype.putMetadata=function(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)},e.prototype.putAllMetadata=function(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))},e.prototype.addResultPoints=function(t){var r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){var n=new Array(r.length+t.length);yt.arraycopy(r,0,n,0,r.length),yt.arraycopy(t,0,n,r.length,t.length),this.resultPoints=n}},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.toString=function(){return this.text},e}(),tg;(function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(tg||(tg={}));const Ie=tg;var rg;(function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(rg||(rg={}));const Nr=rg;var Xh=function(){function e(t,r,n,a,i,s){i===void 0&&(i=-1),s===void 0&&(s=-1),this.rawBytes=t,this.text=r,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=s,this.numBits=t==null?0:8*t.length}return e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.setNumBits=function(t){this.numBits=t},e.prototype.getText=function(){return this.text},e.prototype.getByteSegments=function(){return this.byteSegments},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getErrorsCorrected=function(){return this.errorsCorrected},e.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},e.prototype.getErasures=function(){return this.erasures},e.prototype.setErasures=function(t){this.erasures=t},e.prototype.getOther=function(){return this.other},e.prototype.setOther=function(t){this.other=t},e.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},e.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},e.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},e}(),Gl=function(){function e(){}return e.prototype.exp=function(t){return this.expTable[t]},e.prototype.log=function(t){if(t===0)throw new Oe;return this.logTable[t]},e.addOrSubtract=function(t,r){return t^r},e}(),Cs=function(){function e(t,r){if(r.length===0)throw new Oe;this.field=t;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),yt.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},e.prototype.evaluateAt=function(t){if(t===0)return this.getCoefficient(0);var r=this.coefficients,n;if(t===1){n=0;for(var a=0,i=r.length;a!==i;a++){var s=r[a];n=Gl.addOrSubtract(n,s)}return n}n=r[0];for(var o=r.length,c=this.field,a=1;a<o;a++)n=Gl.addOrSubtract(c.multiply(t,n),r[a]);return n},e.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new Oe("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var r=this.coefficients,n=t.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),s=n.length-r.length;yt.arraycopy(n,0,i,0,s);for(var o=s;o<n.length;o++)i[o]=Gl.addOrSubtract(r[o-s],n[o]);return new e(this.field,i)},e.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new Oe("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,a=t.coefficients,i=a.length,s=new Int32Array(n+i-1),o=this.field,c=0;c<n;c++)for(var l=r[c],u=0;u<i;u++)s[c+u]=Gl.addOrSubtract(s[c+u],o.multiply(l,a[u]));return new e(o,s)},e.prototype.multiplyScalar=function(t){if(t===0)return this.field.getZero();if(t===1)return this;for(var r=this.coefficients.length,n=this.field,a=new Int32Array(r),i=this.coefficients,s=0;s<r;s++)a[s]=n.multiply(i[s],t);return new e(n,a)},e.prototype.multiplyByMonomial=function(t,r){if(t<0)throw new Oe;if(r===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,i=new Int32Array(a+t),s=this.field,o=0;o<a;o++)i[o]=s.multiply(n[o],r);return new e(s,i)},e.prototype.divide=function(t){if(!this.field.equals(t.field))throw new Oe("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new Oe("Divide by 0");for(var r=this.field,n=r.getZero(),a=this,i=t.getCoefficient(t.getDegree()),s=r.inverse(i);a.getDegree()>=t.getDegree()&&!a.isZero();){var o=a.getDegree()-t.getDegree(),c=r.multiply(a.getCoefficient(a.getDegree()),s),l=t.multiplyByMonomial(o,c),u=r.buildMonomial(o,c);n=n.addOrSubtract(u),a=a.addOrSubtract(l)}return[n,a]},e.prototype.toString=function(){for(var t="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(t+=" - ",n=-n):t.length>0&&(t+=" + "),r===0||n!==1){var a=this.field.log(n);a===0?t+="1":a===1?t+="a":(t+="a^",t+=a)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t},e}(),uB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zb=function(e){uB(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ArithmeticException",t}(kn),fB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cn=function(e){fB(t,e);function t(r,n,a){var i=e.call(this)||this;i.primitive=r,i.size=n,i.generatorBase=a;for(var s=new Int32Array(n),o=1,c=0;c<n;c++)s[c]=o,o*=2,o>=n&&(o^=r,o&=n-1);i.expTable=s;for(var l=new Int32Array(n),c=0;c<n-1;c++)l[s[c]]=c;return i.logTable=l,i.zero=new Cs(i,Int32Array.from([0])),i.one=new Cs(i,Int32Array.from([1])),i}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(r,n){if(r<0)throw new Oe;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new Cs(this,a)},t.prototype.inverse=function(r){if(r===0)throw new Zb;return this.expTable[this.size-this.logTable[r]-1]},t.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+Ge.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(r){return r===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(Gl),dB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),y0=function(e){dB(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ReedSolomonException",t}(kn),hB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pf=function(e){hB(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IllegalStateException",t}(kn),Kh=function(){function e(t){this.field=t}return e.prototype.decode=function(t,r){for(var n=this.field,a=new Cs(n,t),i=new Int32Array(r),s=!0,o=0;o<r;o++){var c=a.evaluateAt(n.exp(o+n.getGeneratorBase()));i[i.length-1-o]=c,c!==0&&(s=!1)}if(!s)for(var l=new Cs(n,i),u=this.runEuclideanAlgorithm(n.buildMonomial(r,1),l,r),f=u[0],d=u[1],h=this.findErrorLocations(f),v=this.findErrorMagnitudes(d,h),o=0;o<h.length;o++){var p=t.length-1-n.log(h[o]);if(p<0)throw new y0("Bad error location");t[p]=Cn.addOrSubtract(t[p],v[o])}},e.prototype.runEuclideanAlgorithm=function(t,r,n){if(t.getDegree()<r.getDegree()){var a=t;t=r,r=a}for(var i=this.field,s=t,o=r,c=i.getZero(),l=i.getOne();o.getDegree()>=(n/2|0);){var u=s,f=c;if(s=o,c=l,s.isZero())throw new y0("r_{i-1} was zero");o=u;for(var d=i.getZero(),h=s.getCoefficient(s.getDegree()),v=i.inverse(h);o.getDegree()>=s.getDegree()&&!o.isZero();){var p=o.getDegree()-s.getDegree(),x=i.multiply(o.getCoefficient(o.getDegree()),v);d=d.addOrSubtract(i.buildMonomial(p,x)),o=o.addOrSubtract(s.multiplyByMonomial(p,x))}if(l=d.multiply(c).addOrSubtract(f),o.getDegree()>=s.getDegree())throw new Pf("Division algorithm failed to reduce polynomial?")}var y=l.getCoefficient(0);if(y===0)throw new y0("sigmaTilde(0) was zero");var w=i.inverse(y),m=l.multiplyScalar(w),_=o.multiplyScalar(w);return[m,_]},e.prototype.findErrorLocations=function(t){var r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);for(var n=new Int32Array(r),a=0,i=this.field,s=1;s<i.getSize()&&a<r;s++)t.evaluateAt(s)===0&&(n[a]=i.inverse(s),a++);if(a!==r)throw new y0("Error locator degree does not match number of roots");return n},e.prototype.findErrorMagnitudes=function(t,r){for(var n=r.length,a=new Int32Array(n),i=this.field,s=0;s<n;s++){for(var o=i.inverse(r[s]),c=1,l=0;l<n;l++)if(s!==l){var u=i.multiply(r[l],o),f=u&1?u&-2:u|1;c=i.multiply(c,f)}a[s]=i.multiply(t.evaluateAt(o),i.inverse(c)),i.getGeneratorBase()!==0&&(a[s]=i.multiply(a[s],o))}return a},e}(),br;(function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"})(br||(br={}));var Aw=function(){function e(){}return e.prototype.decode=function(t){this.ddata=t;var r=t.getBits(),n=this.extractBits(r),a=this.correctBits(n),i=e.convertBoolArrayToByteArray(a),s=e.getEncodedData(a),o=new Xh(i,s,null,null);return o.setNumBits(a.length),o},e.highLevelDecode=function(t){return this.getEncodedData(t)},e.getEncodedData=function(t){for(var r=t.length,n=br.UPPER,a=br.UPPER,i="",s=0;s<r;)if(a===br.BINARY){if(r-s<5)break;var o=e.readCode(t,s,5);if(s+=5,o===0){if(r-s<11)break;o=e.readCode(t,s,11)+31,s+=11}for(var c=0;c<o;c++){if(r-s<8){s=r;break}var l=e.readCode(t,s,8);i+=qe.castAsNonUtf8Char(l),s+=8}a=n}else{var u=a===br.DIGIT?4:5;if(r-s<u)break;var l=e.readCode(t,s,u);s+=u;var f=e.getCharacter(a,l);f.startsWith("CTRL_")?(n=a,a=e.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=a)):(i+=f,a=n)}return i},e.getTable=function(t){switch(t){case"L":return br.LOWER;case"P":return br.PUNCT;case"M":return br.MIXED;case"D":return br.DIGIT;case"B":return br.BINARY;case"U":default:return br.UPPER}},e.getCharacter=function(t,r){switch(t){case br.UPPER:return e.UPPER_TABLE[r];case br.LOWER:return e.LOWER_TABLE[r];case br.MIXED:return e.MIXED_TABLE[r];case br.PUNCT:return e.PUNCT_TABLE[r];case br.DIGIT:return e.DIGIT_TABLE[r];default:throw new Pf("Bad table")}},e.prototype.correctBits=function(t){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Cn.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Cn.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Cn.AZTEC_DATA_10):(n=12,r=Cn.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),i=t.length/n;if(i<a)throw new ye;for(var s=t.length%n,o=new Int32Array(i),c=0;c<i;c++,s+=n)o[c]=e.readCode(t,s,n);try{var l=new Kh(r);l.decode(o,i-a)}catch(x){throw new ye(x)}for(var u=(1<<n)-1,f=0,c=0;c<a;c++){var d=o[c];if(d===0||d===u)throw new ye;(d===1||d===u-1)&&f++}for(var h=new Array(a*n-f),v=0,c=0;c<a;c++){var d=o[c];if(d===1||d===u-1)h.fill(d>1,v,v+n-1),v+=n-1;else for(var p=n-1;p>=0;--p)h[v++]=(d&1<<p)!==0}return h},e.prototype.extractBits=function(t){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(r?11:14)+n*4,i=new Int32Array(a),s=new Array(this.totalBitsInLayer(n,r));if(r)for(var o=0;o<i.length;o++)i[o]=o;else for(var c=a+1+2*Ge.truncDivision(Ge.truncDivision(a,2)-1,15),l=a/2,u=Ge.truncDivision(c,2),o=0;o<l;o++){var f=o+Ge.truncDivision(o,15);i[l-o-1]=u-f-1,i[l+o]=u+f+1}for(var o=0,d=0;o<n;o++){for(var h=(n-o)*4+(r?9:12),v=o*2,p=a-1-v,x=0;x<h;x++)for(var y=x*2,w=0;w<2;w++)s[d+y+w]=t.get(i[v+w],i[v+x]),s[d+2*h+y+w]=t.get(i[v+x],i[p-w]),s[d+4*h+y+w]=t.get(i[p-w],i[p-x]),s[d+6*h+y+w]=t.get(i[p-x],i[v+w]);d+=h*8}return s},e.readCode=function(t,r,n){for(var a=0,i=r;i<r+n;i++)a<<=1,t[i]&&(a|=1);return a},e.readByte=function(t,r){var n=t.length-r;return n>=8?e.readCode(t,r,8):e.readCode(t,r,n)<<8-n},e.convertBoolArrayToByteArray=function(t){for(var r=new Uint8Array((t.length+7)/8),n=0;n<r.length;n++)r[n]=e.readByte(t,8*n);return r},e.prototype.totalBitsInLayer=function(t,r){return((r?88:112)+16*t)*t},e.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],e.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],e.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],e.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],e.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],e}(),at=function(){function e(){}return e.round=function(t){return isNaN(t)?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},e.distance=function(t,r,n,a){var i=t-n,s=r-a;return Math.sqrt(i*i+s*s)},e.sum=function(t){for(var r=0,n=0,a=t.length;n!==a;n++){var i=t[n];r+=i}return r},e}(),ng=function(){function e(){}return e.floatToIntBits=function(t){return t},e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),ke=function(){function e(t,r){this.x=t,this.y=r}return e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.equals=function(t){if(t instanceof e){var r=t;return this.x===r.x&&this.y===r.y}return!1},e.prototype.hashCode=function(){return 31*ng.floatToIntBits(this.x)+ng.floatToIntBits(this.y)},e.prototype.toString=function(){return"("+this.x+","+this.y+")"},e.orderBestPatterns=function(t){var r=this.distance(t[0],t[1]),n=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]),i,s,o;if(n>=r&&n>=a?(s=t[0],i=t[1],o=t[2]):a>=n&&a>=r?(s=t[1],i=t[0],o=t[2]):(s=t[2],i=t[0],o=t[1]),this.crossProductZ(i,s,o)<0){var c=i;i=o,o=c}t[0]=i,t[1]=s,t[2]=o},e.distance=function(t,r){return at.distance(t.x,t.y,r.x,r.y)},e.crossProductZ=function(t,r,n){var a=r.x,i=r.y;return(n.x-a)*(t.y-i)-(n.y-i)*(t.x-a)},e}(),pm=function(){function e(t,r){this.bits=t,this.points=r}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),pB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vB=function(e){pB(t,e);function t(r,n,a,i,s){var o=e.call(this,r,n)||this;return o.compact=a,o.nbDatablocks=i,o.nbLayers=s,o}return t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}(pm),ag=function(){function e(t,r,n,a){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=e.INIT_SIZE),n==null&&(n=t.getWidth()/2|0),a==null&&(a=t.getHeight()/2|0);var i=r/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=a-i,this.downInit=a+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ce}return e.prototype.detect=function(){for(var t=this.leftInit,r=this.rightInit,n=this.upInit,a=this.downInit,i=!1,s=!0,o=!1,c=!1,l=!1,u=!1,f=!1,d=this.width,h=this.height;s;){s=!1;for(var v=!0;(v||!c)&&r<d;)v=this.containsBlackPoint(n,a,r,!1),v?(r++,s=!0,c=!0):c||r++;if(r>=d){i=!0;break}for(var p=!0;(p||!l)&&a<h;)p=this.containsBlackPoint(t,r,a,!0),p?(a++,s=!0,l=!0):l||a++;if(a>=h){i=!0;break}for(var x=!0;(x||!u)&&t>=0;)x=this.containsBlackPoint(n,a,t,!1),x?(t--,s=!0,u=!0):u||t--;if(t<0){i=!0;break}for(var y=!0;(y||!f)&&n>=0;)y=this.containsBlackPoint(t,r,n,!0),y?(n--,s=!0,f=!0):f||n--;if(n<0){i=!0;break}s&&(o=!0)}if(!i&&o){for(var w=r-t,m=null,_=1;m===null&&_<w;_++)m=this.getBlackPointOnSegment(t,a-_,t+_,a);if(m==null)throw new ce;for(var S=null,_=1;S===null&&_<w;_++)S=this.getBlackPointOnSegment(t,n+_,t+_,n);if(S==null)throw new ce;for(var A=null,_=1;A===null&&_<w;_++)A=this.getBlackPointOnSegment(r,n+_,r-_,n);if(A==null)throw new ce;for(var C=null,_=1;C===null&&_<w;_++)C=this.getBlackPointOnSegment(r,a-_,r-_,a);if(C==null)throw new ce;return this.centerEdges(C,m,A,S)}else throw new ce},e.prototype.getBlackPointOnSegment=function(t,r,n,a){for(var i=at.round(at.distance(t,r,n,a)),s=(n-t)/i,o=(a-r)/i,c=this.image,l=0;l<i;l++){var u=at.round(t+l*s),f=at.round(r+l*o);if(c.get(u,f))return new ke(u,f)}return null},e.prototype.centerEdges=function(t,r,n,a){var i=t.getX(),s=t.getY(),o=r.getX(),c=r.getY(),l=n.getX(),u=n.getY(),f=a.getX(),d=a.getY(),h=e.CORR;return i<this.width/2?[new ke(f-h,d+h),new ke(o+h,c+h),new ke(l-h,u-h),new ke(i+h,s-h)]:[new ke(f+h,d+h),new ke(o+h,c-h),new ke(l-h,u+h),new ke(i-h,s-h)]},e.prototype.containsBlackPoint=function(t,r,n,a){var i=this.image;if(a){for(var s=t;s<=r;s++)if(i.get(s,n))return!0}else for(var o=t;o<=r;o++)if(i.get(n,o))return!0;return!1},e.INIT_SIZE=10,e.CORR=1,e}(),bw=function(){function e(){}return e.checkAndNudgePoints=function(t,r){for(var n=t.getWidth(),a=t.getHeight(),i=!0,s=0;s<r.length&&i;s+=2){var o=Math.floor(r[s]),c=Math.floor(r[s+1]);if(o<-1||o>n||c<-1||c>a)throw new ce;i=!1,o===-1?(r[s]=0,i=!0):o===n&&(r[s]=n-1,i=!0),c===-1?(r[s+1]=0,i=!0):c===a&&(r[s+1]=a-1,i=!0)}i=!0;for(var s=r.length-2;s>=0&&i;s-=2){var o=Math.floor(r[s]),c=Math.floor(r[s+1]);if(o<-1||o>n||c<-1||c>a)throw new ce;i=!1,o===-1?(r[s]=0,i=!0):o===n&&(r[s]=n-1,i=!0),c===-1?(r[s+1]=0,i=!0):c===a&&(r[s+1]=a-1,i=!0)}},e}(),Qb=function(){function e(t,r,n,a,i,s,o,c,l){this.a11=t,this.a21=r,this.a31=n,this.a12=a,this.a22=i,this.a32=s,this.a13=o,this.a23=c,this.a33=l}return e.quadrilateralToQuadrilateral=function(t,r,n,a,i,s,o,c,l,u,f,d,h,v,p,x){var y=e.quadrilateralToSquare(t,r,n,a,i,s,o,c),w=e.squareToQuadrilateral(l,u,f,d,h,v,p,x);return w.times(y)},e.prototype.transformPoints=function(t){for(var r=t.length,n=this.a11,a=this.a12,i=this.a13,s=this.a21,o=this.a22,c=this.a23,l=this.a31,u=this.a32,f=this.a33,d=0;d<r;d+=2){var h=t[d],v=t[d+1],p=i*h+c*v+f;t[d]=(n*h+s*v+l)/p,t[d+1]=(a*h+o*v+u)/p}},e.prototype.transformPointsWithValues=function(t,r){for(var n=this.a11,a=this.a12,i=this.a13,s=this.a21,o=this.a22,c=this.a23,l=this.a31,u=this.a32,f=this.a33,d=t.length,h=0;h<d;h++){var v=t[h],p=r[h],x=i*v+c*p+f;t[h]=(n*v+s*p+l)/x,r[h]=(a*v+o*p+u)/x}},e.squareToQuadrilateral=function(t,r,n,a,i,s,o,c){var l=t-n+i-o,u=r-a+s-c;if(l===0&&u===0)return new e(n-t,i-n,t,a-r,s-a,r,0,0,1);var f=n-i,d=o-i,h=a-s,v=c-s,p=f*v-d*h,x=(l*v-d*u)/p,y=(f*u-l*h)/p;return new e(n-t+x*n,o-t+y*o,t,a-r+x*a,c-r+y*c,r,x,y,1)},e.quadrilateralToSquare=function(t,r,n,a,i,s,o,c){return e.squareToQuadrilateral(t,r,n,a,i,s,o,c).buildAdjoint()},e.prototype.buildAdjoint=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},e.prototype.times=function(t){return new e(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},e}(),gB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xB=function(e){gB(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.sampleGrid=function(r,n,a,i,s,o,c,l,u,f,d,h,v,p,x,y,w,m,_){var S=Qb.quadrilateralToQuadrilateral(i,s,o,c,l,u,f,d,h,v,p,x,y,w,m,_);return this.sampleGridWithTransform(r,n,a,S)},t.prototype.sampleGridWithTransform=function(r,n,a,i){if(n<=0||a<=0)throw new ce;for(var s=new ai(n,a),o=new Float32Array(2*n),c=0;c<a;c++){for(var l=o.length,u=c+.5,f=0;f<l;f+=2)o[f]=f/2+.5,o[f+1]=u;i.transformPoints(o),bw.checkAndNudgePoints(r,o);try{for(var f=0;f<l;f+=2)r.get(Math.floor(o[f]),Math.floor(o[f+1]))&&s.set(f/2,c)}catch{throw new ce}}return s},t}(bw),vm=function(){function e(){}return e.setGridSampler=function(t){e.gridSampler=t},e.getInstance=function(){return e.gridSampler},e.gridSampler=new xB,e}(),mn=function(){function e(t,r){this.x=t,this.y=r}return e.prototype.toResultPoint=function(){return new ke(this.getX(),this.getY())},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e}(),mB=function(){function e(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return e.prototype.detect=function(){return this.detectMirror(!1)},e.prototype.detectMirror=function(t){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(t){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new vB(i,s,this.compact,this.nbDataBlocks,this.nbLayers)},e.prototype.extractParameters=function(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new ce;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(n,r);for(var a=0,i=0;i<4;i++){var s=n[(this.shift+i)%4];this.compact?(a<<=7,a+=s>>1&127):(a<<=10,a+=(s>>2&992)+(s>>1&31))}var o=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},e.prototype.getRotation=function(t,r){var n=0;t.forEach(function(i,s,o){var c=(i>>r-2<<1)+(i&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(Ge.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new ce},e.prototype.getCorrectedParameterData=function(t,r){var n,a;r?(n=7,a=2):(n=10,a=4);for(var i=n-a,s=new Int32Array(n),o=n-1;o>=0;--o)s[o]=t&15,t>>=4;try{var c=new Kh(Cn.AZTEC_PARAM);c.decode(s,i)}catch{throw new ce}for(var l=0,o=0;o<a;o++)l=(l<<4)+s[o];return l},e.prototype.getBullsEyeCorners=function(t){var r=t,n=t,a=t,i=t,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(r,s,1,-1),c=this.getFirstDifferent(n,s,1,1),l=this.getFirstDifferent(a,s,-1,1),u=this.getFirstDifferent(i,s,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(u,o)*this.nbCenterLayers/(this.distancePoint(i,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(o,c,l,u))break}r=o,n=c,a=l,i=u,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ce;this.compact=this.nbCenterLayers===5;var d=new ke(r.getX()+.5,r.getY()-.5),h=new ke(n.getX()+.5,n.getY()+.5),v=new ke(a.getX()-.5,a.getY()+.5),p=new ke(i.getX()-.5,i.getY()-.5);return this.expandSquare([d,h,v,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},e.prototype.getMatrixCenter=function(){var t,r,n,a;try{var i=new ag(this.image).detect();t=i[0],r=i[1],n=i[2],a=i[3]}catch{var s=this.image.getWidth()/2,o=this.image.getHeight()/2;t=this.getFirstDifferent(new mn(s+7,o-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new mn(s+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new mn(s-7,o+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new mn(s-7,o-7),!1,-1,-1).toResultPoint()}var c=at.round((t.getX()+a.getX()+r.getX()+n.getX())/4),l=at.round((t.getY()+a.getY()+r.getY()+n.getY())/4);try{var i=new ag(this.image,15,c,l).detect();t=i[0],r=i[1],n=i[2],a=i[3]}catch{t=this.getFirstDifferent(new mn(c+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new mn(c+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new mn(c-7,l+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new mn(c-7,l-7),!1,-1,-1).toResultPoint()}return c=at.round((t.getX()+a.getX()+r.getX()+n.getX())/4),l=at.round((t.getY()+a.getY()+r.getY()+n.getY())/4),new mn(c,l)},e.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},e.prototype.sampleGrid=function(t,r,n,a,i){var s=vm.getInstance(),o=this.getDimension(),c=o/2-this.nbCenterLayers,l=o/2+this.nbCenterLayers;return s.sampleGrid(t,o,o,c,c,l,c,l,l,c,l,r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY())},e.prototype.sampleLine=function(t,r,n){for(var a=0,i=this.distanceResultPoint(t,r),s=i/n,o=t.getX(),c=t.getY(),l=s*(r.getX()-t.getX())/i,u=s*(r.getY()-t.getY())/i,f=0;f<n;f++)this.image.get(at.round(o+f*l),at.round(c+f*u))&&(a|=1<<n-f-1);return a},e.prototype.isWhiteOrBlackRectangle=function(t,r,n,a){var i=3;t=new mn(t.getX()-i,t.getY()+i),r=new mn(r.getX()-i,r.getY()-i),n=new mn(n.getX()+i,n.getY()-i),a=new mn(a.getX()+i,a.getY()+i);var s=this.getColor(a,t);if(s===0)return!1;var o=this.getColor(t,r);return o!==s||(o=this.getColor(r,n),o!==s)?!1:(o=this.getColor(n,a),o===s)},e.prototype.getColor=function(t,r){for(var n=this.distancePoint(t,r),a=(r.getX()-t.getX())/n,i=(r.getY()-t.getY())/n,s=0,o=t.getX(),c=t.getY(),l=this.image.get(t.getX(),t.getY()),u=Math.ceil(n),f=0;f<u;f++)o+=a,c+=i,this.image.get(at.round(o),at.round(c))!==l&&s++;var d=s/n;return d>.1&&d<.9?0:d<=.1===l?1:-1},e.prototype.getFirstDifferent=function(t,r,n,a){for(var i=t.getX()+n,s=t.getY()+a;this.isValid(i,s)&&this.image.get(i,s)===r;)i+=n,s+=a;for(i-=n,s-=a;this.isValid(i,s)&&this.image.get(i,s)===r;)i+=n;for(i-=n;this.isValid(i,s)&&this.image.get(i,s)===r;)s+=a;return s-=a,new mn(i,s)},e.prototype.expandSquare=function(t,r,n){var a=n/(2*r),i=t[0].getX()-t[2].getX(),s=t[0].getY()-t[2].getY(),o=(t[0].getX()+t[2].getX())/2,c=(t[0].getY()+t[2].getY())/2,l=new ke(o+a*i,c+a*s),u=new ke(o-a*i,c-a*s);i=t[1].getX()-t[3].getX(),s=t[1].getY()-t[3].getY(),o=(t[1].getX()+t[3].getX())/2,c=(t[1].getY()+t[3].getY())/2;var f=new ke(o+a*i,c+a*s),d=new ke(o-a*i,c-a*s),h=[l,f,u,d];return h},e.prototype.isValid=function(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()},e.prototype.isValidPoint=function(t){var r=at.round(t.getX()),n=at.round(t.getY());return this.isValid(r,n)},e.prototype.distancePoint=function(t,r){return at.distance(t.getX(),t.getY(),r.getX(),r.getY())},e.prototype.distanceResultPoint=function(t,r){return at.distance(t.getX(),t.getY(),r.getX(),r.getY())},e.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ge.truncDivision(this.nbLayers-4,8)+1)+15},e}(),ig=function(){function e(){}return e.prototype.decode=function(t,r){r===void 0&&(r=null);var n=null,a=new mB(t.getBlackMatrix()),i=null,s=null;try{var o=a.detectMirror(!1);i=o.getPoints(),this.reportFoundResultPoints(r,i),s=new Aw().decode(o)}catch(f){n=f}if(s==null)try{var o=a.detectMirror(!0);i=o.getPoints(),this.reportFoundResultPoints(r,i),s=new Aw().decode(o)}catch(f){throw n??f}var c=new Zr(s.getText(),s.getRawBytes(),s.getNumBits(),i,Ie.AZTEC,yt.currentTimeMillis()),l=s.getByteSegments();l!=null&&c.putMetadata(Nr.BYTE_SEGMENTS,l);var u=s.getECLevel();return u!=null&&c.putMetadata(Nr.ERROR_CORRECTION_LEVEL,u),c},e.prototype.reportFoundResultPoints=function(t,r){if(t!=null){var n=t.get(kt.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(a,i,s){n.foundPossibleResultPoint(a)})}},e.prototype.reset=function(){},e}(),yB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){yB(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new ig,r)||this}return t})(vl);var lr=function(){function e(){}return e.prototype.decode=function(t,r){try{return this.doDecode(t,r)}catch{var n=r&&r.get(kt.TRY_HARDER)===!0;if(n&&t.isRotateSupported()){var a=t.rotateCounterClockwise(),i=this.doDecode(a,r),s=i.getResultMetadata(),o=270;s!==null&&s.get(Nr.ORIENTATION)===!0&&(o=o+s.get(Nr.ORIENTATION)%360),i.putMetadata(Nr.ORIENTATION,o);var c=i.getResultPoints();if(c!==null)for(var l=a.getHeight(),u=0;u<c.length;u++)c[u]=new ke(l-c[u].getY()-1,c[u].getX());return i}else throw new ce}},e.prototype.reset=function(){},e.prototype.doDecode=function(t,r){var n=t.getWidth(),a=t.getHeight(),i=new wr(n),s=r&&r.get(kt.TRY_HARDER)===!0,o=Math.max(1,a>>(s?8:5)),c;s?c=a:c=15;for(var l=Math.trunc(a/2),u=0;u<c;u++){var f=Math.trunc((u+1)/2),d=(u&1)===0,h=l+o*(d?f:-f);if(h<0||h>=a)break;try{i=t.getBlackRow(h,i)}catch{continue}for(var v=function(w){if(w===1&&(i.reverse(),r&&r.get(kt.NEED_RESULT_POINT_CALLBACK)===!0)){var m=new Map;r.forEach(function(A,C){return m.set(C,A)}),m.delete(kt.NEED_RESULT_POINT_CALLBACK),r=m}try{var _=p.decodeRow(h,i,r);if(w===1){_.putMetadata(Nr.ORIENTATION,180);var S=_.getResultPoints();S!==null&&(S[0]=new ke(n-S[0].getX()-1,S[0].getY()),S[1]=new ke(n-S[1].getX()-1,S[1].getY()))}return{value:_}}catch{}},p=this,x=0;x<2;x++){var y=v(x);if(typeof y=="object")return y.value}}throw new ce},e.recordPattern=function(t,r,n){for(var a=n.length,i=0;i<a;i++)n[i]=0;var s=t.getSize();if(r>=s)throw new ce;for(var o=!t.get(r),c=0,l=r;l<s;){if(t.get(l)!==o)n[c]++;else{if(++c===a)break;n[c]=1,o=!o}l++}if(!(c===a||c===a-1&&l===s))throw new ce},e.recordPatternInReverse=function(t,r,n){for(var a=n.length,i=t.get(r);r>0&&a>=0;)t.get(--r)!==i&&(a--,i=!i);if(a>=0)throw new ce;e.recordPattern(t,r+1,n)},e.patternMatchVariance=function(t,r,n){for(var a=t.length,i=0,s=0,o=0;o<a;o++)i+=t[o],s+=r[o];if(i<s)return Number.POSITIVE_INFINITY;var c=i/s;n*=c;for(var l=0,u=0;u<a;u++){var f=t[u],d=r[u]*c,h=f>d?f-d:d-f;if(h>n)return Number.POSITIVE_INFINITY;l+=h}return l/i},e}(),wB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tw=function(e){wB(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.findStartPattern=function(r){for(var n=r.getSize(),a=r.getNextSet(0),i=0,s=Int32Array.from([0,0,0,0,0,0]),o=a,c=!1,l=6,u=a;u<n;u++)if(r.get(u)!==c)s[i]++;else{if(i===l-1){for(var f=t.MAX_AVG_VARIANCE,d=-1,h=t.CODE_START_A;h<=t.CODE_START_C;h++){var v=lr.patternMatchVariance(s,t.CODE_PATTERNS[h],t.MAX_INDIVIDUAL_VARIANCE);v<f&&(f=v,d=h)}if(d>=0&&r.isRange(Math.max(0,o-(u-o)/2),o,!1))return Int32Array.from([o,u,d]);o+=s[0]+s[1],s=s.slice(2,s.length),s[i-1]=0,s[i]=0,i--}else i++;s[i]=1,c=!c}throw new ce},t.decodeCode=function(r,n,a){lr.recordPattern(r,a,n);for(var i=t.MAX_AVG_VARIANCE,s=-1,o=0;o<t.CODE_PATTERNS.length;o++){var c=t.CODE_PATTERNS[o],l=this.patternMatchVariance(n,c,t.MAX_INDIVIDUAL_VARIANCE);l<i&&(i=l,s=o)}if(s>=0)return s;throw new ce},t.prototype.decodeRow=function(r,n,a){var i=a&&a.get(kt.ASSUME_GS1)===!0,s=t.findStartPattern(n),o=s[2],c=0,l=new Uint8Array(20);l[c++]=o;var u;switch(o){case t.CODE_START_A:u=t.CODE_CODE_A;break;case t.CODE_START_B:u=t.CODE_CODE_B;break;case t.CODE_START_C:u=t.CODE_CODE_C;break;default:throw new ye}for(var f=!1,d=!1,h="",v=s[0],p=s[1],x=Int32Array.from([0,0,0,0,0,0]),y=0,w=0,m=o,_=0,S=!0,A=!1,C=!1;!f;){var b=d;switch(d=!1,y=w,w=t.decodeCode(n,x,p),l[c++]=w,w!==t.CODE_STOP&&(S=!0),w!==t.CODE_STOP&&(_++,m+=_*w),v=p,p+=x.reduce(function(se,Y){return se+Y},0),w){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new ye}switch(u){case t.CODE_CODE_A:if(w<64)C===A?h+=String.fromCharCode(32+w):h+=String.fromCharCode(32+w+128),C=!1;else if(w<96)C===A?h+=String.fromCharCode(w-64):h+=String.fromCharCode(w+64),C=!1;else switch(w!==t.CODE_STOP&&(S=!1),w){case t.CODE_FNC_1:i&&(h.length===0?h+="]C1":h+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!A&&C?(A=!0,C=!1):A&&C?(A=!1,C=!1):C=!0;break;case t.CODE_SHIFT:d=!0,u=t.CODE_CODE_B;break;case t.CODE_CODE_B:u=t.CODE_CODE_B;break;case t.CODE_CODE_C:u=t.CODE_CODE_C;break;case t.CODE_STOP:f=!0;break}break;case t.CODE_CODE_B:if(w<96)C===A?h+=String.fromCharCode(32+w):h+=String.fromCharCode(32+w+128),C=!1;else switch(w!==t.CODE_STOP&&(S=!1),w){case t.CODE_FNC_1:i&&(h.length===0?h+="]C1":h+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!A&&C?(A=!0,C=!1):A&&C?(A=!1,C=!1):C=!0;break;case t.CODE_SHIFT:d=!0,u=t.CODE_CODE_A;break;case t.CODE_CODE_A:u=t.CODE_CODE_A;break;case t.CODE_CODE_C:u=t.CODE_CODE_C;break;case t.CODE_STOP:f=!0;break}break;case t.CODE_CODE_C:if(w<100)w<10&&(h+="0"),h+=w;else switch(w!==t.CODE_STOP&&(S=!1),w){case t.CODE_FNC_1:i&&(h.length===0?h+="]C1":h+="");break;case t.CODE_CODE_A:u=t.CODE_CODE_A;break;case t.CODE_CODE_B:u=t.CODE_CODE_B;break;case t.CODE_STOP:f=!0;break}break}b&&(u=u===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var T=p-v;if(p=n.getNextUnset(p),!n.isRange(p,Math.min(n.getSize(),p+(p-v)/2),!1))throw new ce;if(m-=_*y,m%103!==y)throw new yr;var O=h.length;if(O===0)throw new ce;O>0&&S&&(u===t.CODE_CODE_C?h=h.substring(0,O-2):h=h.substring(0,O-1));for(var U=(s[1]+s[0])/2,R=v+T/2,H=l.length,K=new Uint8Array(H),Q=0;Q<H;Q++)K[Q]=l[Q];var J=[new ke(U,r),new ke(R,r)];return new Zr(h,K,0,J,Ie.CODE_128,new Date().getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(lr),_B=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tp=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kw=function(e){_B(t,e);function t(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=e.call(this)||this;return a.usingCheckDigit=r,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return t.prototype.decodeRow=function(r,n,a){var i,s,o,c,l=this.counters;l.fill(0),this.decodeRowResult="";var u=t.findAsteriskPattern(n,l),f=n.getNextSet(u[1]),d=n.getSize(),h,v;do{t.recordPattern(n,f,l);var p=t.toNarrowWidePattern(l);if(p<0)throw new ce;h=t.patternToChar(p),this.decodeRowResult+=h,v=f;try{for(var x=(i=void 0,tp(l)),y=x.next();!y.done;y=x.next()){var w=y.value;f+=w}}catch(H){i={error:H}}finally{try{y&&!y.done&&(s=x.return)&&s.call(x)}finally{if(i)throw i.error}}f=n.getNextSet(f)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var m=0;try{for(var _=tp(l),S=_.next();!S.done;S=_.next()){var w=S.value;m+=w}}catch(H){o={error:H}}finally{try{S&&!S.done&&(c=_.return)&&c.call(_)}finally{if(o)throw o.error}}var A=f-v-m;if(f!==d&&A*2<m)throw new ce;if(this.usingCheckDigit){for(var C=this.decodeRowResult.length-1,b=0,T=0;T<C;T++)b+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(T));if(this.decodeRowResult.charAt(C)!==t.ALPHABET_STRING.charAt(b%43))throw new yr;this.decodeRowResult=this.decodeRowResult.substring(0,C)}if(this.decodeRowResult.length===0)throw new ce;var O;this.extendedMode?O=t.decodeExtended(this.decodeRowResult):O=this.decodeRowResult;var U=(u[1]+u[0])/2,R=v+m/2;return new Zr(O,null,0,[new ke(U,r),new ke(R,r)],Ie.CODE_39,new Date().getTime())},t.findAsteriskPattern=function(r,n){for(var a=r.getSize(),i=r.getNextSet(0),s=0,o=i,c=!1,l=n.length,u=i;u<a;u++)if(r.get(u)!==c)n[s]++;else{if(s===l-1){if(this.toNarrowWidePattern(n)===t.ASTERISK_ENCODING&&r.isRange(Math.max(0,o-Math.floor((u-o)/2)),o,!1))return[o,u];o+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,c=!c}throw new ce},t.toNarrowWidePattern=function(r){var n,a,i=r.length,s=0,o;do{var c=2147483647;try{for(var l=(n=void 0,tp(r)),u=l.next();!u.done;u=l.next()){var f=u.value;f<c&&f>s&&(c=f)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}s=c,o=0;for(var d=0,h=0,v=0;v<i;v++){var f=r[v];f>s&&(h|=1<<i-1-v,o++,d+=f)}if(o===3){for(var v=0;v<i&&o>0;v++){var f=r[v];if(f>s&&(o--,f*2>=d))return-1}return h}}while(o>3);return-1},t.patternToChar=function(r){for(var n=0;n<t.CHARACTER_ENCODINGS.length;n++)if(t.CHARACTER_ENCODINGS[n]===r)return t.ALPHABET_STRING.charAt(n);if(r===t.ASTERISK_ENCODING)return"*";throw new ce},t.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var s=r.charAt(i);if(s==="+"||s==="$"||s==="%"||s==="/"){var o=r.charAt(i+1),c="\0";switch(s){case"+":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new ye;break;case"$":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new ye;break;case"%":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o==="X"||o==="Y"||o==="Z")c="";else throw new ye;break;case"/":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new ye;break}a+=c,i++}else a+=s}return a},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(lr),EB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rp=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Iw=function(e){EB(t,e);function t(){var r=e.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return t.prototype.decodeRow=function(r,n,a){var i,s,o,c,l=this.findAsteriskPattern(n),u=n.getNextSet(l[1]),f=n.getSize(),d=this.counters;d.fill(0),this.decodeRowResult="";var h,v;do{t.recordPattern(n,u,d);var p=this.toPattern(d);if(p<0)throw new ce;h=this.patternToChar(p),this.decodeRowResult+=h,v=u;try{for(var x=(i=void 0,rp(d)),y=x.next();!y.done;y=x.next()){var w=y.value;u+=w}}catch(T){i={error:T}}finally{try{y&&!y.done&&(s=x.return)&&s.call(x)}finally{if(i)throw i.error}}u=n.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var m=0;try{for(var _=rp(d),S=_.next();!S.done;S=_.next()){var w=S.value;m+=w}}catch(T){o={error:T}}finally{try{S&&!S.done&&(c=_.return)&&c.call(_)}finally{if(o)throw o.error}}if(u===f||!n.get(u))throw new ce;if(this.decodeRowResult.length<2)throw new ce;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var A=this.decodeExtended(this.decodeRowResult),C=(l[1]+l[0])/2,b=v+m/2;return new Zr(A,null,0,[new ke(C,r),new ke(b,r)],Ie.CODE_93,new Date().getTime())},t.prototype.findAsteriskPattern=function(r){var n=r.getSize(),a=r.getNextSet(0);this.counters.fill(0);for(var i=this.counters,s=a,o=!1,c=i.length,l=0,u=a;u<n;u++)if(r.get(u)!==o)i[l]++;else{if(l===c-1){if(this.toPattern(i)===t.ASTERISK_ENCODING)return new Int32Array([s,u]);s+=i[0]+i[1],i.copyWithin(0,2,2+l-1),i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,o=!o}throw new ce},t.prototype.toPattern=function(r){var n,a,i=0;try{for(var s=rp(r),o=s.next();!o.done;o=s.next()){var c=o.value;i+=c}}catch(v){n={error:v}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}for(var l=0,u=r.length,f=0;f<u;f++){var d=Math.round(r[f]*9/i);if(d<1||d>4)return-1;if(f&1)l<<=d;else for(var h=0;h<d;h++)l=l<<1|1}return l},t.prototype.patternToChar=function(r){for(var n=0;n<t.CHARACTER_ENCODINGS.length;n++)if(t.CHARACTER_ENCODINGS[n]===r)return t.ALPHABET_STRING.charAt(n);throw new ce},t.prototype.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var s=r.charAt(i);if(s>="a"&&s<="d"){if(i>=n-1)throw new ye;var o=r.charAt(i+1),c="\0";switch(s){case"d":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new ye;break;case"a":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new ye;break;case"b":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o>="X"&&o<="Z")c="";else throw new ye;break;case"c":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new ye;break}a+=c,i++}else a+=s}return a},t.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},t.prototype.checkOneChecksum=function(r,n,a){for(var i=1,s=0,o=n-1;o>=0;o--)s+=i*t.ALPHABET_STRING.indexOf(r.charAt(o)),++i>a&&(i=1);if(r.charAt(n)!==t.ALPHABET_STRING[s%47])throw new yr},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",t.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],t.ASTERISK_ENCODING=t.CHARACTER_ENCODINGS[47],t}(lr),CB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SB=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Nw=function(e){CB(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return t.prototype.decodeRow=function(r,n,a){var i,s,o=this.decodeStart(n),c=this.decodeEnd(n),l=new We;t.decodeMiddle(n,o[1],c[0],l);var u=l.toString(),f=null;a!=null&&(f=a.get(kt.ALLOWED_LENGTHS)),f==null&&(f=t.DEFAULT_ALLOWED_LENGTHS);var d=u.length,h=!1,v=0;try{for(var p=SB(f),x=p.next();!x.done;x=p.next()){var y=x.value;if(d===y){h=!0;break}y>v&&(v=y)}}catch(_){i={error:_}}finally{try{x&&!x.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}if(!h&&d>v&&(h=!0),!h)throw new ye;var w=[new ke(o[1],r),new ke(c[0],r)],m=new Zr(u,null,0,w,Ie.ITF,new Date().getTime());return m},t.decodeMiddle=function(r,n,a,i){var s=new Int32Array(10),o=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),o.fill(0),c.fill(0);n<a;){lr.recordPattern(r,n,s);for(var l=0;l<5;l++){var u=2*l;o[l]=s[u],c[l]=s[u+1]}var f=t.decodeDigit(o);i.append(f.toString()),f=this.decodeDigit(c),i.append(f.toString()),s.forEach(function(d){n+=d})}},t.prototype.decodeStart=function(r){var n=t.skipWhiteSpace(r),a=t.findGuardPattern(r,n,t.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a},t.prototype.validateQuietZone=function(r,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var i=n-1;a>0&&i>=0&&!r.get(i);i--)a--;if(a!==0)throw new ce},t.skipWhiteSpace=function(r){var n=r.getSize(),a=r.getNextSet(0);if(a===n)throw new ce;return a},t.prototype.decodeEnd=function(r){r.reverse();try{var n=t.skipWhiteSpace(r),a=void 0;try{a=t.findGuardPattern(r,n,t.END_PATTERN_REVERSED[0])}catch(s){s instanceof ce&&(a=t.findGuardPattern(r,n,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);var i=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-i,a}finally{r.reverse()}},t.findGuardPattern=function(r,n,a){var i=a.length,s=new Int32Array(i),o=r.getSize(),c=!1,l=0,u=n;s.fill(0);for(var f=n;f<o;f++)if(r.get(f)!==c)s[l]++;else{if(l===i-1){if(lr.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[u,f];u+=s[0]+s[1],yt.arraycopy(s,2,s,0,l-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,c=!c}throw new ce},t.decodeDigit=function(r){for(var n=t.MAX_AVG_VARIANCE,a=-1,i=t.PATTERNS.length,s=0;s<i;s++){var o=t.PATTERNS[s],c=lr.patternMatchVariance(r,o,t.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,a=s):c===n&&(a=-1)}if(a>=0)return a%10;throw new ce},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t}(lr),AB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rl=function(e){AB(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return t.findStartGuardPattern=function(r){for(var n=!1,a,i=0,s=Int32Array.from([0,0,0]);!n;){s=Int32Array.from([0,0,0]),a=t.findGuardPattern(r,i,!1,this.START_END_PATTERN,s);var o=a[0];i=a[1];var c=o-(i-o);c>=0&&(n=r.isRange(c,o,!1))}return a},t.checkChecksum=function(r){return t.checkStandardUPCEANChecksum(r)},t.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return t.getStandardUPCEANChecksum(r.substring(0,n-1))===a},t.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new ye;a+=s}a*=3;for(var i=n-2;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new ye;a+=s}return(1e3-a)%10},t.decodeEnd=function(r,n){return t.findGuardPattern(r,n,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(r,n,a,i){return this.findGuardPattern(r,n,a,i,new Int32Array(i.length))},t.findGuardPattern=function(r,n,a,i,s){var o=r.getSize();n=a?r.getNextUnset(n):r.getNextSet(n);for(var c=0,l=n,u=i.length,f=a,d=n;d<o;d++)if(r.get(d)!==f)s[c]++;else{if(c===u-1){if(lr.patternMatchVariance(s,i,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([l,d]);l+=s[0]+s[1];for(var h=s.slice(2,s.length),v=0;v<c-1;v++)s[v]=h[v];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,f=!f}throw new ce},t.decodeDigit=function(r,n,a,i){this.recordPattern(r,a,n);for(var s=this.MAX_AVG_VARIANCE,o=-1,c=i.length,l=0;l<c;l++){var u=i[l],f=lr.patternMatchVariance(n,u,t.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,o=l)}if(o>=0)return o;throw new ce},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t}(lr),bB=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},TB=function(){function e(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),s=a.toString(),o=e.parseExtensionString(s),c=[new ke((n[0]+n[1])/2,t),new ke(i,t)],l=new Zr(s,null,0,c,Ie.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&l.putAllMetadata(o),l},e.prototype.decodeMiddle=function(t,r,n){var a,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=t.getSize(),c=r[1],l=0,u=0;u<5&&c<o;u++){var f=rl.decodeDigit(t,s,c,rl.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var d=(a=void 0,bB(s)),h=d.next();!h.done;h=d.next()){var v=h.value;c+=v}}catch(x){a={error:x}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}f>=10&&(l|=1<<4-u),u!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(n.length!==5)throw new ce;var p=this.determineCheckDigit(l);if(e.extensionChecksum(n.toString())!==p)throw new ce;return c},e.extensionChecksum=function(t){for(var r=t.length,n=0,a=r-2;a>=0;a-=2)n+=t.charAt(a).charCodeAt(0)-48;n*=3;for(var a=r-1;a>=0;a-=2)n+=t.charAt(a).charCodeAt(0)-48;return n*=3,n%10},e.prototype.determineCheckDigit=function(t){for(var r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new ce},e.parseExtensionString=function(t){if(t.length!==5)return null;var r=e.parseExtension5String(t);return r==null?null:new Map([[Nr.SUGGESTED_PRICE,r]])},e.parseExtension5String=function(t){var r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(t.substring(1)),a=(n/100).toString(),i=n%100,s=i<10?"0"+i:i.toString();return r+a+"."+s},e}(),kB=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},IB=function(){function e(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),s=a.toString(),o=e.parseExtensionString(s),c=[new ke((n[0]+n[1])/2,t),new ke(i,t)],l=new Zr(s,null,0,c,Ie.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&l.putAllMetadata(o),l},e.prototype.decodeMiddle=function(t,r,n){var a,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=t.getSize(),c=r[1],l=0,u=0;u<2&&c<o;u++){var f=rl.decodeDigit(t,s,c,rl.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var d=(a=void 0,kB(s)),h=d.next();!h.done;h=d.next()){var v=h.value;c+=v}}catch(p){a={error:p}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}f>=10&&(l|=1<<1-u),u!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(n.length!==2)throw new ce;if(parseInt(n.toString())%4!==l)throw new ce;return c},e.parseExtensionString=function(t){return t.length!==2?null:new Map([[Nr.ISSUE_NUMBER,parseInt(t)]])},e}(),NB=function(){function e(){}return e.decodeRow=function(t,r,n){var a=rl.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new TB;return i.decodeRow(t,r,a)}catch{var s=new IB;return s.decodeRow(t,r,a)}},e.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),e}(),OB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ar=function(e){OB(t,e);function t(){var r=e.call(this)||this;r.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var n=10;n<20;n++){for(var a=t.L_PATTERNS[n-10],i=new Int32Array(a.length),s=0;s<a.length;s++)i[s]=a[a.length-s-1];t.L_AND_G_PATTERNS[n]=i}return r}return t.prototype.decodeRow=function(r,n,a){var i=t.findStartGuardPattern(n),s=a==null?null:a.get(kt.NEED_RESULT_POINT_CALLBACK);if(s!=null){var o=new ke((i[0]+i[1])/2,r);s.foundPossibleResultPoint(o)}var c=this.decodeMiddle(n,i,this.decodeRowStringBuffer),l=c.rowOffset,u=c.resultString;if(s!=null){var f=new ke(l,r);s.foundPossibleResultPoint(f)}var d=t.decodeEnd(n,l);if(s!=null){var h=new ke((d[0]+d[1])/2,r);s.foundPossibleResultPoint(h)}var v=d[1],p=v+(v-d[0]);if(p>=n.getSize()||!n.isRange(v,p,!1))throw new ce;var x=u.toString();if(x.length<8)throw new ye;if(!t.checkChecksum(x))throw new yr;var y=(i[1]+i[0])/2,w=(d[1]+d[0])/2,m=this.getBarcodeFormat(),_=[new ke(y,r),new ke(w,r)],S=new Zr(x,null,0,_,m,new Date().getTime()),A=0;try{var C=NB.decodeRow(r,n,d[1]);S.putMetadata(Nr.UPC_EAN_EXTENSION,C.getText()),S.putAllMetadata(C.getResultMetadata()),S.addResultPoints(C.getResultPoints()),A=C.getText().length}catch{}var b=a==null?null:a.get(kt.ALLOWED_EAN_EXTENSIONS);if(b!=null){var T=!1;for(var O in b)if(A.toString()===O){T=!0;break}if(!T)throw new ce}return m===Ie.EAN_13||Ie.UPC_A,S},t.checkChecksum=function(r){return t.checkStandardUPCEANChecksum(r)},t.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return t.getStandardUPCEANChecksum(r.substring(0,n-1))===a},t.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new ye;a+=s}a*=3;for(var i=n-2;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new ye;a+=s}return(1e3-a)%10},t.decodeEnd=function(r,n){return t.findGuardPattern(r,n,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t}(rl),RB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ow=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sg=function(e){RB(t,e);function t(){var r=e.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return t.prototype.decodeMiddle=function(r,n,a){var i,s,o,c,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=r.getSize(),f=n[1],d=0,h=0;h<6&&f<u;h++){var v=ar.decodeDigit(r,l,f,ar.L_AND_G_PATTERNS);a+=String.fromCharCode(48+v%10);try{for(var p=(i=void 0,Ow(l)),x=p.next();!x.done;x=p.next()){var y=x.value;f+=y}}catch(S){i={error:S}}finally{try{x&&!x.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}v>=10&&(d|=1<<5-h)}a=t.determineFirstDigit(a,d);var w=ar.findGuardPattern(r,f,!0,ar.MIDDLE_PATTERN,new Int32Array(ar.MIDDLE_PATTERN.length).fill(0));f=w[1];for(var h=0;h<6&&f<u;h++){var v=ar.decodeDigit(r,l,f,ar.L_PATTERNS);a+=String.fromCharCode(48+v);try{for(var m=(o=void 0,Ow(l)),_=m.next();!_.done;_=m.next()){var y=_.value;f+=y}}catch(C){o={error:C}}finally{try{_&&!_.done&&(c=m.return)&&c.call(m)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:a}},t.prototype.getBarcodeFormat=function(){return Ie.EAN_13},t.determineFirstDigit=function(r,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode(48+a)+r,r;throw new ce},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(ar),PB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Pw=function(e){PB(t,e);function t(){var r=e.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return t.prototype.decodeMiddle=function(r,n,a){var i,s,o,c,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=r.getSize(),f=n[1],d=0;d<4&&f<u;d++){var h=ar.decodeDigit(r,l,f,ar.L_PATTERNS);a+=String.fromCharCode(48+h);try{for(var v=(i=void 0,Rw(l)),p=v.next();!p.done;p=v.next()){var x=p.value;f+=x}}catch(_){i={error:_}}finally{try{p&&!p.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}}var y=ar.findGuardPattern(r,f,!0,ar.MIDDLE_PATTERN,new Int32Array(ar.MIDDLE_PATTERN.length).fill(0));f=y[1];for(var d=0;d<4&&f<u;d++){var h=ar.decodeDigit(r,l,f,ar.L_PATTERNS);a+=String.fromCharCode(48+h);try{for(var w=(o=void 0,Rw(l)),m=w.next();!m.done;m=w.next()){var x=m.value;f+=x}}catch(A){o={error:A}}finally{try{m&&!m.done&&(c=w.return)&&c.call(w)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:a}},t.prototype.getBarcodeFormat=function(){return Ie.EAN_8},t}(ar),DB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dw=function(e){DB(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.ean13Reader=new sg,r}return t.prototype.getBarcodeFormat=function(){return Ie.UPC_A},t.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},t.prototype.decodeRow=function(r,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,a))},t.prototype.decodeMiddle=function(r,n,a){return this.ean13Reader.decodeMiddle(r,n,a)},t.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var a=new Zr(n.substring(1),null,null,r.getResultPoints(),Ie.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new ce},t.prototype.reset=function(){this.ean13Reader.reset()},t}(ar),FB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MB=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fw=function(e){FB(t,e);function t(){var r=e.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return t.prototype.decodeMiddle=function(r,n,a){var i,s,o=this.decodeMiddleCounters.map(function(x){return x});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var c=r.getSize(),l=n[1],u=0,f=0;f<6&&l<c;f++){var d=t.decodeDigit(r,o,l,t.L_AND_G_PATTERNS);a+=String.fromCharCode(48+d%10);try{for(var h=(i=void 0,MB(o)),v=h.next();!v.done;v=h.next()){var p=v.value;l+=p}}catch(x){i={error:x}}finally{try{v&&!v.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}d>=10&&(u|=1<<5-f)}return t.determineNumSysAndCheckDigit(new We(a),u),l},t.prototype.decodeEnd=function(r,n){return t.findGuardPatternWithoutCounters(r,n,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(r){return ar.checkChecksum(t.convertUPCEtoUPCA(r))},t.determineNumSysAndCheckDigit=function(r,n){for(var a=0;a<=1;a++)for(var i=0;i<10;i++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][i]){r.insert(0,"0"+a),r.append("0"+i);return}throw ce.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return Ie.UPC_E},t.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),a=new We;a.append(r.charAt(0));var i=n[5];switch(i){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(i),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(i);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t}(ar),LB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},np=function(e){LB(t,e);function t(r){var n=e.call(this)||this,a=r==null?null:r.get(kt.POSSIBLE_FORMATS),i=[];return a!=null&&(a.indexOf(Ie.EAN_13)>-1&&i.push(new sg),a.indexOf(Ie.UPC_A)>-1&&i.push(new Dw),a.indexOf(Ie.EAN_8)>-1&&i.push(new Pw),a.indexOf(Ie.UPC_E)>-1&&i.push(new Fw)),i.length===0&&(i.push(new sg),i.push(new Dw),i.push(new Pw),i.push(new Fw)),n.readers=i,n}return t.prototype.decodeRow=function(r,n,a){var i,s;try{for(var o=Mw(this.readers),c=o.next();!c.done;c=o.next()){var l=c.value;try{var u=l.decodeRow(r,n,a),f=u.getBarcodeFormat()===Ie.EAN_13&&u.getText().charAt(0)==="0",d=a==null?null:a.get(kt.POSSIBLE_FORMATS),h=d==null||d.includes(Ie.UPC_A);if(f&&h){var v=u.getRawBytes(),p=new Zr(u.getText().substring(1),v,v?v.length:null,u.getResultPoints(),Ie.UPC_A);return p.putAllMetadata(u.getResultMetadata()),p}return u}catch{}}}catch(x){i={error:x}}finally{try{c&&!c.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}throw new ce},t.prototype.reset=function(){var r,n;try{for(var a=Mw(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;s.reset()}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t}(lr),BB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jB=function(e){BB(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return t.prototype.decodeRow=function(r,n,a){var i=this.getValidRowData(n);if(!i)throw new ce;var s=this.codaBarDecodeRow(i.row);if(!s)throw new ce;return new Zr(s,null,0,[new ke(i.left,r),new ke(i.right,r)],Ie.CODABAR,new Date().getTime())},t.prototype.getValidRowData=function(r){var n=r.toArray(),a=n.indexOf(!0);if(a===-1)return null;var i=n.lastIndexOf(!0);if(i<=a)return null;n=n.slice(a,i+1);for(var s=[],o=n[0],c=1,l=1;l<n.length;l++)n[l]===o?c++:(o=n[l],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:a,right:i}},t.prototype.codaBarDecodeRow=function(r){for(var n=[],a=Math.ceil(r.reduce(function(c,l){return(c+l)/2},0));r.length>0;){var i=r.splice(0,8).splice(0,7),s=i.map(function(c){return c<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[s])}var o=n.join("");return this.validCodaBarString(o)?o:null},t.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},t}(lr),UB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$B=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qs=function(e){UB(t,e);function t(){var r=e.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(r,n){for(var a=0;a<n.length;a++)if(lr.patternMatchVariance(r,n[a],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return a;throw new ce},t.count=function(r){return at.sum(new Int32Array(r))},t.increment=function(r,n){for(var a=0,i=n[0],s=1;s<r.length;s++)n[s]>i&&(i=n[s],a=s);r[a]++},t.decrement=function(r,n){for(var a=0,i=n[0],s=1;s<r.length;s++)n[s]<i&&(i=n[s],a=s);r[a]--},t.isFinderPattern=function(r){var n,a,i=r[0]+r[1],s=i+r[2]+r[3],o=i/s;if(o>=t.MIN_FINDER_PATTERN_RATIO&&o<=t.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;try{for(var u=$B(r),f=u.next();!f.done;f=u.next()){var d=f.value;d>l&&(l=d),d<c&&(c=d)}}catch(h){n={error:h}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}return l<10*c}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(lr),Dd=function(){function e(t,r){this.value=t,this.checksumPortion=r}return e.prototype.getValue=function(){return this.value},e.prototype.getChecksumPortion=function(){return this.checksumPortion},e.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion},e.prototype.hashCode=function(){return this.value^this.checksumPortion},e}(),Jb=function(){function e(t,r,n,a,i){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ke(n,i)),this.resultPoints.push(new ke(a,i))}return e.prototype.getValue=function(){return this.value},e.prototype.getStartEnd=function(){return this.startEnd},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.prototype.hashCode=function(){return this.value},e}(),HB=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mc=function(){function e(){}return e.getRSSvalue=function(t,r,n){var a,i,s=0;try{for(var o=HB(t),c=o.next();!c.done;c=o.next()){var l=c.value;s+=l}}catch(w){a={error:w}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}for(var u=0,f=0,d=t.length,h=0;h<d-1;h++){var v=void 0;for(v=1,f|=1<<h;v<t[h];v++,f&=~(1<<h)){var p=e.combins(s-v-1,d-h-2);if(n&&f===0&&s-v-(d-h-1)>=d-h-1&&(p-=e.combins(s-v-(d-h),d-h-2)),d-h-1>1){for(var x=0,y=s-v-(d-h-2);y>r;y--)x+=e.combins(s-v-y-1,d-h-3);p-=x*(d-1-h)}else s-v>r&&p--;u+=p}s-=v}return u},e.combins=function(t,r){var n,a;t-r>r?(a=r,n=t-r):(a=t-r,n=r);for(var i=1,s=1,o=t;o>n;o--)i*=o,s<=a&&(i/=s,s++);for(;s<=a;)i/=s,s++;return i},e}(),VB=function(){function e(){}return e.buildBitArray=function(t){var r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,a=new wr(n),i=0,s=t[0],o=s.getRightChar().getValue(),c=11;c>=0;--c)o&1<<c&&a.set(i),i++;for(var c=1;c<t.length;++c){for(var l=t[c],u=l.getLeftChar().getValue(),f=11;f>=0;--f)u&1<<f&&a.set(i),i++;if(l.getRightChar()!==null)for(var d=l.getRightChar().getValue(),f=11;f>=0;--f)d&1<<f&&a.set(i),i++}return a},e}(),zs=function(){function e(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}return e.prototype.getDecodedInformation=function(){return this.decodedInformation},e.prototype.isFinished=function(){return this.finished},e}(),gm=function(){function e(t){this.newPosition=t}return e.prototype.getNewPosition=function(){return this.newPosition},e}(),zB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ua=function(e){zB(t,e);function t(r,n){var a=e.call(this,r)||this;return a.value=n,a}return t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(gm),WB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ws=function(e){WB(t,e);function t(r,n,a){var i=e.call(this,r)||this;return a?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=n,i}return t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(gm),GB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ec=function(e){GB(t,e);function t(r,n,a){var i=e.call(this,r)||this;if(n<0||n>10||a<0||a>10)throw new ye;return i.firstDigit=n,i.secondDigit=a,i}return t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(gm),w0=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},XB=function(){function e(){}return e.parseFieldsInGeneralPurpose=function(t){var r,n,a,i,s,o,c,l;if(!t)return null;if(t.length<2)throw new ce;var u=t.substring(0,2);try{for(var f=w0(e.TWO_DIGIT_DATA_LENGTH),d=f.next();!d.done;d=f.next()){var h=d.value;if(h[0]===u)return h[1]===e.VARIABLE_LENGTH?e.processVariableAI(2,h[2],t):e.processFixedAI(2,h[1],t)}}catch(A){r={error:A}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(t.length<3)throw new ce;var v=t.substring(0,3);try{for(var p=w0(e.THREE_DIGIT_DATA_LENGTH),x=p.next();!x.done;x=p.next()){var h=x.value;if(h[0]===v)return h[1]===e.VARIABLE_LENGTH?e.processVariableAI(3,h[2],t):e.processFixedAI(3,h[1],t)}}catch(A){a={error:A}}finally{try{x&&!x.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}try{for(var y=w0(e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),w=y.next();!w.done;w=y.next()){var h=w.value;if(h[0]===v)return h[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,h[2],t):e.processFixedAI(4,h[1],t)}}catch(A){s={error:A}}finally{try{w&&!w.done&&(o=y.return)&&o.call(y)}finally{if(s)throw s.error}}if(t.length<4)throw new ce;var m=t.substring(0,4);try{for(var _=w0(e.FOUR_DIGIT_DATA_LENGTH),S=_.next();!S.done;S=_.next()){var h=S.value;if(h[0]===m)return h[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,h[2],t):e.processFixedAI(4,h[1],t)}}catch(A){c={error:A}}finally{try{S&&!S.done&&(l=_.return)&&l.call(_)}finally{if(c)throw c.error}}throw new ce},e.processFixedAI=function(t,r,n){if(n.length<t)throw new ce;var a=n.substring(0,t);if(n.length<t+r)throw new ce;var i=n.substring(t,t+r),s=n.substring(t+r),o="("+a+")"+i,c=e.parseFieldsInGeneralPurpose(s);return c==null?o:o+c},e.processVariableAI=function(t,r,n){var a=n.substring(0,t),i;n.length<t+r?i=n.length:i=t+r;var s=n.substring(t,i),o=n.substring(i),c="("+a+")"+s,l=e.parseFieldsInGeneralPurpose(o);return l==null?c:c+l},e.VARIABLE_LENGTH=[],e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",e.VARIABLE_LENGTH,20],["22",e.VARIABLE_LENGTH,29],["30",e.VARIABLE_LENGTH,8],["37",e.VARIABLE_LENGTH,8],["90",e.VARIABLE_LENGTH,30],["91",e.VARIABLE_LENGTH,30],["92",e.VARIABLE_LENGTH,30],["93",e.VARIABLE_LENGTH,30],["94",e.VARIABLE_LENGTH,30],["95",e.VARIABLE_LENGTH,30],["96",e.VARIABLE_LENGTH,30],["97",e.VARIABLE_LENGTH,3],["98",e.VARIABLE_LENGTH,30],["99",e.VARIABLE_LENGTH,30]],e.THREE_DIGIT_DATA_LENGTH=[["240",e.VARIABLE_LENGTH,30],["241",e.VARIABLE_LENGTH,30],["242",e.VARIABLE_LENGTH,6],["250",e.VARIABLE_LENGTH,30],["251",e.VARIABLE_LENGTH,30],["253",e.VARIABLE_LENGTH,17],["254",e.VARIABLE_LENGTH,20],["400",e.VARIABLE_LENGTH,30],["401",e.VARIABLE_LENGTH,30],["402",17],["403",e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",e.VARIABLE_LENGTH,20],["421",e.VARIABLE_LENGTH,15],["422",3],["423",e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",e.VARIABLE_LENGTH,15],["391",e.VARIABLE_LENGTH,18],["392",e.VARIABLE_LENGTH,15],["393",e.VARIABLE_LENGTH,18],["703",e.VARIABLE_LENGTH,30]],e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",e.VARIABLE_LENGTH,20],["8003",e.VARIABLE_LENGTH,30],["8004",e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",e.VARIABLE_LENGTH,30],["8008",e.VARIABLE_LENGTH,12],["8018",18],["8020",e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",e.VARIABLE_LENGTH,70],["8200",e.VARIABLE_LENGTH,70]],e}(),Z0=function(){function e(t){this.buffer=new We,this.information=t}return e.prototype.decodeAllCodes=function(t,r){var n=r,a=null;do{var i=this.decodeGeneralPurposeField(n,a),s=XB.parseFieldsInGeneralPurpose(i.getNewString());if(s!=null&&t.append(s),i.isRemaining()?a=""+i.getRemainingValue():a=null,n===i.getNewPosition())break;n=i.getNewPosition()}while(!0);return t.toString()},e.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)},e.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(t,4);return r===0?new ec(this.information.getSize(),ec.FNC1,ec.FNC1):new ec(this.information.getSize(),r-1,ec.FNC1)}var n=this.extractNumericValueFromBitArray(t,7),a=(n-8)/11,i=(n-8)%11;return new ec(t+7,a,i)},e.prototype.extractNumericValueFromBitArray=function(t,r){return e.extractNumericValueFromBitArray(this.information,t,r)},e.extractNumericValueFromBitArray=function(t,r,n){for(var a=0,i=0;i<n;++i)t.get(r+i)&&(a|=1<<n-i-1);return a},e.prototype.decodeGeneralPurposeField=function(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Ws(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Ws(this.current.getPosition(),this.buffer.toString())},e.prototype.parseBlocks=function(){var t,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished());var a=n!==this.current.getPosition();if(!a&&!t)break}while(!t);return r.getDecodedInformation()},e.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var r=void 0;return t.isSecondDigitFNC1()?r=new Ws(this.current.getPosition(),this.buffer.toString()):r=new Ws(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new zs(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){var r=new Ws(this.current.getPosition(),this.buffer.toString());return new zs(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new zs(!1)},e.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var r=new Ws(this.current.getPosition(),this.buffer.toString());return new zs(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new zs(!1)},e.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var r=new Ws(this.current.getPosition(),this.buffer.toString());return new zs(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new zs(!1)},e.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<116)return!0;if(t+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(t,8);return a>=232&&a<253},e.prototype.decodeIsoIec646=function(t){var r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new ua(t+5,ua.FNC1);if(r>=5&&r<15)return new ua(t+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<90)return new ua(t+7,""+(n+1));if(n>=90&&n<116)return new ua(t+7,""+(n+7));var a=this.extractNumericValueFromBitArray(t,8),i;switch(a){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new ye}return new ua(t+8,i)},e.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,6);return n>=16&&n<63},e.prototype.decodeAlphanumeric=function(t){var r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new ua(t+5,ua.FNC1);if(r>=5&&r<15)return new ua(t+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(t,6);if(n>=32&&n<58)return new ua(t+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Pf("Decoding invalid alphanumeric value: "+n)}return new ua(t+6,a)},e.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0},e.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0},e.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0},e}(),eT=function(){function e(t){this.information=t,this.generalDecoder=new Z0(t)}return e.prototype.getInformation=function(){return this.information},e.prototype.getGeneralDecoder=function(){return this.generalDecoder},e}(),KB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ca=function(e){KB(t,e);function t(r){return e.call(this,r)||this}return t.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,a)},t.prototype.encodeCompressedGtinWithoutAI=function(r,n,a){for(var i=0;i<4;++i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*i,10);s/100===0&&r.append("0"),s/10===0&&r.append("0"),r.append(s)}t.appendCheckDigit(r,a)},t.appendCheckDigit=function(r,n){for(var a=0,i=0;i<13;i++){var s=r.charAt(i+n).charCodeAt(0)-48;a+=i&1?s:3*s}a=10-a%10,a===10&&(a=0),r.append(a)},t.GTIN_SIZE=40,t}(eT),YB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qB=function(e){YB(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){var r=new We;r.append("(01)");var n=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,t.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t}(Ca),ZB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),QB=function(e){ZB(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){var r=new We;return this.getGeneralDecoder().decodeAllCodes(r,t.HEADER_SIZE)},t.HEADER_SIZE=5,t}(eT),JB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q0=function(e){JB(t,e);function t(r){return e.call(this,r)||this}return t.prototype.encodeCompressedWeight=function(r,n,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(r,i);for(var s=this.checkWeight(i),o=1e5,c=0;c<5;++c)s/o===0&&r.append("0"),o/=10;r.append(s)},t}(Ca),ej=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tT=function(e){ej(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+Q0.GTIN_SIZE+t.WEIGHT_SIZE)throw new ce;var r=new We;return this.encodeCompressedGtin(r,t.HEADER_SIZE),this.encodeCompressedWeight(r,t.HEADER_SIZE+Q0.GTIN_SIZE,t.WEIGHT_SIZE),r.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t}(Q0),tj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rj=function(e){tj(t,e);function t(r){return e.call(this,r)||this}return t.prototype.addWeightCode=function(r,n){r.append("(3103)")},t.prototype.checkWeight=function(r){return r},t}(tT),nj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aj=function(e){nj(t,e);function t(r){return e.call(this,r)||this}return t.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},t.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},t}(tT),ij=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sj=function(e){ij(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Ca.GTIN_SIZE)throw new ce;var r=new We;this.encodeCompressedGtin(r,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Ca.GTIN_SIZE,t.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Ca.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t}(Ca),oj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cj=function(e){oj(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Ca.GTIN_SIZE)throw new ce;var r=new We;this.encodeCompressedGtin(r,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Ca.GTIN_SIZE,t.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Ca.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a);var i=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Ca.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return r.append(i.getNewString()),r.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(Ca),lj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vi=function(e){lj(t,e);function t(r,n,a){var i=e.call(this,r)||this;return i.dateCode=a,i.firstAIdigits=n,i}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new ce;var r=new We;return this.encodeCompressedGtin(r,t.HEADER_SIZE),this.encodeCompressedWeight(r,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(r,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),r.toString()},t.prototype.encodeCompressedDate=function(r,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,t.DATE_SIZE);if(a!==38400){r.append("("),r.append(this.dateCode),r.append(")");var i=a%32;a/=32;var s=a%12+1;a/=12;var o=a;o/10===0&&r.append("0"),r.append(o),s/10===0&&r.append("0"),r.append(s),i/10===0&&r.append("0"),r.append(i)}},t.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},t.prototype.checkWeight=function(r){return r%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(Q0);function uj(e){try{if(e.get(1))return new qB(e);if(!e.get(2))return new QB(e);var t=Z0.extractNumericValueFromBitArray(e,1,4);switch(t){case 4:return new rj(e);case 5:return new aj(e)}var r=Z0.extractNumericValueFromBitArray(e,1,5);switch(r){case 12:return new sj(e);case 13:return new cj(e)}var n=Z0.extractNumericValueFromBitArray(e,1,7);switch(n){case 56:return new Vi(e,"310","11");case 57:return new Vi(e,"320","11");case 58:return new Vi(e,"310","13");case 59:return new Vi(e,"320","13");case 60:return new Vi(e,"310","15");case 61:return new Vi(e,"320","15");case 62:return new Vi(e,"310","17");case 63:return new Vi(e,"320","17")}}catch(a){throw console.log(a),new Pf("unknown decoder: "+e)}}var Lw=function(){function e(t,r,n,a){this.leftchar=t,this.rightchar=r,this.finderpattern=n,this.maybeLast=a}return e.prototype.mayBeLast=function(){return this.maybeLast},e.prototype.getLeftChar=function(){return this.leftchar},e.prototype.getRightChar=function(){return this.rightchar},e.prototype.getFinderPattern=function(){return this.finderpattern},e.prototype.mustBeLast=function(){return this.rightchar==null},e.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},e.equals=function(t,r){return t instanceof e?e.equalsOrNull(t.leftchar,r.leftchar)&&e.equalsOrNull(t.rightchar,r.rightchar)&&e.equalsOrNull(t.finderpattern,r.finderpattern):!1},e.equalsOrNull=function(t,r){return t===null?r===null:e.equals(t,r)},e.prototype.hashCode=function(){var t=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return t},e}(),fj=function(){function e(t,r,n){this.pairs=t,this.rowNumber=r,this.wasReversed=n}return e.prototype.getPairs=function(){return this.pairs},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.isReversed=function(){return this.wasReversed},e.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},e.prototype.toString=function(){return"{ "+this.pairs+" }"},e.prototype.equals=function(t,r){return t instanceof e?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1},e.prototype.checkEqualitity=function(t,r){if(!(!t||!r)){var n;return t.forEach(function(a,i){r.forEach(function(s){a.getLeftChar().getValue()===s.getLeftChar().getValue()&&a.getRightChar().getValue()===s.getRightChar().getValue()&&a.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(n=!0)})}),n}},e}(),dj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zi=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hj=function(e){dj(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.pairs=new Array(t.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return t.prototype.decodeRow=function(r,n,a){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(r,n))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(r,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(o){if(o instanceof ce){if(!this.pairs.length)throw new ce;a=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(r,!1),i){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new ce},t.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return r&&(this.rows=this.rows.reverse()),n},t.prototype.checkRows=function(r,n){for(var a,i,s=n;s<this.rows.length;s++){var o=this.rows[s];this.pairs.length=0;try{for(var c=(a=void 0,zi(r)),l=c.next();!l.done;l=c.next()){var u=l.value;this.pairs.push(u.getPairs())}}catch(d){a={error:d}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}if(this.pairs.push(o.getPairs()),!!t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(o);try{return this.checkRows(f,s+1)}catch(d){console.log(d)}}}throw new ce},t.isValidSequence=function(r){var n,a;try{for(var i=zi(t.FINDER_PATTERN_SEQUENCES),s=i.next();!s.done;s=i.next()){var o=s.value;if(!(r.length>o.length)){for(var c=!0,l=0;l<r.length;l++)if(r[l].getFinderPattern().getValue()!==o[l]){c=!1;break}if(c)return!0}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return!1},t.prototype.storeRow=function(r,n){for(var a=0,i=!1,s=!1;a<this.rows.length;){var o=this.rows[a];if(o.getRowNumber()>r){s=o.isEquivalent(this.pairs);break}i=o.isEquivalent(this.pairs),a++}s||i||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new fj(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(r,n){var a,i,s,o,c,l;try{for(var u=zi(n),f=u.next();!f.done;f=u.next()){var d=f.value;if(d.getPairs().length!==r.length){var h=!0;try{for(var v=(s=void 0,zi(d.getPairs())),p=v.next();!p.done;p=v.next()){var x=p.value,y=!1;try{for(var w=(c=void 0,zi(r)),m=w.next();!m.done;m=w.next()){var _=m.value;if(Lw.equals(x,_)){y=!0;break}}}catch(S){c={error:S}}finally{try{m&&!m.done&&(l=w.return)&&l.call(w)}finally{if(c)throw c.error}}y||(h=!1)}}catch(S){s={error:S}}finally{try{p&&!p.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}}}}catch(S){a={error:S}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}},t.isPartialRow=function(r,n){var a,i,s,o,c,l;try{for(var u=zi(n),f=u.next();!f.done;f=u.next()){var d=f.value,h=!0;try{for(var v=(s=void 0,zi(r)),p=v.next();!p.done;p=v.next()){var x=p.value,y=!1;try{for(var w=(c=void 0,zi(d.getPairs())),m=w.next();!m.done;m=w.next()){var _=m.value;if(x.equals(_)){y=!0;break}}}catch(S){c={error:S}}finally{try{m&&!m.done&&(l=w.return)&&l.call(w)}finally{if(c)throw c.error}}if(!y){h=!1;break}}}catch(S){s={error:S}}finally{try{p&&!p.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}if(h)return!0}}catch(S){a={error:S}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(r){var n=VB.buildBitArray(r),a=uj(n),i=a.parseInformation(),s=r[0].getFinderPattern().getResultPoints(),o=r[r.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],o[0],o[1]];return new Zr(i,null,null,c,Ie.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),a=r.getRightChar();if(a===null)return!1;for(var i=a.getChecksumPortion(),s=2,o=1;o<this.pairs.size();++o){var c=this.pairs.get(o);i+=c.getLeftChar().getChecksumPortion(),s++;var l=c.getRightChar();l!=null&&(i+=l.getChecksumPortion(),s++)}i%=211;var u=211*(s-4)+i;return u===n.getValue()},t.getNextSecondBar=function(r,n){var a;return r.get(n)?(a=r.getNextUnset(n),a=r.getNextSet(a)):(a=r.getNextSet(n),a=r.getNextUnset(a)),a},t.prototype.retrieveNextPair=function(r,n,a){var i=n.length%2===0;this.startFromEven&&(i=!i);var s,o=!0,c=-1;do this.findNextPair(r,n,c),s=this.parseFoundFinderPattern(r,a,i),s===null?c=t.getNextSecondBar(r,this.startEnd[0]):o=!1;while(o);var l=this.decodeDataCharacter(r,s,i,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new ce;var u;try{u=this.decodeDataCharacter(r,s,i,!1)}catch(f){u=null,console.log(f)}return new Lw(l,u,s,!0)},t.prototype.isEmptyPair=function(r){return r.length===0},t.prototype.findNextPair=function(r,n,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var s=r.getSize(),o;if(a>=0)o=a;else if(this.isEmptyPair(n))o=0;else{var c=n[n.length-1];o=c.getFinderPattern().getStartEnd()[1]}var l=n.length%2!==0;this.startFromEven&&(l=!l);for(var u=!1;o<s&&(u=!r.get(o),!!u);)o++;for(var f=0,d=o,h=o;h<s;h++)if(r.get(h)!==u)i[f]++;else{if(f===3){if(l&&t.reverseCounters(i),t.isFinderPattern(i)){this.startEnd[0]=d,this.startEnd[1]=h;return}l&&t.reverseCounters(i),d+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,u=!u}throw new ce},t.reverseCounters=function(r){for(var n=r.length,a=0;a<n/2;++a){var i=r[a];r[a]=r[n-a-1],r[n-a-1]=i}},t.prototype.parseFoundFinderPattern=function(r,n,a){var i,s,o;if(a){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,i=this.startEnd[0]-c,s=c,o=this.startEnd[1]}else s=this.startEnd[0],o=r.getNextUnset(this.startEnd[1]+1),i=o-this.startEnd[1];var l=this.getDecodeFinderCounters();yt.arraycopy(l,0,l,1,l.length-1),l[0]=i;var u;try{u=this.parseFinderValue(l,t.FINDER_PATTERNS)}catch{return null}return new Jb(u,[s,o],s,o,n)},t.prototype.decodeDataCharacter=function(r,n,a,i){for(var s=this.getDataCharacterCounters(),o=0;o<s.length;o++)s[o]=0;if(i)t.recordPatternInReverse(r,n.getStartEnd()[0],s);else{t.recordPattern(r,n.getStartEnd()[1],s);for(var c=0,l=s.length-1;c<l;c++,l--){var u=s[c];s[c]=s[l],s[l]=u}}var f=17,d=at.sum(new Int32Array(s))/f,h=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new ce;for(var v=this.getOddCounts(),p=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var w=1*s[c]/d,m=w+.5;if(m<1){if(w<.3)throw new ce;m=1}else if(m>8){if(w>8.7)throw new ce;m=8}var _=c/2;c&1?(p[_]=m,y[_]=w-m):(v[_]=m,x[_]=w-m)}this.adjustOddEvenCounts(f);for(var S=4*n.getValue()+(a?0:2)+(i?0:1)-1,A=0,C=0,c=v.length-1;c>=0;c--){if(t.isNotA1left(n,a,i)){var b=t.WEIGHTS[S][2*c];C+=v[c]*b}A+=v[c]}for(var T=0,c=p.length-1;c>=0;c--)if(t.isNotA1left(n,a,i)){var b=t.WEIGHTS[S][2*c+1];T+=p[c]*b}var O=C+T;if(A&1||A>13||A<4)throw new ce;var U=(13-A)/2,R=t.SYMBOL_WIDEST[U],H=9-R,K=mc.getRSSvalue(v,R,!0),Q=mc.getRSSvalue(p,H,!1),J=t.EVEN_TOTAL_SUBSET[U],se=t.GSUM[U],Y=K*J+Q+se;return new Dd(Y,O)},t.isNotA1left=function(r,n,a){return!(r.getValue()===0&&n&&a)},t.prototype.adjustOddEvenCounts=function(r){var n=at.sum(new Int32Array(this.getOddCounts())),a=at.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1;n>13?s=!0:n<4&&(i=!0);var o=!1,c=!1;a>13?c=!0:a<4&&(o=!0);var l=n+a-r,u=(n&1)===1,f=(a&1)===0;if(l===1)if(u){if(f)throw new ce;s=!0}else{if(!f)throw new ce;c=!0}else if(l===-1)if(u){if(f)throw new ce;i=!0}else{if(!f)throw new ce;o=!0}else if(l===0){if(u){if(!f)throw new ce;n<a?(i=!0,c=!0):(s=!0,o=!0)}else if(f)throw new ce}else throw new ce;if(i){if(s)throw new ce;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(c)throw new ce;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t}(qs),pj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vj=function(e){pj(t,e);function t(r,n,a){var i=e.call(this,r,n)||this;return i.count=0,i.finderPattern=a,i}return t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}(Dd),gj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ap=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bw=function(e){gj(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return t.prototype.decodeRow=function(r,n,a){var i,s,o,c,l=this.decodePair(n,!1,r,a);t.addOrTally(this.possibleLeftPairs,l),n.reverse();var u=this.decodePair(n,!0,r,a);t.addOrTally(this.possibleRightPairs,u),n.reverse();try{for(var f=ap(this.possibleLeftPairs),d=f.next();!d.done;d=f.next()){var h=d.value;if(h.getCount()>1)try{for(var v=(o=void 0,ap(this.possibleRightPairs)),p=v.next();!p.done;p=v.next()){var x=p.value;if(x.getCount()>1&&t.checkChecksum(h,x))return t.constructResult(h,x)}}catch(y){o={error:y}}finally{try{p&&!p.done&&(c=v.return)&&c.call(v)}finally{if(o)throw o.error}}}}catch(y){i={error:y}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}throw new ce},t.addOrTally=function(r,n){var a,i;if(n!=null){var s=!1;try{for(var o=ap(r),c=o.next();!c.done;c=o.next()){var l=c.value;if(l.getValue()===n.getValue()){l.incrementCount(),s=!0;break}}}catch(u){a={error:u}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}s||r.push(n)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(r,n){for(var a=4537077*r.getValue()+n.getValue(),i=new String(a).toString(),s=new We,o=13-i.length;o>0;o--)s.append("0");s.append(i);for(var c=0,o=0;o<13;o++){var l=s.charAt(o).charCodeAt(0)-48;c+=o&1?l:3*l}c=10-c%10,c===10&&(c=0),s.append(c.toString());var u=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Zr(s.toString(),null,0,[u[0],u[1],f[0],f[1]],Ie.RSS_14,new Date().getTime())},t.checkChecksum=function(r,n){var a=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,i=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,a===i},t.prototype.decodePair=function(r,n,a,i){try{var s=this.findFinderPattern(r,n),o=this.parseFoundFinderPattern(r,a,n,s),c=i==null?null:i.get(kt.NEED_RESULT_POINT_CALLBACK);if(c!=null){var l=(s[0]+s[1])/2;n&&(l=r.getSize()-1-l),c.foundPossibleResultPoint(new ke(l,a))}var u=this.decodeDataCharacter(r,o,!0),f=this.decodeDataCharacter(r,o,!1);return new vj(1597*u.getValue()+f.getValue(),u.getChecksumPortion()+4*f.getChecksumPortion(),o)}catch{return null}},t.prototype.decodeDataCharacter=function(r,n,a){for(var i=this.getDataCharacterCounters(),s=0;s<i.length;s++)i[s]=0;if(a)lr.recordPatternInReverse(r,n.getStartEnd()[0],i);else{lr.recordPattern(r,n.getStartEnd()[1]+1,i);for(var o=0,c=i.length-1;o<c;o++,c--){var l=i[o];i[o]=i[c],i[c]=l}}for(var u=a?16:15,f=at.sum(new Int32Array(i))/u,d=this.getOddCounts(),h=this.getEvenCounts(),v=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors(),o=0;o<i.length;o++){var x=i[o]/f,y=Math.floor(x+.5);y<1?y=1:y>8&&(y=8);var w=Math.floor(o/2);o&1?(h[w]=y,p[w]=x-y):(d[w]=y,v[w]=x-y)}this.adjustOddEvenCounts(a,u);for(var m=0,_=0,o=d.length-1;o>=0;o--)_*=9,_+=d[o],m+=d[o];for(var S=0,A=0,o=h.length-1;o>=0;o--)S*=9,S+=h[o],A+=h[o];var C=_+3*S;if(a){if(m&1||m>12||m<4)throw new ce;var b=(12-m)/2,T=t.OUTSIDE_ODD_WIDEST[b],O=9-T,U=mc.getRSSvalue(d,T,!1),R=mc.getRSSvalue(h,O,!0),H=t.OUTSIDE_EVEN_TOTAL_SUBSET[b],K=t.OUTSIDE_GSUM[b];return new Dd(U*H+R+K,C)}else{if(A&1||A>10||A<4)throw new ce;var b=(10-A)/2,T=t.INSIDE_ODD_WIDEST[b],O=9-T,U=mc.getRSSvalue(d,T,!0),R=mc.getRSSvalue(h,O,!1),Q=t.INSIDE_ODD_TOTAL_SUBSET[b],K=t.INSIDE_GSUM[b];return new Dd(R*Q+U+K,C)}},t.prototype.findFinderPattern=function(r,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=r.getSize(),s=!1,o=0;o<i&&(s=!r.get(o),n!==s);)o++;for(var c=0,l=o,u=o;u<i;u++)if(r.get(u)!==s)a[c]++;else{if(c===3){if(qs.isFinderPattern(a))return[l,u];l+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,s=!s}throw new ce},t.prototype.parseFoundFinderPattern=function(r,n,a,i){for(var s=r.get(i[0]),o=i[0]-1;o>=0&&s!==r.get(o);)o--;o++;var c=i[0]-o,l=this.getDecodeFinderCounters(),u=new Int32Array(l.length);yt.arraycopy(l,0,u,1,l.length-1),u[0]=c;var f=this.parseFinderValue(u,t.FINDER_PATTERNS),d=o,h=i[1];return a&&(d=r.getSize()-1-d,h=r.getSize()-1-h),new Jb(f,[o,i[1]],d,h,n)},t.prototype.adjustOddEvenCounts=function(r,n){var a=at.sum(new Int32Array(this.getOddCounts())),i=at.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1,c=!1,l=!1;r?(a>12?o=!0:a<4&&(s=!0),i>12?l=!0:i<4&&(c=!0)):(a>11?o=!0:a<5&&(s=!0),i>10?l=!0:i<4&&(c=!0));var u=a+i-n,f=(a&1)===(r?1:0),d=(i&1)===1;if(u===1)if(f){if(d)throw new ce;o=!0}else{if(!d)throw new ce;l=!0}else if(u===-1)if(f){if(d)throw new ce;s=!0}else{if(!d)throw new ce;c=!0}else if(u===0){if(f){if(!d)throw new ce;a<i?(s=!0,l=!0):(o=!0,c=!0)}else if(d)throw new ce}else throw new ce;if(s){if(o)throw new ce;qs.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&qs.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(l)throw new ce;qs.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&qs.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t}(qs),xj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xl=function(e){xj(t,e);function t(r){var n=e.call(this)||this;n.readers=[];var a=r?r.get(kt.POSSIBLE_FORMATS):null,i=r&&r.get(kt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=r&&r.get(kt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(Ie.EAN_13)||a.includes(Ie.UPC_A)||a.includes(Ie.EAN_8)||a.includes(Ie.UPC_E))&&n.readers.push(new np(r)),a.includes(Ie.CODE_39)&&n.readers.push(new kw(i,s)),a.includes(Ie.CODE_93)&&n.readers.push(new Iw),a.includes(Ie.CODE_128)&&n.readers.push(new Tw),a.includes(Ie.ITF)&&n.readers.push(new Nw),a.includes(Ie.CODABAR)&&n.readers.push(new jB),a.includes(Ie.RSS_14)&&n.readers.push(new Bw),a.includes(Ie.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new hj))),n.readers.length===0&&(n.readers.push(new np(r)),n.readers.push(new kw),n.readers.push(new Iw),n.readers.push(new np(r)),n.readers.push(new Tw),n.readers.push(new Nw),n.readers.push(new Bw)),n}return t.prototype.decodeRow=function(r,n,a){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(r,n,a)}catch{}throw new ce},t.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},t}(lr),mj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){mj(t,e);function t(r,n){return r===void 0&&(r=500),e.call(this,new Xl(n),r,n)||this}return t})(vl);var jw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ct=function(){function e(t,r,n){this.ecCodewords=t,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return e.prototype.getECCodewords=function(){return this.ecCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),it=function(){function e(t,r){this.count=t,this.dataCodewords=r}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),yj=function(){function e(t,r,n,a,i,s){var o,c;this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=i,this.ecBlocks=s;var l=0,u=s.getECCodewords(),f=s.getECBlocks();try{for(var d=jw(f),h=d.next();!h.done;h=d.next()){var v=h.value;l+=v.getCount()*(v.getDataCodewords()+u)}}catch(p){o={error:p}}finally{try{h&&!h.done&&(c=d.return)&&c.call(d)}finally{if(o)throw o.error}}this.totalCodewords=l}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},e.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},e.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},e.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e.getVersionForDimensions=function(t,r){var n,a;if(t&1||r&1)throw new ye;try{for(var i=jw(e.VERSIONS),s=i.next();!s.done;s=i.next()){var o=s.value;if(o.symbolSizeRows===t&&o.symbolSizeColumns===r)return o}}catch(c){n={error:c}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}throw new ye},e.prototype.toString=function(){return""+this.versionNumber},e.buildVersions=function(){return[new e(1,10,10,8,8,new ct(5,new it(1,3))),new e(2,12,12,10,10,new ct(7,new it(1,5))),new e(3,14,14,12,12,new ct(10,new it(1,8))),new e(4,16,16,14,14,new ct(12,new it(1,12))),new e(5,18,18,16,16,new ct(14,new it(1,18))),new e(6,20,20,18,18,new ct(18,new it(1,22))),new e(7,22,22,20,20,new ct(20,new it(1,30))),new e(8,24,24,22,22,new ct(24,new it(1,36))),new e(9,26,26,24,24,new ct(28,new it(1,44))),new e(10,32,32,14,14,new ct(36,new it(1,62))),new e(11,36,36,16,16,new ct(42,new it(1,86))),new e(12,40,40,18,18,new ct(48,new it(1,114))),new e(13,44,44,20,20,new ct(56,new it(1,144))),new e(14,48,48,22,22,new ct(68,new it(1,174))),new e(15,52,52,24,24,new ct(42,new it(2,102))),new e(16,64,64,14,14,new ct(56,new it(2,140))),new e(17,72,72,16,16,new ct(36,new it(4,92))),new e(18,80,80,18,18,new ct(48,new it(4,114))),new e(19,88,88,20,20,new ct(56,new it(4,144))),new e(20,96,96,22,22,new ct(68,new it(4,174))),new e(21,104,104,24,24,new ct(56,new it(6,136))),new e(22,120,120,18,18,new ct(68,new it(6,175))),new e(23,132,132,20,20,new ct(62,new it(8,163))),new e(24,144,144,22,22,new ct(62,new it(8,156),new it(2,155))),new e(25,8,18,6,16,new ct(7,new it(1,5))),new e(26,8,32,6,14,new ct(11,new it(1,10))),new e(27,12,26,10,24,new ct(14,new it(1,16))),new e(28,12,36,10,16,new ct(18,new it(1,22))),new e(29,16,36,14,16,new ct(24,new it(1,32))),new e(30,16,48,14,22,new ct(28,new it(1,49)))]},e.VERSIONS=e.buildVersions(),e}(),wj=function(){function e(t){var r=t.getHeight();if(r<8||r>144||r&1)throw new ye;this.version=e.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new ai(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return e.prototype.getVersion=function(){return this.version},e.readVersion=function(t){var r=t.getHeight(),n=t.getWidth();return yj.getVersionForDimensions(r,n)},e.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,a=0,i=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),o=!1,c=!1,l=!1,u=!1;do if(n===i&&a===0&&!o)t[r++]=this.readCorner1(i,s)&255,n-=2,a+=2,o=!0;else if(n===i-2&&a===0&&s&3&&!c)t[r++]=this.readCorner2(i,s)&255,n-=2,a+=2,c=!0;else if(n===i+4&&a===2&&!(s&7)&&!l)t[r++]=this.readCorner3(i,s)&255,n-=2,a+=2,l=!0;else if(n===i-2&&a===0&&(s&7)===4&&!u)t[r++]=this.readCorner4(i,s)&255,n-=2,a+=2,u=!0;else{do n<i&&a>=0&&!this.readMappingMatrix.get(a,n)&&(t[r++]=this.readUtah(n,a,i,s)&255),n-=2,a+=2;while(n>=0&&a<s);n+=1,a+=3;do n>=0&&a<s&&!this.readMappingMatrix.get(a,n)&&(t[r++]=this.readUtah(n,a,i,s)&255),n+=2,a-=2;while(n<i&&a>=0);n+=3,a+=1}while(n<i||a<s);if(r!==this.version.getTotalCodewords())throw new ye;return t},e.prototype.readModule=function(t,r,n,a){return t<0&&(t+=n,r+=4-(n+4&7)),r<0&&(r+=a,t+=4-(a+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)},e.prototype.readUtah=function(t,r,n,a){var i=0;return this.readModule(t-2,r-2,n,a)&&(i|=1),i<<=1,this.readModule(t-2,r-1,n,a)&&(i|=1),i<<=1,this.readModule(t-1,r-2,n,a)&&(i|=1),i<<=1,this.readModule(t-1,r-1,n,a)&&(i|=1),i<<=1,this.readModule(t-1,r,n,a)&&(i|=1),i<<=1,this.readModule(t,r-2,n,a)&&(i|=1),i<<=1,this.readModule(t,r-1,n,a)&&(i|=1),i<<=1,this.readModule(t,r,n,a)&&(i|=1),i},e.prototype.readCorner1=function(t,r){var n=0;return this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,1,t,r)&&(n|=1),n<<=1,this.readModule(t-1,2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n<<=1,this.readModule(2,r-1,t,r)&&(n|=1),n<<=1,this.readModule(3,r-1,t,r)&&(n|=1),n},e.prototype.readCorner2=function(t,r){var n=0;return this.readModule(t-3,0,t,r)&&(n|=1),n<<=1,this.readModule(t-2,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(0,r-4,t,r)&&(n|=1),n<<=1,this.readModule(0,r-3,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n},e.prototype.readCorner3=function(t,r){var n=0;return this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,r-1,t,r)&&(n|=1),n<<=1,this.readModule(0,r-3,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-3,t,r)&&(n|=1),n<<=1,this.readModule(1,r-2,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n},e.prototype.readCorner4=function(t,r){var n=0;return this.readModule(t-3,0,t,r)&&(n|=1),n<<=1,this.readModule(t-2,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n<<=1,this.readModule(2,r-1,t,r)&&(n|=1),n<<=1,this.readModule(3,r-1,t,r)&&(n|=1),n},e.prototype.extractDataRegion=function(t){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new Oe("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),s=r/a|0,o=n/i|0,c=s*a,l=o*i,u=new ai(l,c),f=0;f<s;++f)for(var d=f*a,h=0;h<o;++h)for(var v=h*i,p=0;p<a;++p)for(var x=f*(a+2)+1+p,y=d+p,w=0;w<i;++w){var m=h*(i+2)+1+w;if(t.get(m,x)){var _=v+w;u.set(_,y)}}return u},e}(),Uw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_j=function(){function e(t,r){this.numDataCodewords=t,this.codewords=r}return e.getDataBlocks=function(t,r){var n,a,i,s,o=r.getECBlocks(),c=0,l=o.getECBlocks();try{for(var u=Uw(l),f=u.next();!f.done;f=u.next()){var d=f.value;c+=d.getCount()}}catch(K){n={error:K}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}var h=new Array(c),v=0;try{for(var p=Uw(l),x=p.next();!x.done;x=p.next())for(var d=x.value,y=0;y<d.getCount();y++){var w=d.getDataCodewords(),m=o.getECCodewords()+w;h[v++]=new e(w,new Uint8Array(m))}}catch(K){i={error:K}}finally{try{x&&!x.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}for(var _=h[0].codewords.length,S=_-o.getECCodewords(),A=S-1,C=0,y=0;y<A;y++)for(var b=0;b<v;b++)h[b].codewords[y]=t[C++];for(var T=r.getVersionNumber()===24,O=T?8:v,b=0;b<O;b++)h[b].codewords[S-1]=t[C++];for(var U=h[0].codewords.length,y=S;y<U;y++)for(var b=0;b<v;b++){var R=T?(b+8)%v:b,H=T&&R>7?y-1:y;h[R].codewords[H]=t[C++]}if(C!==t.length)throw new Oe;return h},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),rT=function(){function e(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return e.prototype.getBitOffset=function(){return this.bitOffset},e.prototype.getByteOffset=function(){return this.byteOffset},e.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new Oe(""+t);var r=0,n=this.bitOffset,a=this.byteOffset,i=this.bytes;if(n>0){var s=8-n,o=t<s?t:s,c=s-o,l=255>>8-o<<c;r=(i[a]&l)>>c,t-=o,n+=o,n===8&&(n=0,a++)}if(t>0){for(;t>=8;)r=r<<8|i[a]&255,a++,t-=8;if(t>0){var c=8-t,l=255>>c<<c;r=r<<t|(i[a]&l)>>c,n+=t}}return this.bitOffset=n,this.byteOffset=a,r},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}(),er;(function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"})(er||(er={}));var Ej=function(){function e(){}return e.decode=function(t){var r=new rT(t),n=new We,a=new We,i=new Array,s=er.ASCII_ENCODE;do if(s===er.ASCII_ENCODE)s=this.decodeAsciiSegment(r,n,a);else{switch(s){case er.C40_ENCODE:this.decodeC40Segment(r,n);break;case er.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case er.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case er.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case er.BASE256_ENCODE:this.decodeBase256Segment(r,n,i);break;default:throw new ye}s=er.ASCII_ENCODE}while(s!==er.PAD_ENCODE&&r.available()>0);return a.length()>0&&n.append(a.toString()),new Xh(t,n.toString(),i.length===0?null:i,null)},e.decodeAsciiSegment=function(t,r,n){var a=!1;do{var i=t.readBits(8);if(i===0)throw new ye;if(i<=128)return a&&(i+=128),r.append(String.fromCharCode(i-1)),er.ASCII_ENCODE;if(i===129)return er.PAD_ENCODE;if(i<=229){var s=i-130;s<10&&r.append("0"),r.append(""+s)}else switch(i){case 230:return er.C40_ENCODE;case 231:return er.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return er.ANSIX12_ENCODE;case 239:return er.TEXT_ENCODE;case 240:return er.EDIFACT_ENCODE;case 241:break;default:if(i!==254||t.available()!==0)throw new ye;break}}while(t.available()>0);return er.ASCII_ENCODE},e.decodeC40Segment=function(t,r){var n=!1,a=[],i=0;do{if(t.available()===8)return;var s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),a);for(var o=0;o<3;o++){var c=a[o];switch(i){case 0:if(c<3)i=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var l=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else throw new ye;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var l=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new ye}i=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),i=0;break;default:throw new ye}}}while(t.available()>0)},e.decodeTextSegment=function(t,r){var n=!1,a=[],i=0;do{if(t.available()===8)return;var s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),a);for(var o=0;o<3;o++){var c=a[o];switch(i){case 0:if(c<3)i=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var l=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else throw new ye;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var l=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new ye}i=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var l=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l),i=0}else throw new ye;break;default:throw new ye}}}while(t.available()>0)},e.decodeAnsiX12Segment=function(t,r){var n=[];do{if(t.available()===8)return;var a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),n);for(var i=0;i<3;i++){var s=n[i];switch(s){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(s<14)r.append(String.fromCharCode(s+44));else if(s<40)r.append(String.fromCharCode(s+51));else throw new ye;break}}}while(t.available()>0)},e.parseTwoBytes=function(t,r,n){var a=(t<<8)+r-1,i=Math.floor(a/1600);n[0]=i,a-=i*1600,i=Math.floor(a/40),n[1]=i,n[2]=a-i*40},e.decodeEdifactSegment=function(t,r){do{if(t.available()<=16)return;for(var n=0;n<4;n++){var a=t.readBits(6);if(a===31){var i=8-t.getBitOffset();i!==8&&t.readBits(i);return}a&32||(a|=64),r.append(String.fromCharCode(a))}}while(t.available()>0)},e.decodeBase256Segment=function(t,r,n){var a=1+t.getByteOffset(),i=this.unrandomize255State(t.readBits(8),a++),s;if(i===0?s=t.available()/8|0:i<250?s=i:s=250*(i-249)+this.unrandomize255State(t.readBits(8),a++),s<0)throw new ye;for(var o=new Uint8Array(s),c=0;c<s;c++){if(t.available()<8)throw new ye;o[c]=this.unrandomize255State(t.readBits(8),a++)}n.push(o);try{r.append(ra.decode(o,qe.ISO88591))}catch(l){throw new Pf("Platform does not support required encoding: "+l.message)}},e.unrandomize255State=function(t,r){var n=149*r%255+1,a=t-n;return a>=0?a:a+256},e.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],e.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.TEXT_SHIFT2_SET_CHARS=e.C40_SHIFT2_SET_CHARS,e.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],e}(),Cj=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Sj=function(){function e(){this.rsDecoder=new Kh(Cn.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(t){var r,n,a=new wj(t),i=a.getVersion(),s=a.readCodewords(),o=_j.getDataBlocks(s,i),c=0;try{for(var l=Cj(o),u=l.next();!u.done;u=l.next()){var f=u.value;c+=f.getNumDataCodewords()}}catch(m){r={error:m}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var d=new Uint8Array(c),h=o.length,v=0;v<h;v++){var p=o[v],x=p.getCodewords(),y=p.getNumDataCodewords();this.correctErrors(x,y);for(var w=0;w<y;w++)d[w*h+v]=x[w]}return Ej.decode(d)},e.prototype.correctErrors=function(t,r){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-r)}catch{throw new yr}for(var a=0;a<r;a++)t[a]=n[a]},e}(),Aj=function(){function e(t){this.image=t,this.rectangleDetector=new ag(this.image)}return e.prototype.detect=function(){var t=this.rectangleDetector.detect(),r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new ce;r=this.shiftToModuleCenter(r);var n=r[0],a=r[1],i=r[2],s=r[3],o=this.transitionsBetween(n,s)+1,c=this.transitionsBetween(i,s)+1;(o&1)===1&&(o+=1),(c&1)===1&&(c+=1),4*o<7*c&&4*c<7*o&&(o=c=Math.max(o,c));var l=e.sampleGrid(this.image,n,a,i,s,o,c);return new pm(l,[n,a,i,s])},e.shiftPoint=function(t,r,n){var a=(r.getX()-t.getX())/(n+1),i=(r.getY()-t.getY())/(n+1);return new ke(t.getX()+a,t.getY()+i)},e.moveAway=function(t,r,n){var a=t.getX(),i=t.getY();return a<r?a-=1:a+=1,i<n?i-=1:i+=1,new ke(a,i)},e.prototype.detectSolid1=function(t){var r=t[0],n=t[1],a=t[3],i=t[2],s=this.transitionsBetween(r,n),o=this.transitionsBetween(n,a),c=this.transitionsBetween(a,i),l=this.transitionsBetween(i,r),u=s,f=[i,r,n,a];return u>o&&(u=o,f[0]=r,f[1]=n,f[2]=a,f[3]=i),u>c&&(u=c,f[0]=n,f[1]=a,f[2]=i,f[3]=r),u>l&&(f[0]=a,f[1]=i,f[2]=r,f[3]=n),f},e.prototype.detectSolid2=function(t){var r=t[0],n=t[1],a=t[2],i=t[3],s=this.transitionsBetween(r,i),o=e.shiftPoint(n,a,(s+1)*4),c=e.shiftPoint(a,n,(s+1)*4),l=this.transitionsBetween(o,r),u=this.transitionsBetween(c,i);return l<u?(t[0]=r,t[1]=n,t[2]=a,t[3]=i):(t[0]=n,t[1]=a,t[2]=i,t[3]=r),t},e.prototype.correctTopRight=function(t){var r=t[0],n=t[1],a=t[2],i=t[3],s=this.transitionsBetween(r,i),o=this.transitionsBetween(n,i),c=e.shiftPoint(r,n,(o+1)*4),l=e.shiftPoint(a,n,(s+1)*4);s=this.transitionsBetween(c,i),o=this.transitionsBetween(l,i);var u=new ke(i.getX()+(a.getX()-n.getX())/(s+1),i.getY()+(a.getY()-n.getY())/(s+1)),f=new ke(i.getX()+(r.getX()-n.getX())/(o+1),i.getY()+(r.getY()-n.getY())/(o+1));if(!this.isValid(u))return this.isValid(f)?f:null;if(!this.isValid(f))return u;var d=this.transitionsBetween(c,u)+this.transitionsBetween(l,u),h=this.transitionsBetween(c,f)+this.transitionsBetween(l,f);return d>h?u:f},e.prototype.shiftToModuleCenter=function(t){var r=t[0],n=t[1],a=t[2],i=t[3],s=this.transitionsBetween(r,i)+1,o=this.transitionsBetween(a,i)+1,c=e.shiftPoint(r,n,o*4),l=e.shiftPoint(a,n,s*4);s=this.transitionsBetween(c,i)+1,o=this.transitionsBetween(l,i)+1,(s&1)===1&&(s+=1),(o&1)===1&&(o+=1);var u=(r.getX()+n.getX()+a.getX()+i.getX())/4,f=(r.getY()+n.getY()+a.getY()+i.getY())/4;r=e.moveAway(r,u,f),n=e.moveAway(n,u,f),a=e.moveAway(a,u,f),i=e.moveAway(i,u,f);var d,h;return c=e.shiftPoint(r,n,o*4),c=e.shiftPoint(c,i,s*4),d=e.shiftPoint(n,r,o*4),d=e.shiftPoint(d,a,s*4),l=e.shiftPoint(a,i,o*4),l=e.shiftPoint(l,n,s*4),h=e.shiftPoint(i,a,o*4),h=e.shiftPoint(h,r,s*4),[c,d,l,h]},e.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},e.sampleGrid=function(t,r,n,a,i,s,o){var c=vm.getInstance();return c.sampleGrid(t,s,o,.5,.5,s-.5,.5,s-.5,o-.5,.5,o-.5,r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY(),n.getX(),n.getY())},e.prototype.transitionsBetween=function(t,r){var n=Math.trunc(t.getX()),a=Math.trunc(t.getY()),i=Math.trunc(r.getX()),s=Math.trunc(r.getY()),o=Math.abs(s-a)>Math.abs(i-n);if(o){var c=n;n=a,a=c,c=i,i=s,s=c}for(var l=Math.abs(i-n),u=Math.abs(s-a),f=-l/2,d=a<s?1:-1,h=n<i?1:-1,v=0,p=this.image.get(o?a:n,o?n:a),x=n,y=a;x!==i;x+=h){var w=this.image.get(o?y:x,o?x:y);if(w!==p&&(v++,p=w),f+=u,f>0){if(y===s)break;y+=d,f-=l}}return v},e}(),og=function(){function e(){this.decoder=new Sj}return e.prototype.decode=function(t,r){r===void 0&&(r=null);var n,a;if(r!=null&&r.has(kt.PURE_BARCODE)){var i=e.extractPureBits(t.getBlackMatrix());n=this.decoder.decode(i),a=e.NO_POINTS}else{var s=new Aj(t.getBlackMatrix()).detect();n=this.decoder.decode(s.getBits()),a=s.getPoints()}var o=n.getRawBytes(),c=new Zr(n.getText(),o,8*o.length,a,Ie.DATA_MATRIX,yt.currentTimeMillis()),l=n.getByteSegments();l!=null&&c.putMetadata(Nr.BYTE_SEGMENTS,l);var u=n.getECLevel();return u!=null&&c.putMetadata(Nr.ERROR_CORRECTION_LEVEL,u),c},e.prototype.reset=function(){},e.extractPureBits=function(t){var r=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(r==null||n==null)throw new ce;var a=this.moduleSize(r,t),i=r[1],s=n[1],o=r[0],c=n[0],l=(c-o+1)/a,u=(s-i+1)/a;if(l<=0||u<=0)throw new ce;var f=a/2;i+=f,o+=f;for(var d=new ai(l,u),h=0;h<u;h++)for(var v=i+h*a,p=0;p<l;p++)t.get(o+p*a,v)&&d.set(p,h);return d},e.moduleSize=function(t,r){for(var n=r.getWidth(),a=t[0],i=t[1];a<n&&r.get(a,i);)a++;if(a===n)throw new ce;var s=a-t[0];if(s===0)throw new ce;return s},e.NO_POINTS=[],e}(),bj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){bj(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new og,r)||this}return t})(vl);var yc;(function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"})(yc||(yc={}));var Tj=function(){function e(t,r,n){this.value=t,this.stringValue=r,this.bits=n,e.FOR_BITS.set(n,this),e.FOR_VALUE.set(t,this)}return e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.fromString=function(t){switch(t){case"L":return e.L;case"M":return e.M;case"Q":return e.Q;case"H":return e.H;default:throw new pa(t+"not available")}},e.prototype.toString=function(){return this.stringValue},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.forBits=function(t){if(t<0||t>=e.FOR_BITS.size)throw new Oe;return e.FOR_BITS.get(t)},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.L=new e(yc.L,"L",1),e.M=new e(yc.M,"M",0),e.Q=new e(yc.Q,"Q",3),e.H=new e(yc.H,"H",2),e}(),kj=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nT=function(){function e(t){this.errorCorrectionLevel=Tj.forBits(t>>3&3),this.dataMask=t&7}return e.numBitsDiffering=function(t,r){return Ge.bitCount(t^r)},e.decodeFormatInformation=function(t,r){var n=e.doDecodeFormatInformation(t,r);return n!==null?n:e.doDecodeFormatInformation(t^e.FORMAT_INFO_MASK_QR,r^e.FORMAT_INFO_MASK_QR)},e.doDecodeFormatInformation=function(t,r){var n,a,i=Number.MAX_SAFE_INTEGER,s=0;try{for(var o=kj(e.FORMAT_INFO_DECODE_LOOKUP),c=o.next();!c.done;c=o.next()){var l=c.value,u=l[0];if(u===t||u===r)return new e(l[1]);var f=e.numBitsDiffering(t,u);f<i&&(s=l[1],i=f),t!==r&&(f=e.numBitsDiffering(r,u),f<i&&(s=l[1],i=f))}}catch(d){n={error:d}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return i<=3?new e(s):null},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getDataMask=function(){return this.dataMask},e.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},e.FORMAT_INFO_MASK_QR=21522,e.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],e}(),Ij=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Z=function(){function e(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=t,this.ecBlocks=r}return e.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},e.prototype.getNumBlocks=function(){var t,r,n=0,a=this.ecBlocks;try{for(var i=Ij(a),s=i.next();!s.done;s=i.next()){var o=s.value;n+=o.getCount()}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},e.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),D=function(){function e(t,r){this.count=t,this.dataCodewords=r}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),Nj=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vo=function(){function e(t,r){for(var n,a,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=i;var o=0,c=i[0].getECCodewordsPerBlock(),l=i[0].getECBlocks();try{for(var u=Nj(l),f=u.next();!f.done;f=u.next()){var d=f.value;o+=d.getCount()*(d.getDataCodewords()+c)}}catch(h){n={error:h}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}this.totalCodewords=o}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},e.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},e.getProvisionalVersionForDimension=function(t){if(t%4!==1)throw new ye;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ye}},e.getVersionForNumber=function(t){if(t<1||t>40)throw new Oe;return e.VERSIONS[t-1]},e.decodeVersionInformation=function(t){for(var r=Number.MAX_SAFE_INTEGER,n=0,a=0;a<e.VERSION_DECODE_INFO.length;a++){var i=e.VERSION_DECODE_INFO[a];if(i===t)return e.getVersionForNumber(a+7);var s=nT.numBitsDiffering(t,i);s<r&&(n=a+7,r=s)}return r<=3?e.getVersionForNumber(n):null},e.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),r=new ai(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var i=this.alignmentPatternCenters[a]-2,s=0;s<n;s++)a===0&&(s===0||s===n-1)||a===n-1&&s===0||r.setRegion(this.alignmentPatternCenters[s]-2,i,5,5);return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r},e.prototype.toString=function(){return""+this.versionNumber},e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),e.VERSIONS=[new e(1,new Int32Array(0),new Z(7,new D(1,19)),new Z(10,new D(1,16)),new Z(13,new D(1,13)),new Z(17,new D(1,9))),new e(2,Int32Array.from([6,18]),new Z(10,new D(1,34)),new Z(16,new D(1,28)),new Z(22,new D(1,22)),new Z(28,new D(1,16))),new e(3,Int32Array.from([6,22]),new Z(15,new D(1,55)),new Z(26,new D(1,44)),new Z(18,new D(2,17)),new Z(22,new D(2,13))),new e(4,Int32Array.from([6,26]),new Z(20,new D(1,80)),new Z(18,new D(2,32)),new Z(26,new D(2,24)),new Z(16,new D(4,9))),new e(5,Int32Array.from([6,30]),new Z(26,new D(1,108)),new Z(24,new D(2,43)),new Z(18,new D(2,15),new D(2,16)),new Z(22,new D(2,11),new D(2,12))),new e(6,Int32Array.from([6,34]),new Z(18,new D(2,68)),new Z(16,new D(4,27)),new Z(24,new D(4,19)),new Z(28,new D(4,15))),new e(7,Int32Array.from([6,22,38]),new Z(20,new D(2,78)),new Z(18,new D(4,31)),new Z(18,new D(2,14),new D(4,15)),new Z(26,new D(4,13),new D(1,14))),new e(8,Int32Array.from([6,24,42]),new Z(24,new D(2,97)),new Z(22,new D(2,38),new D(2,39)),new Z(22,new D(4,18),new D(2,19)),new Z(26,new D(4,14),new D(2,15))),new e(9,Int32Array.from([6,26,46]),new Z(30,new D(2,116)),new Z(22,new D(3,36),new D(2,37)),new Z(20,new D(4,16),new D(4,17)),new Z(24,new D(4,12),new D(4,13))),new e(10,Int32Array.from([6,28,50]),new Z(18,new D(2,68),new D(2,69)),new Z(26,new D(4,43),new D(1,44)),new Z(24,new D(6,19),new D(2,20)),new Z(28,new D(6,15),new D(2,16))),new e(11,Int32Array.from([6,30,54]),new Z(20,new D(4,81)),new Z(30,new D(1,50),new D(4,51)),new Z(28,new D(4,22),new D(4,23)),new Z(24,new D(3,12),new D(8,13))),new e(12,Int32Array.from([6,32,58]),new Z(24,new D(2,92),new D(2,93)),new Z(22,new D(6,36),new D(2,37)),new Z(26,new D(4,20),new D(6,21)),new Z(28,new D(7,14),new D(4,15))),new e(13,Int32Array.from([6,34,62]),new Z(26,new D(4,107)),new Z(22,new D(8,37),new D(1,38)),new Z(24,new D(8,20),new D(4,21)),new Z(22,new D(12,11),new D(4,12))),new e(14,Int32Array.from([6,26,46,66]),new Z(30,new D(3,115),new D(1,116)),new Z(24,new D(4,40),new D(5,41)),new Z(20,new D(11,16),new D(5,17)),new Z(24,new D(11,12),new D(5,13))),new e(15,Int32Array.from([6,26,48,70]),new Z(22,new D(5,87),new D(1,88)),new Z(24,new D(5,41),new D(5,42)),new Z(30,new D(5,24),new D(7,25)),new Z(24,new D(11,12),new D(7,13))),new e(16,Int32Array.from([6,26,50,74]),new Z(24,new D(5,98),new D(1,99)),new Z(28,new D(7,45),new D(3,46)),new Z(24,new D(15,19),new D(2,20)),new Z(30,new D(3,15),new D(13,16))),new e(17,Int32Array.from([6,30,54,78]),new Z(28,new D(1,107),new D(5,108)),new Z(28,new D(10,46),new D(1,47)),new Z(28,new D(1,22),new D(15,23)),new Z(28,new D(2,14),new D(17,15))),new e(18,Int32Array.from([6,30,56,82]),new Z(30,new D(5,120),new D(1,121)),new Z(26,new D(9,43),new D(4,44)),new Z(28,new D(17,22),new D(1,23)),new Z(28,new D(2,14),new D(19,15))),new e(19,Int32Array.from([6,30,58,86]),new Z(28,new D(3,113),new D(4,114)),new Z(26,new D(3,44),new D(11,45)),new Z(26,new D(17,21),new D(4,22)),new Z(26,new D(9,13),new D(16,14))),new e(20,Int32Array.from([6,34,62,90]),new Z(28,new D(3,107),new D(5,108)),new Z(26,new D(3,41),new D(13,42)),new Z(30,new D(15,24),new D(5,25)),new Z(28,new D(15,15),new D(10,16))),new e(21,Int32Array.from([6,28,50,72,94]),new Z(28,new D(4,116),new D(4,117)),new Z(26,new D(17,42)),new Z(28,new D(17,22),new D(6,23)),new Z(30,new D(19,16),new D(6,17))),new e(22,Int32Array.from([6,26,50,74,98]),new Z(28,new D(2,111),new D(7,112)),new Z(28,new D(17,46)),new Z(30,new D(7,24),new D(16,25)),new Z(24,new D(34,13))),new e(23,Int32Array.from([6,30,54,78,102]),new Z(30,new D(4,121),new D(5,122)),new Z(28,new D(4,47),new D(14,48)),new Z(30,new D(11,24),new D(14,25)),new Z(30,new D(16,15),new D(14,16))),new e(24,Int32Array.from([6,28,54,80,106]),new Z(30,new D(6,117),new D(4,118)),new Z(28,new D(6,45),new D(14,46)),new Z(30,new D(11,24),new D(16,25)),new Z(30,new D(30,16),new D(2,17))),new e(25,Int32Array.from([6,32,58,84,110]),new Z(26,new D(8,106),new D(4,107)),new Z(28,new D(8,47),new D(13,48)),new Z(30,new D(7,24),new D(22,25)),new Z(30,new D(22,15),new D(13,16))),new e(26,Int32Array.from([6,30,58,86,114]),new Z(28,new D(10,114),new D(2,115)),new Z(28,new D(19,46),new D(4,47)),new Z(28,new D(28,22),new D(6,23)),new Z(30,new D(33,16),new D(4,17))),new e(27,Int32Array.from([6,34,62,90,118]),new Z(30,new D(8,122),new D(4,123)),new Z(28,new D(22,45),new D(3,46)),new Z(30,new D(8,23),new D(26,24)),new Z(30,new D(12,15),new D(28,16))),new e(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new D(3,117),new D(10,118)),new Z(28,new D(3,45),new D(23,46)),new Z(30,new D(4,24),new D(31,25)),new Z(30,new D(11,15),new D(31,16))),new e(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new D(7,116),new D(7,117)),new Z(28,new D(21,45),new D(7,46)),new Z(30,new D(1,23),new D(37,24)),new Z(30,new D(19,15),new D(26,16))),new e(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new D(5,115),new D(10,116)),new Z(28,new D(19,47),new D(10,48)),new Z(30,new D(15,24),new D(25,25)),new Z(30,new D(23,15),new D(25,16))),new e(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new D(13,115),new D(3,116)),new Z(28,new D(2,46),new D(29,47)),new Z(30,new D(42,24),new D(1,25)),new Z(30,new D(23,15),new D(28,16))),new e(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new D(17,115)),new Z(28,new D(10,46),new D(23,47)),new Z(30,new D(10,24),new D(35,25)),new Z(30,new D(19,15),new D(35,16))),new e(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new D(17,115),new D(1,116)),new Z(28,new D(14,46),new D(21,47)),new Z(30,new D(29,24),new D(19,25)),new Z(30,new D(11,15),new D(46,16))),new e(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new D(13,115),new D(6,116)),new Z(28,new D(14,46),new D(23,47)),new Z(30,new D(44,24),new D(7,25)),new Z(30,new D(59,16),new D(1,17))),new e(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new D(12,121),new D(7,122)),new Z(28,new D(12,47),new D(26,48)),new Z(30,new D(39,24),new D(14,25)),new Z(30,new D(22,15),new D(41,16))),new e(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new D(6,121),new D(14,122)),new Z(28,new D(6,47),new D(34,48)),new Z(30,new D(46,24),new D(10,25)),new Z(30,new D(2,15),new D(64,16))),new e(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new D(17,122),new D(4,123)),new Z(28,new D(29,46),new D(14,47)),new Z(30,new D(49,24),new D(10,25)),new Z(30,new D(24,15),new D(46,16))),new e(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new D(4,122),new D(18,123)),new Z(28,new D(13,46),new D(32,47)),new Z(30,new D(48,24),new D(14,25)),new Z(30,new D(42,15),new D(32,16))),new e(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new D(20,117),new D(4,118)),new Z(28,new D(40,47),new D(7,48)),new Z(30,new D(43,24),new D(22,25)),new Z(30,new D(10,15),new D(67,16))),new e(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new D(19,118),new D(6,119)),new Z(28,new D(18,47),new D(31,48)),new Z(30,new D(34,24),new D(34,25)),new Z(30,new D(20,15),new D(61,16)))],e}(),pr;(function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"})(pr||(pr={}));var $w=function(){function e(t,r){this.value=t,this.isMasked=r}return e.prototype.unmaskBitMatrix=function(t,r){for(var n=0;n<r;n++)for(var a=0;a<r;a++)this.isMasked(n,a)&&t.flip(a,n)},e.values=new Map([[pr.DATA_MASK_000,new e(pr.DATA_MASK_000,function(t,r){return(t+r&1)===0})],[pr.DATA_MASK_001,new e(pr.DATA_MASK_001,function(t,r){return(t&1)===0})],[pr.DATA_MASK_010,new e(pr.DATA_MASK_010,function(t,r){return r%3===0})],[pr.DATA_MASK_011,new e(pr.DATA_MASK_011,function(t,r){return(t+r)%3===0})],[pr.DATA_MASK_100,new e(pr.DATA_MASK_100,function(t,r){return(Math.floor(t/2)+Math.floor(r/3)&1)===0})],[pr.DATA_MASK_101,new e(pr.DATA_MASK_101,function(t,r){return t*r%6===0})],[pr.DATA_MASK_110,new e(pr.DATA_MASK_110,function(t,r){return t*r%6<3})],[pr.DATA_MASK_111,new e(pr.DATA_MASK_111,function(t,r){return(t+r+t*r%3&1)===0})]]),e}(),Oj=function(){function e(t){var r=t.getHeight();if(r<21||(r&3)!==1)throw new ye;this.bitMatrix=t}return e.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var t=0,r=0;r<6;r++)t=this.copyBit(r,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var n=5;n>=0;n--)t=this.copyBit(8,n,t);for(var a=this.bitMatrix.getHeight(),i=0,s=a-7,n=a-1;n>=s;n--)i=this.copyBit(8,n,i);for(var r=a-8;r<a;r++)i=this.copyBit(r,8,i);if(this.parsedFormatInfo=nT.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ye},e.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return vo.getVersionForNumber(r);for(var n=0,a=t-11,i=5;i>=0;i--)for(var s=t-9;s>=a;s--)n=this.copyBit(s,i,n);var o=vo.decodeVersionInformation(n);if(o!==null&&o.getDimensionForVersion()===t)return this.parsedVersion=o,o;n=0;for(var s=5;s>=0;s--)for(var i=t-9;i>=a;i--)n=this.copyBit(s,i,n);if(o=vo.decodeVersionInformation(n),o!==null&&o.getDimensionForVersion()===t)return this.parsedVersion=o,o;throw new ye},e.prototype.copyBit=function(t,r,n){var a=this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r);return a?n<<1|1:n<<1},e.prototype.readCodewords=function(){var t=this.readFormatInformation(),r=this.readVersion(),n=$w.values.get(t.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var i=r.buildFunctionPattern(),s=!0,o=new Uint8Array(r.getTotalCodewords()),c=0,l=0,u=0,f=a-1;f>0;f-=2){f===6&&f--;for(var d=0;d<a;d++)for(var h=s?a-1-d:d,v=0;v<2;v++)i.get(f-v,h)||(u++,l<<=1,this.bitMatrix.get(f-v,h)&&(l|=1),u===8&&(o[c++]=l,u=0,l=0));s=!s}if(c!==r.getTotalCodewords())throw new ye;return o},e.prototype.remask=function(){if(this.parsedFormatInfo!==null){var t=$w.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}},e.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},e.prototype.mirror=function(){for(var t=this.bitMatrix,r=0,n=t.getWidth();r<n;r++)for(var a=r+1,i=t.getHeight();a<i;a++)t.get(r,a)!==t.get(a,r)&&(t.flip(a,r),t.flip(r,a))},e}(),Hw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Rj=function(){function e(t,r){this.numDataCodewords=t,this.codewords=r}return e.getDataBlocks=function(t,r,n){var a,i,s,o;if(t.length!==r.getTotalCodewords())throw new Oe;var c=r.getECBlocksForLevel(n),l=0,u=c.getECBlocks();try{for(var f=Hw(u),d=f.next();!d.done;d=f.next()){var h=d.value;l+=h.getCount()}}catch(H){a={error:H}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var v=new Array(l),p=0;try{for(var x=Hw(u),y=x.next();!y.done;y=x.next())for(var h=y.value,w=0;w<h.getCount();w++){var m=h.getDataCodewords(),_=c.getECCodewordsPerBlock()+m;v[p++]=new e(m,new Uint8Array(_))}}catch(H){s={error:H}}finally{try{y&&!y.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}for(var S=v[0].codewords.length,A=v.length-1;A>=0;){var C=v[A].codewords.length;if(C===S)break;A--}A++;for(var b=S-c.getECCodewordsPerBlock(),T=0,w=0;w<b;w++)for(var O=0;O<p;O++)v[O].codewords[w]=t[T++];for(var O=A;O<p;O++)v[O].codewords[b]=t[T++];for(var U=v[0].codewords.length,w=b;w<U;w++)for(var O=0;O<p;O++){var R=O<A?w:w+1;v[O].codewords[R]=t[T++]}return v},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),Gn;(function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"})(Gn||(Gn={}));var bt=function(){function e(t,r,n,a){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=a,e.FOR_BITS.set(a,this),e.FOR_VALUE.set(t,this)}return e.forBits=function(t){var r=e.FOR_BITS.get(t);if(r===void 0)throw new Oe;return r},e.prototype.getCharacterCountBits=function(t){var r=t.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.prototype.toString=function(){return this.stringValue},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.TERMINATOR=new e(Gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),e.NUMERIC=new e(Gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),e.ALPHANUMERIC=new e(Gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),e.STRUCTURED_APPEND=new e(Gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),e.BYTE=new e(Gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),e.ECI=new e(Gn.ECI,"ECI",Int32Array.from([0,0,0]),7),e.KANJI=new e(Gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),e.FNC1_FIRST_POSITION=new e(Gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),e.FNC1_SECOND_POSITION=new e(Gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),e.HANZI=new e(Gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13),e}(),Pj=function(){function e(){}return e.decode=function(t,r,n,a){var i=new rT(t),s=new We,o=new Array,c=-1,l=-1;try{var u=null,f=!1,d=void 0;do{if(i.available()<4)d=bt.TERMINATOR;else{var h=i.readBits(4);d=bt.forBits(h)}switch(d){case bt.TERMINATOR:break;case bt.FNC1_FIRST_POSITION:case bt.FNC1_SECOND_POSITION:f=!0;break;case bt.STRUCTURED_APPEND:if(i.available()<16)throw new ye;c=i.readBits(8),l=i.readBits(8);break;case bt.ECI:var v=e.parseECIValue(i);if(u=ir.getCharacterSetECIByValue(v),u===null)throw new ye;break;case bt.HANZI:var p=i.readBits(4),x=i.readBits(d.getCharacterCountBits(r));p===e.GB2312_SUBSET&&e.decodeHanziSegment(i,s,x);break;default:var y=i.readBits(d.getCharacterCountBits(r));switch(d){case bt.NUMERIC:e.decodeNumericSegment(i,s,y);break;case bt.ALPHANUMERIC:e.decodeAlphanumericSegment(i,s,y,f);break;case bt.BYTE:e.decodeByteSegment(i,s,y,u,o,a);break;case bt.KANJI:e.decodeKanjiSegment(i,s,y);break;default:throw new ye}break}}while(d!==bt.TERMINATOR)}catch{throw new ye}return new Xh(t,s.toString(),o.length===0?null:o,n===null?null:n.toString(),c,l)},e.decodeHanziSegment=function(t,r,n){if(n*13>t.available())throw new ye;for(var a=new Uint8Array(2*n),i=0;n>0;){var s=t.readBits(13),o=s/96<<8&4294967295|s%96;o<959?o+=41377:o+=42657,a[i]=o>>8&255,a[i+1]=o&255,i+=2,n--}try{r.append(ra.decode(a,qe.GB2312))}catch(c){throw new ye(c)}},e.decodeKanjiSegment=function(t,r,n){if(n*13>t.available())throw new ye;for(var a=new Uint8Array(2*n),i=0;n>0;){var s=t.readBits(13),o=s/192<<8&4294967295|s%192;o<7936?o+=33088:o+=49472,a[i]=o>>8,a[i+1]=o,i+=2,n--}try{r.append(ra.decode(a,qe.SHIFT_JIS))}catch(c){throw new ye(c)}},e.decodeByteSegment=function(t,r,n,a,i,s){if(8*n>t.available())throw new ye;for(var o=new Uint8Array(n),c=0;c<n;c++)o[c]=t.readBits(8);var l;a===null?l=qe.guessEncoding(o,s):l=a.getName();try{r.append(ra.decode(o,l))}catch(u){throw new ye(u)}i.push(o)},e.toAlphaNumericChar=function(t){if(t>=e.ALPHANUMERIC_CHARS.length)throw new ye;return e.ALPHANUMERIC_CHARS[t]},e.decodeAlphanumericSegment=function(t,r,n,a){for(var i=r.length();n>1;){if(t.available()<11)throw new ye;var s=t.readBits(11);r.append(e.toAlphaNumericChar(Math.floor(s/45))),r.append(e.toAlphaNumericChar(s%45)),n-=2}if(n===1){if(t.available()<6)throw new ye;r.append(e.toAlphaNumericChar(t.readBits(6)))}if(a)for(var o=i;o<r.length();o++)r.charAt(o)==="%"&&(o<r.length()-1&&r.charAt(o+1)==="%"?r.deleteCharAt(o+1):r.setCharAt(o,""))},e.decodeNumericSegment=function(t,r,n){for(;n>=3;){if(t.available()<10)throw new ye;var a=t.readBits(10);if(a>=1e3)throw new ye;r.append(e.toAlphaNumericChar(Math.floor(a/100))),r.append(e.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(e.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(t.available()<7)throw new ye;var i=t.readBits(7);if(i>=100)throw new ye;r.append(e.toAlphaNumericChar(Math.floor(i/10))),r.append(e.toAlphaNumericChar(i%10))}else if(n===1){if(t.available()<4)throw new ye;var s=t.readBits(4);if(s>=10)throw new ye;r.append(e.toAlphaNumericChar(s))}},e.parseECIValue=function(t){var r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=t.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var a=t.readBits(16);return(r&31)<<16&4294967295|a}throw new ye},e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.GB2312_SUBSET=1,e}(),aT=function(){function e(t){this.mirrored=t}return e.prototype.isMirrored=function(){return this.mirrored},e.prototype.applyMirroredCorrection=function(t){if(!(!this.mirrored||t===null||t.length<3)){var r=t[0];t[0]=t[2],t[2]=r}},e}(),Vw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Dj=function(){function e(){this.rsDecoder=new Kh(Cn.QR_CODE_FIELD_256)}return e.prototype.decodeBooleanArray=function(t,r){return this.decodeBitMatrix(ai.parseFromBooleanArray(t),r)},e.prototype.decodeBitMatrix=function(t,r){var n=new Oj(t),a=null;try{return this.decodeBitMatrixParser(n,r)}catch(s){a=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var i=this.decodeBitMatrixParser(n,r);return i.setOther(new aT(!0)),i}catch(s){throw a!==null?a:s}},e.prototype.decodeBitMatrixParser=function(t,r){var n,a,i,s,o=t.readVersion(),c=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),u=Rj.getDataBlocks(l,o,c),f=0;try{for(var d=Vw(u),h=d.next();!h.done;h=d.next()){var v=h.value;f+=v.getNumDataCodewords()}}catch(A){n={error:A}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}var p=new Uint8Array(f),x=0;try{for(var y=Vw(u),w=y.next();!w.done;w=y.next()){var v=w.value,m=v.getCodewords(),_=v.getNumDataCodewords();this.correctErrors(m,_);for(var S=0;S<_;S++)p[x++]=m[S]}}catch(A){i={error:A}}finally{try{w&&!w.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}return Pj.decode(p,o,c,r)},e.prototype.correctErrors=function(t,r){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-r)}catch{throw new yr}for(var a=0;a<r;a++)t[a]=n[a]},e}(),Fj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mj=function(e){Fj(t,e);function t(r,n,a){var i=e.call(this,r,n)||this;return i.estimatedModuleSize=a,i}return t.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(r,n,a){var i=(this.getX()+n)/2,s=(this.getY()+r)/2,o=(this.estimatedModuleSize+a)/2;return new t(i,s,o)},t}(ke),Lj=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bj=function(){function e(t,r,n,a,i,s,o){this.image=t,this.startX=r,this.startY=n,this.width=a,this.height=i,this.moduleSize=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return e.prototype.find=function(){for(var t=this.startX,r=this.height,n=this.width,a=t+n,i=this.startY+r/2,s=new Int32Array(3),o=this.image,c=0;c<r;c++){var l=i+(c&1?-Math.floor((c+1)/2):Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var u=t;u<a&&!o.get(u,l);)u++;for(var f=0;u<a;){if(o.get(u,l))if(f===1)s[1]++;else if(f===2){if(this.foundPatternCross(s)){var d=this.handlePossibleCenter(s,l,u);if(d!==null)return d}s[0]=s[2],s[1]=1,s[2]=0,f=1}else s[++f]++;else f===1&&f++,s[f]++;u++}if(this.foundPatternCross(s)){var d=this.handlePossibleCenter(s,l,a);if(d!==null)return d}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ce},e.centerFromEnd=function(t,r){return r-t[2]-t[1]/2},e.prototype.foundPatternCross=function(t){for(var r=this.moduleSize,n=r/2,a=0;a<3;a++)if(Math.abs(r-t[a])>=n)return!1;return!0},e.prototype.crossCheckVertical=function(t,r,n,a){var i=this.image,s=i.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var c=t;c>=0&&i.get(r,c)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&!i.get(r,c)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=t+1;c<s&&i.get(r,c)&&o[1]<=n;)o[1]++,c++;if(c===s||o[1]>n)return NaN;for(;c<s&&!i.get(r,c)&&o[2]<=n;)o[2]++,c++;if(o[2]>n)return NaN;var l=o[0]+o[1]+o[2];return 5*Math.abs(l-a)>=2*a?NaN:this.foundPatternCross(o)?e.centerFromEnd(o,c):NaN},e.prototype.handlePossibleCenter=function(t,r,n){var a,i,s=t[0]+t[1]+t[2],o=e.centerFromEnd(t,n),c=this.crossCheckVertical(r,o,2*t[1],s);if(!isNaN(c)){var l=(t[0]+t[1]+t[2])/3;try{for(var u=Lj(this.possibleCenters),f=u.next();!f.done;f=u.next()){var d=f.value;if(d.aboutEquals(l,c,o))return d.combineEstimate(c,o,l)}}catch(v){a={error:v}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}var h=new Mj(o,c,l);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null},e}(),jj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Uj=function(e){jj(t,e);function t(r,n,a,i){var s=e.call(this,r,n)||this;return s.estimatedModuleSize=a,s.count=i,i===void 0&&(s.count=1),s}return t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(r,n,a){var i=this.count+1,s=(this.count*this.getX()+n)/i,o=(this.count*this.getY()+r)/i,c=(this.count*this.estimatedModuleSize+a)/i;return new t(s,o,c,i)},t}(ke),$j=function(){function e(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e}(),Ll=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Hj=function(){function e(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return e.prototype.getImage=function(){return this.image},e.prototype.getPossibleCenters=function(){return this.possibleCenters},e.prototype.find=function(t){var r=t!=null&&t.get(kt.TRY_HARDER)!==void 0,n=t!=null&&t.get(kt.PURE_BARCODE)!==void 0,a=this.image,i=a.getHeight(),s=a.getWidth(),o=Math.floor(3*i/(4*e.MAX_MODULES));(o<e.MIN_SKIP||r)&&(o=e.MIN_SKIP);for(var c=!1,l=new Int32Array(5),u=o-1;u<i&&!c;u+=o){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var f=0,d=0;d<s;d++)if(a.get(d,u))(f&1)===1&&f++,l[f]++;else if(f&1)l[f]++;else if(f===4)if(e.foundPatternCross(l)){var h=this.handlePossibleCenter(l,u,d,n);if(h===!0)if(o=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var v=this.findRowSkip();v>l[2]&&(u+=v-l[2]-o,d=s-1)}else{l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,f=3;continue}f=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,f=3;else l[++f]++;if(e.foundPatternCross(l)){var h=this.handlePossibleCenter(l,u,s,n);h===!0&&(o=l[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var p=this.selectBestPatterns();return ke.orderBestPatterns(p),new $j(p)},e.centerFromEnd=function(t,r){return r-t[4]-t[3]-t[2]/2},e.foundPatternCross=function(t){for(var r=0,n=0;n<5;n++){var a=t[n];if(a===0)return!1;r+=a}if(r<7)return!1;var i=r/7,s=i/2;return Math.abs(i-t[0])<s&&Math.abs(i-t[1])<s&&Math.abs(3*i-t[2])<3*s&&Math.abs(i-t[3])<s&&Math.abs(i-t[4])<s},e.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},e.prototype.crossCheckDiagonal=function(t,r,n,a){for(var i=this.getCrossCheckStateCount(),s=0,o=this.image;t>=s&&r>=s&&o.get(r-s,t-s);)i[2]++,s++;if(t<s||r<s)return!1;for(;t>=s&&r>=s&&!o.get(r-s,t-s)&&i[1]<=n;)i[1]++,s++;if(t<s||r<s||i[1]>n)return!1;for(;t>=s&&r>=s&&o.get(r-s,t-s)&&i[0]<=n;)i[0]++,s++;if(i[0]>n)return!1;var c=o.getHeight(),l=o.getWidth();for(s=1;t+s<c&&r+s<l&&o.get(r+s,t+s);)i[2]++,s++;if(t+s>=c||r+s>=l)return!1;for(;t+s<c&&r+s<l&&!o.get(r+s,t+s)&&i[3]<n;)i[3]++,s++;if(t+s>=c||r+s>=l||i[3]>=n)return!1;for(;t+s<c&&r+s<l&&o.get(r+s,t+s)&&i[4]<n;)i[4]++,s++;if(i[4]>=n)return!1;var u=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(u-a)<2*a&&e.foundPatternCross(i)},e.prototype.crossCheckVertical=function(t,r,n,a){for(var i=this.image,s=i.getHeight(),o=this.getCrossCheckStateCount(),c=t;c>=0&&i.get(r,c);)o[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(r,c)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&i.get(r,c)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=t+1;c<s&&i.get(r,c);)o[2]++,c++;if(c===s)return NaN;for(;c<s&&!i.get(r,c)&&o[3]<n;)o[3]++,c++;if(c===s||o[3]>=n)return NaN;for(;c<s&&i.get(r,c)&&o[4]<n;)o[4]++,c++;if(o[4]>=n)return NaN;var l=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(l-a)>=2*a?NaN:e.foundPatternCross(o)?e.centerFromEnd(o,c):NaN},e.prototype.crossCheckHorizontal=function(t,r,n,a){for(var i=this.image,s=i.getWidth(),o=this.getCrossCheckStateCount(),c=t;c>=0&&i.get(c,r);)o[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(c,r)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&i.get(c,r)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=t+1;c<s&&i.get(c,r);)o[2]++,c++;if(c===s)return NaN;for(;c<s&&!i.get(c,r)&&o[3]<n;)o[3]++,c++;if(c===s||o[3]>=n)return NaN;for(;c<s&&i.get(c,r)&&o[4]<n;)o[4]++,c++;if(o[4]>=n)return NaN;var l=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(l-a)>=a?NaN:e.foundPatternCross(o)?e.centerFromEnd(o,c):NaN},e.prototype.handlePossibleCenter=function(t,r,n,a){var i=t[0]+t[1]+t[2]+t[3]+t[4],s=e.centerFromEnd(t,n),o=this.crossCheckVertical(r,Math.floor(s),t[2],i);if(!isNaN(o)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(o),t[2],i),!isNaN(s)&&(!a||this.crossCheckDiagonal(Math.floor(o),Math.floor(s),t[2],i)))){for(var c=i/7,l=!1,u=this.possibleCenters,f=0,d=u.length;f<d;f++){var h=u[f];if(h.aboutEquals(c,o,s)){u[f]=h.combineEstimate(o,s,c),l=!0;break}}if(!l){var v=new Uj(s,o,c);u.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1},e.prototype.findRowSkip=function(){var t,r,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var i=Ll(this.possibleCenters),s=i.next();!s.done;s=i.next()){var o=s.value;if(o.getCount()>=e.CENTER_QUORUM)if(a==null)a=o;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-o.getX())-Math.abs(a.getY()-o.getY()))/2)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return 0},e.prototype.haveMultiplyConfirmedCenters=function(){var t,r,n,a,i=0,s=0,o=this.possibleCenters.length;try{for(var c=Ll(this.possibleCenters),l=c.next();!l.done;l=c.next()){var u=l.value;u.getCount()>=e.CENTER_QUORUM&&(i++,s+=u.getEstimatedModuleSize())}}catch(p){t={error:p}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}if(i<3)return!1;var f=s/o,d=0;try{for(var h=Ll(this.possibleCenters),v=h.next();!v.done;v=h.next()){var u=v.value;d+=Math.abs(u.getEstimatedModuleSize()-f)}}catch(p){n={error:p}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}return d<=.05*s},e.prototype.selectBestPatterns=function(){var t,r,n,a,i=this.possibleCenters.length;if(i<3)throw new ce;var s=this.possibleCenters,o;if(i>3){var c=0,l=0;try{for(var u=Ll(this.possibleCenters),f=u.next();!f.done;f=u.next()){var d=f.value,h=d.getEstimatedModuleSize();c+=h,l+=h*h}}catch(S){t={error:S}}finally{try{f&&!f.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}o=c/i;var v=Math.sqrt(l/i-o*o);s.sort(function(S,A){var C=Math.abs(A.getEstimatedModuleSize()-o),b=Math.abs(S.getEstimatedModuleSize()-o);return C<b?-1:C>b?1:0});for(var p=Math.max(.2*o,v),x=0;x<s.length&&s.length>3;x++){var y=s[x];Math.abs(y.getEstimatedModuleSize()-o)>p&&(s.splice(x,1),x--)}}if(s.length>3){var c=0;try{for(var w=Ll(s),m=w.next();!m.done;m=w.next()){var _=m.value;c+=_.getEstimatedModuleSize()}}catch(A){n={error:A}}finally{try{m&&!m.done&&(a=w.return)&&a.call(w)}finally{if(n)throw n.error}}o=c/s.length,s.sort(function(A,C){if(C.getCount()===A.getCount()){var b=Math.abs(C.getEstimatedModuleSize()-o),T=Math.abs(A.getEstimatedModuleSize()-o);return b<T?1:b>T?-1:0}else return C.getCount()-A.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},e.CENTER_QUORUM=2,e.MIN_SKIP=3,e.MAX_MODULES=57,e}(),Vj=function(){function e(t){this.image=t}return e.prototype.getImage=function(){return this.image},e.prototype.getResultPointCallback=function(){return this.resultPointCallback},e.prototype.detect=function(t){this.resultPointCallback=t==null?null:t.get(kt.NEED_RESULT_POINT_CALLBACK);var r=new Hj(this.image,this.resultPointCallback),n=r.find(t);return this.processFinderPatternInfo(n)},e.prototype.processFinderPatternInfo=function(t){var r=t.getTopLeft(),n=t.getTopRight(),a=t.getBottomLeft(),i=this.calculateModuleSize(r,n,a);if(i<1)throw new ce("No pattern found in proccess finder.");var s=e.computeDimension(r,n,a,i),o=vo.getProvisionalVersionForDimension(s),c=o.getDimensionForVersion()-7,l=null;if(o.getAlignmentPatternCenters().length>0)for(var u=n.getX()-r.getX()+a.getX(),f=n.getY()-r.getY()+a.getY(),d=1-3/c,h=Math.floor(r.getX()+d*(u-r.getX())),v=Math.floor(r.getY()+d*(f-r.getY())),p=4;p<=16;p<<=1)try{l=this.findAlignmentInRegion(i,h,v,p);break}catch(m){if(!(m instanceof ce))throw m}var x=e.createTransform(r,n,a,l,s),y=e.sampleGrid(this.image,x,s),w;return l===null?w=[a,r,n]:w=[a,r,n,l],new pm(y,w)},e.createTransform=function(t,r,n,a,i){var s=i-3.5,o,c,l,u;return a!==null?(o=a.getX(),c=a.getY(),l=s-3,u=l):(o=r.getX()-t.getX()+n.getX(),c=r.getY()-t.getY()+n.getY(),l=s,u=s),Qb.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,l,u,3.5,s,t.getX(),t.getY(),r.getX(),r.getY(),o,c,n.getX(),n.getY())},e.sampleGrid=function(t,r,n){var a=vm.getInstance();return a.sampleGridWithTransform(t,n,n,r)},e.computeDimension=function(t,r,n,a){var i=at.round(ke.distance(t,r)/a),s=at.round(ke.distance(t,n)/a),o=Math.floor((i+s)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new ce("Dimensions could be not found.")}return o},e.prototype.calculateModuleSize=function(t,r,n){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,n))/2},e.prototype.calculateModuleSizeOneWay=function(t,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},e.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,r,n,a){var i=this.sizeOfBlackWhiteBlackRun(t,r,n,a),s=1,o=t-(n-t);o<0?(s=t/(t-o),o=0):o>=this.image.getWidth()&&(s=(this.image.getWidth()-1-t)/(o-t),o=this.image.getWidth()-1);var c=Math.floor(r-(a-r)*s);return s=1,c<0?(s=r/(r-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),o=Math.floor(t+(o-t)*s),i+=this.sizeOfBlackWhiteBlackRun(t,r,o,c),i-1},e.prototype.sizeOfBlackWhiteBlackRun=function(t,r,n,a){var i=Math.abs(a-r)>Math.abs(n-t);if(i){var s=t;t=r,r=s,s=n,n=a,a=s}for(var o=Math.abs(n-t),c=Math.abs(a-r),l=-o/2,u=t<n?1:-1,f=r<a?1:-1,d=0,h=n+u,v=t,p=r;v!==h;v+=u){var x=i?p:v,y=i?v:p;if(d===1===this.image.get(x,y)){if(d===2)return at.distance(v,p,t,r);d++}if(l+=c,l>0){if(p===a)break;p+=f,l-=o}}return d===2?at.distance(n+u,a,t,r):NaN},e.prototype.findAlignmentInRegion=function(t,r,n,a){var i=Math.floor(a*t),s=Math.max(0,r-i),o=Math.min(this.image.getWidth()-1,r+i);if(o-s<t*3)throw new ce("Alignment top exceeds estimated module size.");var c=Math.max(0,n-i),l=Math.min(this.image.getHeight()-1,n+i);if(l-c<t*3)throw new ce("Alignment bottom exceeds estimated module size.");var u=new Bj(this.image,s,c,o-s,l-c,t,this.resultPointCallback);return u.find()},e}(),cg=function(){function e(){this.decoder=new Dj}return e.prototype.getDecoder=function(){return this.decoder},e.prototype.decode=function(t,r){var n,a;if(r!=null&&r.get(kt.PURE_BARCODE)!==void 0){var i=e.extractPureBits(t.getBlackMatrix());n=this.decoder.decodeBitMatrix(i,r),a=e.NO_POINTS}else{var s=new Vj(t.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(s.getBits(),r),a=s.getPoints()}n.getOther()instanceof aT&&n.getOther().applyMirroredCorrection(a);var o=new Zr(n.getText(),n.getRawBytes(),void 0,a,Ie.QR_CODE,void 0),c=n.getByteSegments();c!==null&&o.putMetadata(Nr.BYTE_SEGMENTS,c);var l=n.getECLevel();return l!==null&&o.putMetadata(Nr.ERROR_CORRECTION_LEVEL,l),n.hasStructuredAppend()&&(o.putMetadata(Nr.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),o.putMetadata(Nr.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),o},e.prototype.reset=function(){},e.extractPureBits=function(t){var r=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(r===null||n===null)throw new ce;var a=this.moduleSize(r,t),i=r[1],s=n[1],o=r[0],c=n[0];if(o>=c||i>=s)throw new ce;if(s-i!==c-o&&(c=o+(s-i),c>=t.getWidth()))throw new ce;var l=Math.round((c-o+1)/a),u=Math.round((s-i+1)/a);if(l<=0||u<=0)throw new ce;if(u!==l)throw new ce;var f=Math.floor(a/2);i+=f,o+=f;var d=o+Math.floor((l-1)*a)-c;if(d>0){if(d>f)throw new ce;o-=d}var h=i+Math.floor((u-1)*a)-s;if(h>0){if(h>f)throw new ce;i-=h}for(var v=new ai(l,u),p=0;p<u;p++)for(var x=i+Math.floor(p*a),y=0;y<l;y++)t.get(o+Math.floor(y*a),x)&&v.set(y,p);return v},e.moduleSize=function(t,r){for(var n=r.getHeight(),a=r.getWidth(),i=t[0],s=t[1],o=!0,c=0;i<a&&s<n;){if(o!==r.get(i,s)){if(++c===5)break;o=!o}i++,s++}if(i===a||s===n)throw new ce;return(i-t[0])/7},e.NO_POINTS=new Array,e}(),zj=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Je=function(){function e(){}return e.prototype.PDF417Common=function(){},e.getBitCountSum=function(t){return at.sum(t)},e.toIntArray=function(t){var r,n;if(t==null||!t.length)return e.EMPTY_INT_ARRAY;var a=new Int32Array(t.length),i=0;try{for(var s=zj(t),o=s.next();!o.done;o=s.next()){var c=o.value;a[i++]=c}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},e.getCodeword=function(t){var r=or.binarySearch(e.SYMBOL_TABLE,t&262143);return r<0?-1:(e.CODEWORD_TABLE[r]-1)%e.NUMBER_OF_CODEWORDS},e.NUMBER_OF_CODEWORDS=929,e.MAX_CODEWORDS_IN_BARCODE=e.NUMBER_OF_CODEWORDS-1,e.MIN_ROWS_IN_BARCODE=3,e.MAX_ROWS_IN_BARCODE=90,e.MODULES_IN_CODEWORD=17,e.MODULES_IN_STOP_PATTERN=18,e.BARS_IN_MODULE=8,e.EMPTY_INT_ARRAY=new Int32Array([]),e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),e}(),Wj=function(){function e(t,r){this.bits=t,this.points=r}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),Gj=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xj=function(){function e(){}return e.detectMultiple=function(t,r,n){var a=t.getBlackMatrix(),i=e.detect(n,a);return i.length||(a=a.clone(),a.rotate180(),i=e.detect(n,a)),new Wj(a,i)},e.detect=function(t,r){for(var n,a,i=new Array,s=0,o=0,c=!1;s<r.getHeight();){var l=e.findVertices(r,s,o);if(l[0]==null&&l[3]==null){if(!c)break;c=!1,o=0;try{for(var u=(n=void 0,Gj(i)),f=u.next();!f.done;f=u.next()){var d=f.value;d[1]!=null&&(s=Math.trunc(Math.max(s,d[1].getY()))),d[3]!=null&&(s=Math.max(s,Math.trunc(d[3].getY())))}}catch(h){n={error:h}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}s+=e.ROW_STEP;continue}if(c=!0,i.push(l),!t)break;l[2]!=null?(o=Math.trunc(l[2].getX()),s=Math.trunc(l[2].getY())):(o=Math.trunc(l[4].getX()),s=Math.trunc(l[4].getY()))}return i},e.findVertices=function(t,r,n){var a=t.getHeight(),i=t.getWidth(),s=new Array(8);return e.copyToResult(s,e.findRowsWithPattern(t,a,i,r,n,e.START_PATTERN),e.INDEXES_START_PATTERN),s[4]!=null&&(n=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY())),e.copyToResult(s,e.findRowsWithPattern(t,a,i,r,n,e.STOP_PATTERN),e.INDEXES_STOP_PATTERN),s},e.copyToResult=function(t,r,n){for(var a=0;a<n.length;a++)t[n[a]]=r[a]},e.findRowsWithPattern=function(t,r,n,a,i,s){for(var o=new Array(4),c=!1,l=new Int32Array(s.length);a<r;a+=e.ROW_STEP){var u=e.findGuardPattern(t,i,a,n,!1,s,l);if(u!=null){for(;a>0;){var f=e.findGuardPattern(t,i,--a,n,!1,s,l);if(f!=null)u=f;else{a++;break}}o[0]=new ke(u[0],a),o[1]=new ke(u[1],a),c=!0;break}}var d=a+1;if(c){for(var h=0,f=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);d<r;d++){var u=e.findGuardPattern(t,f[0],d,n,!1,s,l);if(u!=null&&Math.abs(f[0]-u[0])<e.MAX_PATTERN_DRIFT&&Math.abs(f[1]-u[1])<e.MAX_PATTERN_DRIFT)f=u,h=0;else{if(h>e.SKIPPED_ROW_COUNT_MAX)break;h++}}d-=h+1,o[2]=new ke(f[0],d),o[3]=new ke(f[1],d)}return d-a<e.BARCODE_MIN_HEIGHT&&or.fill(o,null),o},e.findGuardPattern=function(t,r,n,a,i,s,o){or.fillWithin(o,0,o.length,0);for(var c=r,l=0;t.get(c,n)&&c>0&&l++<e.MAX_PIXEL_DRIFT;)c--;for(var u=c,f=0,d=s.length,h=i;u<a;u++){var v=t.get(u,n);if(v!==h)o[f]++;else{if(f===d-1){if(e.patternMatchVariance(o,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return new Int32Array([c,u]);c+=o[0]+o[1],yt.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,h=!h}}return f===d-1&&e.patternMatchVariance(o,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE?new Int32Array([c,u-1]):null},e.patternMatchVariance=function(t,r,n){for(var a=t.length,i=0,s=0,o=0;o<a;o++)i+=t[o],s+=r[o];if(i<s)return 1/0;var c=i/s;n*=c;for(var l=0,u=0;u<a;u++){var f=t[u],d=r[u]*c,h=f>d?f-d:d-f;if(h>n)return 1/0;l+=h}return l/i},e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),e.MAX_AVG_VARIANCE=.42,e.MAX_INDIVIDUAL_VARIANCE=.8,e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),e.MAX_PIXEL_DRIFT=3,e.MAX_PATTERN_DRIFT=5,e.SKIPPED_ROW_COUNT_MAX=25,e.ROW_STEP=5,e.BARCODE_MIN_HEIGHT=10,e}(),Kj=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ro=function(){function e(t,r){if(r.length===0)throw new Oe;this.field=t;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),yt.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},e.prototype.evaluateAt=function(t){var r,n;if(t===0)return this.getCoefficient(0);if(t===1){var a=0;try{for(var i=Kj(this.coefficients),s=i.next();!s.done;s=i.next()){var o=s.value;a=this.field.add(a,o)}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}for(var c=this.coefficients[0],l=this.coefficients.length,u=1;u<l;u++)c=this.field.add(this.field.multiply(t,c),this.coefficients[u]);return c},e.prototype.add=function(t){if(!this.field.equals(t.field))throw new Oe("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var r=this.coefficients,n=t.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),s=n.length-r.length;yt.arraycopy(n,0,i,0,s);for(var o=s;o<n.length;o++)i[o]=this.field.add(r[o-s],n[o]);return new e(this.field,i)},e.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new Oe("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},e.prototype.multiply=function(t){return t instanceof e?this.multiplyOther(t):this.multiplyScalar(t)},e.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new Oe("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new e(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,a=t.coefficients,i=a.length,s=new Int32Array(n+i-1),o=0;o<n;o++)for(var c=r[o],l=0;l<i;l++)s[o+l]=this.field.add(s[o+l],this.field.multiply(c,a[l]));return new e(this.field,s)},e.prototype.negative=function(){for(var t=this.coefficients.length,r=new Int32Array(t),n=0;n<t;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new e(this.field,r)},e.prototype.multiplyScalar=function(t){if(t===0)return new e(this.field,new Int32Array([0]));if(t===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),a=0;a<r;a++)n[a]=this.field.multiply(this.coefficients[a],t);return new e(this.field,n)},e.prototype.multiplyByMonomial=function(t,r){if(t<0)throw new Oe;if(r===0)return new e(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+t),i=0;i<n;i++)a[i]=this.field.multiply(this.coefficients[i],r);return new e(this.field,a)},e.prototype.toString=function(){for(var t=new We,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(t.append(" - "),n=-n):t.length()>0&&t.append(" + "),(r===0||n!==1)&&t.append(n),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()},e}(),Yj=function(){function e(){}return e.prototype.add=function(t,r){return(t+r)%this.modulus},e.prototype.subtract=function(t,r){return(this.modulus+t-r)%this.modulus},e.prototype.exp=function(t){return this.expTable[t]},e.prototype.log=function(t){if(t===0)throw new Oe;return this.logTable[t]},e.prototype.inverse=function(t){if(t===0)throw new Zb;return this.expTable[this.modulus-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]},e.prototype.getSize=function(){return this.modulus},e.prototype.equals=function(t){return t===this},e}(),qj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zj=function(e){qj(t,e);function t(r,n){var a=e.call(this)||this;a.modulus=r,a.expTable=new Int32Array(r),a.logTable=new Int32Array(r);for(var i=1,s=0;s<r;s++)a.expTable[s]=i,i=i*n%r;for(var s=0;s<r-1;s++)a.logTable[a.expTable[s]]=s;return a.zero=new ro(a,new Int32Array([0])),a.one=new ro(a,new Int32Array([1])),a}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(r,n){if(r<0)throw new Oe;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new ro(this,a)},t.PDF417_GF=new t(Je.NUMBER_OF_CODEWORDS,3),t}(Yj),Qj=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Jj=function(){function e(){this.field=Zj.PDF417_GF}return e.prototype.decode=function(t,r,n){for(var a,i,s=new ro(this.field,t),o=new Int32Array(r),c=!1,l=r;l>0;l--){var u=s.evaluateAt(this.field.exp(l));o[r-l]=u,u!==0&&(c=!0)}if(!c)return 0;var f=this.field.getOne();if(n!=null)try{for(var d=Qj(n),h=d.next();!h.done;h=d.next()){var v=h.value,p=this.field.exp(t.length-1-v),x=new ro(this.field,new Int32Array([this.field.subtract(0,p),1]));f=f.multiply(x)}}catch(b){a={error:b}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}for(var y=new ro(this.field,o),w=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),y,r),m=w[0],_=w[1],S=this.findErrorLocations(m),A=this.findErrorMagnitudes(_,m,S),l=0;l<S.length;l++){var C=t.length-1-this.field.log(S[l]);if(C<0)throw yr.getChecksumInstance();t[C]=this.field.subtract(t[C],A[l])}return S.length},e.prototype.runEuclideanAlgorithm=function(t,r,n){if(t.getDegree()<r.getDegree()){var a=t;t=r,r=a}for(var i=t,s=r,o=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(n/2);){var l=i,u=o;if(i=s,o=c,i.isZero())throw yr.getChecksumInstance();s=l;for(var f=this.field.getZero(),d=i.getCoefficient(i.getDegree()),h=this.field.inverse(d);s.getDegree()>=i.getDegree()&&!s.isZero();){var v=s.getDegree()-i.getDegree(),p=this.field.multiply(s.getCoefficient(s.getDegree()),h);f=f.add(this.field.buildMonomial(v,p)),s=s.subtract(i.multiplyByMonomial(v,p))}c=f.multiply(o).subtract(u).negative()}var x=c.getCoefficient(0);if(x===0)throw yr.getChecksumInstance();var y=this.field.inverse(x),w=c.multiply(y),m=s.multiply(y);return[w,m]},e.prototype.findErrorLocations=function(t){for(var r=t.getDegree(),n=new Int32Array(r),a=0,i=1;i<this.field.getSize()&&a<r;i++)t.evaluateAt(i)===0&&(n[a]=this.field.inverse(i),a++);if(a!==r)throw yr.getChecksumInstance();return n},e.prototype.findErrorMagnitudes=function(t,r,n){for(var a=r.getDegree(),i=new Int32Array(a),s=1;s<=a;s++)i[a-s]=this.field.multiply(s,r.getCoefficient(s));for(var o=new ro(this.field,i),c=n.length,l=new Int32Array(c),s=0;s<c;s++){var u=this.field.inverse(n[s]),f=this.field.subtract(0,t.evaluateAt(u)),d=this.field.inverse(o.evaluateAt(u));l[s]=this.field.multiply(f,d)}return l},e}(),lg=function(){function e(t,r,n,a,i){t instanceof e?this.constructor_2(t):this.constructor_1(t,r,n,a,i)}return e.prototype.constructor_1=function(t,r,n,a,i){var s=r==null||n==null,o=a==null||i==null;if(s&&o)throw new ce;s?(r=new ke(0,a.getY()),n=new ke(0,i.getY())):o&&(a=new ke(t.getWidth()-1,r.getY()),i=new ke(t.getWidth()-1,n.getY())),this.image=t,this.topLeft=r,this.bottomLeft=n,this.topRight=a,this.bottomRight=i,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),i.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))},e.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},e.merge=function(t,r){return t==null?r:r==null?t:new e(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)},e.prototype.addMissingRows=function(t,r,n){var a=this.topLeft,i=this.bottomLeft,s=this.topRight,o=this.bottomRight;if(t>0){var c=n?this.topLeft:this.topRight,l=Math.trunc(c.getY()-t);l<0&&(l=0);var u=new ke(c.getX(),l);n?a=u:s=u}if(r>0){var f=n?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+r);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var h=new ke(f.getX(),d);n?i=h:o=h}return new e(this.image,a,i,s,o)},e.prototype.getMinX=function(){return this.minX},e.prototype.getMaxX=function(){return this.maxX},e.prototype.getMinY=function(){return this.minY},e.prototype.getMaxY=function(){return this.maxY},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getBottomRight=function(){return this.bottomRight},e}(),eU=function(){function e(t,r,n,a){this.columnCount=t,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return e.prototype.getColumnCount=function(){return this.columnCount},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},e.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},e}(),xm=function(){function e(){this.buffer=""}return e.form=function(t,r){var n=-1;function a(s,o,c,l,u,f){if(s==="%%")return"%";if(r[++n]!==void 0){s=l?parseInt(l.substr(1)):void 0;var d=u?parseInt(u.substr(1)):void 0,h;switch(f){case"s":h=r[n];break;case"c":h=r[n][0];break;case"f":h=parseFloat(r[n]).toFixed(s);break;case"p":h=parseFloat(r[n]).toPrecision(s);break;case"e":h=parseFloat(r[n]).toExponential(s);break;case"x":h=parseInt(r[n]).toString(d||16);break;case"d":h=parseFloat(parseInt(r[n],d||10).toPrecision(s)).toFixed(0);break}h=typeof h=="object"?JSON.stringify(h):(+h).toString(d);for(var v=parseInt(c),p=c&&c[0]+""=="0"?"0":" ";h.length<v;)h=o!==void 0?h+p:p+h;return h}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(i,a)},e.prototype.format=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=e.form(t,r)},e.prototype.toString=function(){return this.buffer},e}(),tU=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},iT=function(){function e(t){this.boundingBox=new lg(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return e.prototype.getCodewordNearby=function(t){var r=this.getCodeword(t);if(r!=null)return r;for(var n=1;n<e.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(t)-n;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(t)+n,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null},e.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},e.prototype.setCodeword=function(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r},e.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.getCodewords=function(){return this.codewords},e.prototype.toString=function(){var t,r,n=new xm,a=0;try{for(var i=tU(this.codewords),s=i.next();!s.done;s=i.next()){var o=s.value;if(o==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,o.getRowNumber(),o.getValue())}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n.toString()},e.MAX_NEARBY_DISTANCE=5,e}(),rU=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nU=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Kl=function(){function e(){this.values=new Map}return e.prototype.setValue=function(t){t=Math.trunc(t);var r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)},e.prototype.getValue=function(){var t,r,n=-1,a=new Array,i=function(f,d){var h={getKey:function(){return f},getValue:function(){return d}};h.getValue()>n?(n=h.getValue(),a=[],a.push(h.getKey())):h.getValue()===n&&a.push(h.getKey())};try{for(var s=rU(this.values.entries()),o=s.next();!o.done;o=s.next()){var c=nU(o.value,2),l=c[0],u=c[1];i(l,u)}}catch(f){t={error:f}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return Je.toIntArray(a)},e.prototype.getConfidence=function(t){return this.values.get(t)},e}(),aU=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ip=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zw=function(e){aU(t,e);function t(r,n){var a=e.call(this,r)||this;return a._isLeft=n,a}return t.prototype.setRowNumbers=function(){var r,n;try{for(var a=ip(this.getCodewords()),i=a.next();!i.done;i=a.next()){var s=i.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),l=-1,u=1,f=0,d=o;d<c;d++)if(n[d]!=null){var h=n[d],v=h.getRowNumber()-l;if(v===0)f++;else if(v===1)u=Math.max(u,f),f=1,l=h.getRowNumber();else if(v<0||h.getRowNumber()>=r.getRowCount()||v>d)n[d]=null;else{var p=void 0;u>2?p=(u-2)*v:p=v;for(var x=p>=d,y=1;y<=p&&!x;y++)x=n[d-y]!=null;x?n[d]=null:(l=h.getRowNumber(),f=1)}}},t.prototype.getRowHeights=function(){var r,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var i=new Int32Array(a.getRowCount());try{for(var s=ip(this.getCodewords()),o=s.next();!o.done;o=s.next()){var c=o.value;if(c!=null){var l=c.getRowNumber();if(l>=i.length)continue;i[l]++}}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),l=-1,u=s;u<o;u++)if(c[u]!=null){var f=c[u];f.setRowNumberAsRowIndicatorColumn();var d=f.getRowNumber()-l;d===0||(d===1?l=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?c[u]=null:l=f.getRowNumber())}},t.prototype.getBarcodeMetadata=function(){var r,n,a=this.getCodewords(),i=new Kl,s=new Kl,o=new Kl,c=new Kl;try{for(var l=ip(a),u=l.next();!u.done;u=l.next()){var f=u.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var d=f.getValue()%30,h=f.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:s.setValue(d*3+1);break;case 1:c.setValue(d/3),o.setValue(d%3);break;case 2:i.setValue(d+1);break}}}}catch(p){r={error:p}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}if(i.getValue().length===0||s.getValue().length===0||o.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<Je.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>Je.MAX_ROWS_IN_BARCODE)return null;var v=new eU(i.getValue()[0],s.getValue()[0],o.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(a,v),v},t.prototype.removeIncorrectCodewords=function(r,n){for(var a=0;a<r.length;a++){var i=r[a];if(r[a]!=null){var s=i.getValue()%30,o=i.getRowNumber();if(o>n.getRowCount()){r[a]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(r[a]=null);break;case 2:s+1!==n.getColumnCount()&&(r[a]=null);break}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+e.prototype.toString.call(this)},t}(iT),iU=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sU=function(){function e(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return e.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t=Je.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns},e.prototype.adjustIndicatorColumnRowNumbers=function(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},e.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(t===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,n));return t},e.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var t=this.adjustRowNumbersFromLRI();return t+this.adjustRowNumbersFromRRI()},e.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null&&r[n]!=null&&t[n].getRowNumber()===r[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var i=this.detectionResultColumns[a].getCodewords()[n];i!=null&&(i.setRowNumber(t[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},e.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,s=this.barcodeColumnCount+1;s>0&&i<this.ADJUST_ROW_NUMBER_SKIP;s--){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(i=e.adjustRowNumberIfValid(a,i,o),o.hasValidRowNumber()||t++)}return t},e.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var t=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,s=1;s<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;s++){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(i=e.adjustRowNumberIfValid(a,i,o),o.hasValidRowNumber()||t++)}return t},e.adjustRowNumberIfValid=function(t,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(t)?(n.setRowNumber(t),r=0):++r),r},e.prototype.adjustRowNumbers=function(t,r,n){var a,i;if(this.detectionResultColumns[t-1]!=null){var s=n[r],o=this.detectionResultColumns[t-1].getCodewords(),c=o;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());var l=new Array(14);l[2]=o[r],l[3]=c[r],r>0&&(l[0]=n[r-1],l[4]=o[r-1],l[5]=c[r-1]),r>1&&(l[8]=n[r-2],l[10]=o[r-2],l[11]=c[r-2]),r<n.length-1&&(l[1]=n[r+1],l[6]=o[r+1],l[7]=c[r+1]),r<n.length-2&&(l[9]=n[r+2],l[12]=o[r+2],l[13]=c[r+2]);try{for(var u=iU(l),f=u.next();!f.done;f=u.next()){var d=f.value;if(e.adjustRowNumber(s,d))return}}catch(h){a={error:h}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}}},e.adjustRowNumber=function(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1},e.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},e.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},e.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},e.prototype.setBoundingBox=function(t){this.boundingBox=t},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.setDetectionResultColumn=function(t,r){this.detectionResultColumns[t]=r},e.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},e.prototype.toString=function(){var t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new xm,n=0;n<t.getCodewords().length;n++){r.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}var i=this.detectionResultColumns[a].getCodewords()[n];if(i==null){r.format("    |   ");continue}r.format(" %3d|%3d",i.getRowNumber(),i.getValue())}r.format("%n")}return r.toString()},e}(),oU=function(){function e(t,r,n,a){this.rowNumber=e.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return e.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},e.prototype.isValidRowNumber=function(t){return t!==e.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},e.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},e.prototype.getWidth=function(){return this.endX-this.startX},e.prototype.getStartX=function(){return this.startX},e.prototype.getEndX=function(){return this.endX},e.prototype.getBucket=function(){return this.bucket},e.prototype.getValue=function(){return this.value},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.setRowNumber=function(t){this.rowNumber=t},e.prototype.toString=function(){return this.rowNumber+"|"+this.value},e.BARCODE_ROW_UNKNOWN=-1,e}(),cU=function(){function e(){}return e.initialize=function(){for(var t=0;t<Je.SYMBOL_TABLE.length;t++)for(var r=Je.SYMBOL_TABLE[t],n=r&1,a=0;a<Je.BARS_IN_MODULE;a++){for(var i=0;(r&1)===n;)i+=1,r>>=1;n=r&1,e.RATIOS_TABLE[t]||(e.RATIOS_TABLE[t]=new Array(Je.BARS_IN_MODULE)),e.RATIOS_TABLE[t][Je.BARS_IN_MODULE-a-1]=Math.fround(i/Je.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},e.getDecodedValue=function(t){var r=e.getDecodedCodewordValue(e.sampleBitCounts(t));return r!==-1?r:e.getClosestDecodedValue(t)},e.sampleBitCounts=function(t){for(var r=at.sum(t),n=new Int32Array(Je.BARS_IN_MODULE),a=0,i=0,s=0;s<Je.MODULES_IN_CODEWORD;s++){var o=r/(2*Je.MODULES_IN_CODEWORD)+s*r/Je.MODULES_IN_CODEWORD;i+t[a]<=o&&(i+=t[a],a++),n[a]++}return n},e.getDecodedCodewordValue=function(t){var r=e.getBitValue(t);return Je.getCodeword(r)===-1?-1:r},e.getBitValue=function(t){for(var r=0,n=0;n<t.length;n++)for(var a=0;a<t[n];a++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},e.getClosestDecodedValue=function(t){var r=at.sum(t),n=new Array(Je.BARS_IN_MODULE);if(r>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(t[a]/r);var i=ng.MAX_VALUE,s=-1;this.bSymbolTableReady||e.initialize();for(var o=0;o<e.RATIOS_TABLE.length;o++){for(var c=0,l=e.RATIOS_TABLE[o],u=0;u<Je.BARS_IN_MODULE;u++){var f=Math.fround(l[u]-n[u]);if(c+=Math.fround(f*f),c>=i)break}c<i&&(i=c,s=Je.SYMBOL_TABLE[o])}return s},e.bSymbolTableReady=!1,e.RATIOS_TABLE=new Array(Je.SYMBOL_TABLE.length).map(function(t){return new Array(Je.BARS_IN_MODULE)}),e}(),lU=function(){function e(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return e.prototype.getSegmentIndex=function(){return this.segmentIndex},e.prototype.setSegmentIndex=function(t){this.segmentIndex=t},e.prototype.getFileId=function(){return this.fileId},e.prototype.setFileId=function(t){this.fileId=t},e.prototype.getOptionalData=function(){return this.optionalData},e.prototype.setOptionalData=function(t){this.optionalData=t},e.prototype.isLastSegment=function(){return this.lastSegment},e.prototype.setLastSegment=function(t){this.lastSegment=t},e.prototype.getSegmentCount=function(){return this.segmentCount},e.prototype.setSegmentCount=function(t){this.segmentCount=t},e.prototype.getSender=function(){return this.sender||null},e.prototype.setSender=function(t){this.sender=t},e.prototype.getAddressee=function(){return this.addressee||null},e.prototype.setAddressee=function(t){this.addressee=t},e.prototype.getFileName=function(){return this.fileName},e.prototype.setFileName=function(t){this.fileName=t},e.prototype.getFileSize=function(){return this.fileSize},e.prototype.setFileSize=function(t){this.fileSize=t},e.prototype.getChecksum=function(){return this.checksum},e.prototype.setChecksum=function(t){this.checksum=t},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.setTimestamp=function(t){this.timestamp=t},e}(),Ww=function(){function e(){}return e.parseLong=function(t,r){return r===void 0&&(r=void 0),parseInt(t,r)},e}(),uU=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fU=function(e){uU(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="NullPointerException",t}(kn),dU=function(){function e(){}return e.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},e.prototype.writeBytesOffset=function(t,r,n){if(t==null)throw new fU;if(r<0||r>t.length||n<0||r+n>t.length||r+n<0)throw new dm;if(n===0)return;for(var a=0;a<n;a++)this.write(t[r+a])},e.prototype.flush=function(){},e.prototype.close=function(){},e}(),hU=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pU=function(e){hU(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(kn),vU=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gU=function(e){vU(t,e);function t(r){r===void 0&&(r=32);var n=e.call(this)||this;if(n.count=0,r<0)throw new Oe("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return t.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},t.prototype.grow=function(r){var n=this.buf.length,a=n<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new pU;a=Ge.MAX_VALUE}this.buf=or.copyOfUint8Array(this.buf,a)},t.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},t.prototype.writeBytesOffset=function(r,n,a){if(n<0||n>r.length||a<0||n+a-r.length>0)throw new dm;this.ensureCapacity(this.count+a),yt.arraycopy(r,n,this.buf,this.count,a),this.count+=a},t.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return or.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(r){return new String(this.buf).toString()},t.prototype.toString_number=function(r){return new String(this.buf).toString()},t.prototype.close=function(){},t}(dU),pt;(function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(pt||(pt={}));function sT(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var _0;function Zi(e){if(typeof _0>"u"&&(_0=sT()),_0===null)throw new Error("BigInt is not supported!");return _0(e)}function xU(){var e=[];e[0]=Zi(1);var t=Zi(900);e[1]=t;for(var r=2;r<16;r++)e[r]=e[r-1]*t;return e}var mU=function(){function e(){}return e.decode=function(t,r){var n=new We(""),a=ir.ISO8859_1;n.enableDecoding(a);for(var i=1,s=t[i++],o=new lU;i<t[0];){switch(s){case e.TEXT_COMPACTION_MODE_LATCH:i=e.textCompaction(t,i,n);break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:i=e.byteCompaction(s,t,a,i,n);break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[i++]);break;case e.NUMERIC_COMPACTION_MODE_LATCH:i=e.numericCompaction(t,i,n);break;case e.ECI_CHARSET:ir.getCharacterSetECIByValue(t[i++]);break;case e.ECI_GENERAL_PURPOSE:i+=2;break;case e.ECI_USER_DEFINED:i++;break;case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=e.decodeMacroBlock(t,i,o);break;case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:throw new ye;default:i--,i=e.textCompaction(t,i,n);break}if(i<t.length)s=t[i++];else throw ye.getFormatInstance()}if(n.length()===0)throw ye.getFormatInstance();var c=new Xh(null,n.toString(),null,r);return c.setOther(o),c},e.decodeMacroBlock=function(t,r,n){if(r+e.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ye.getFormatInstance();for(var a=new Int32Array(e.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<e.NUMBER_OF_SEQUENCE_CODEWORDS;i++,r++)a[i]=t[r];n.setSegmentIndex(Ge.parseInt(e.decodeBase900toBase10(a,e.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new We;r=e.textCompaction(t,r,s),n.setFileId(s.toString());var o=-1;for(t[r]===e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=r+1);r<t[0];)switch(t[r]){case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new We;r=e.textCompaction(t,r+1,c),n.setFileName(c.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new We;r=e.textCompaction(t,r+1,l),n.setSender(l.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new We;r=e.textCompaction(t,r+1,u),n.setAddressee(u.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new We;r=e.numericCompaction(t,r+1,f),n.setSegmentCount(Ge.parseInt(f.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new We;r=e.numericCompaction(t,r+1,d),n.setTimestamp(Ww.parseLong(d.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var h=new We;r=e.numericCompaction(t,r+1,h),n.setChecksum(Ge.parseInt(h.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var v=new We;r=e.numericCompaction(t,r+1,v),n.setFileSize(Ww.parseLong(v.toString()));break;default:throw ye.getFormatInstance()}break;case e.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw ye.getFormatInstance()}if(o!==-1){var p=r-o;n.isLastSegment()&&p--,n.setOptionalData(or.copyOfRange(t,o,o+p))}return r},e.textCompaction=function(t,r,n){for(var a=new Int32Array((t[0]-r)*2),i=new Int32Array((t[0]-r)*2),s=0,o=!1;r<t[0]&&!o;){var c=t[r++];if(c<e.TEXT_COMPACTION_MODE_LATCH)a[s]=c/30,a[s+1]=c%30,s+=2;else switch(c){case e.TEXT_COMPACTION_MODE_LATCH:a[s++]=e.TEXT_COMPACTION_MODE_LATCH;break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:r--,o=!0;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[s]=e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=t[r++],i[s]=c,s++;break}}return e.decodeTextCompaction(a,i,s,n),r},e.decodeTextCompaction=function(t,r,n,a){for(var i=pt.ALPHA,s=pt.ALPHA,o=0;o<n;){var c=t[o],l="";switch(i){case pt.ALPHA:if(c<26)l=String.fromCharCode(65+c);else switch(c){case 26:l=" ";break;case e.LL:i=pt.LOWER;break;case e.ML:i=pt.MIXED;break;case e.PS:s=i,i=pt.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=pt.ALPHA;break}break;case pt.LOWER:if(c<26)l=String.fromCharCode(97+c);else switch(c){case 26:l=" ";break;case e.AS:s=i,i=pt.ALPHA_SHIFT;break;case e.ML:i=pt.MIXED;break;case e.PS:s=i,i=pt.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=pt.ALPHA;break}break;case pt.MIXED:if(c<e.PL)l=e.MIXED_CHARS[c];else switch(c){case e.PL:i=pt.PUNCT;break;case 26:l=" ";break;case e.LL:i=pt.LOWER;break;case e.AL:i=pt.ALPHA;break;case e.PS:s=i,i=pt.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=pt.ALPHA;break}break;case pt.PUNCT:if(c<e.PAL)l=e.PUNCT_CHARS[c];else switch(c){case e.PAL:i=pt.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=pt.ALPHA;break}break;case pt.ALPHA_SHIFT:if(i=s,c<26)l=String.fromCharCode(65+c);else switch(c){case 26:l=" ";break;case e.TEXT_COMPACTION_MODE_LATCH:i=pt.ALPHA;break}break;case pt.PUNCT_SHIFT:if(i=s,c<e.PAL)l=e.PUNCT_CHARS[c];else switch(c){case e.PAL:i=pt.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=pt.ALPHA;break}break}l!==""&&a.append(l),o++}},e.byteCompaction=function(t,r,n,a,i){var s=new gU,o=0,c=0,l=!1;switch(t){case e.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),f=r[a++];a<r[0]&&!l;)switch(u[o++]=f,c=900*c+f,f=r[a++],f){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,l=!0;break;default:if(o%5===0&&o>0){for(var d=0;d<6;++d)s.write(Number(Zi(c)>>Zi(8*(5-d))));c=0,o=0}break}a===r[0]&&f<e.TEXT_COMPACTION_MODE_LATCH&&(u[o++]=f);for(var h=0;h<o;h++)s.write(u[h]);break;case e.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!l;){var v=r[a++];if(v<e.TEXT_COMPACTION_MODE_LATCH)o++,c=900*c+v;else switch(v){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,l=!0;break}if(o%5===0&&o>0){for(var d=0;d<6;++d)s.write(Number(Zi(c)>>Zi(8*(5-d))));c=0,o=0}}break}return i.append(ra.decode(s.toByteArray(),n)),a},e.numericCompaction=function(t,r,n){for(var a=0,i=!1,s=new Int32Array(e.MAX_NUMERIC_CODEWORDS);r<t[0]&&!i;){var o=t[r++];if(r===t[0]&&(i=!0),o<e.TEXT_COMPACTION_MODE_LATCH)s[a]=o,a++;else switch(o){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:r--,i=!0;break}(a%e.MAX_NUMERIC_CODEWORDS===0||o===e.NUMERIC_COMPACTION_MODE_LATCH||i)&&a>0&&(n.append(e.decodeBase900toBase10(s,a)),a=0)}return r},e.decodeBase900toBase10=function(t,r){for(var n=Zi(0),a=0;a<r;a++)n+=e.EXP900[r-a-1]*Zi(t[a]);var i=n.toString();if(i.charAt(0)!=="1")throw new ye;return i.substring(1)},e.TEXT_COMPACTION_MODE_LATCH=900,e.BYTE_COMPACTION_MODE_LATCH=901,e.NUMERIC_COMPACTION_MODE_LATCH=902,e.BYTE_COMPACTION_MODE_LATCH_6=924,e.ECI_USER_DEFINED=925,e.ECI_GENERAL_PURPOSE=926,e.ECI_CHARSET=927,e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,e.MACRO_PDF417_TERMINATOR=922,e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,e.MAX_NUMERIC_CODEWORDS=15,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,e.PL=25,e.LL=27,e.AS=27,e.ML=28,e.AL=28,e.PS=29,e.PAL=29,e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",e.EXP900=sT()?xU():[],e.NUMBER_OF_SEQUENCE_CODEWORDS=2,e}(),Bl=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yU=function(){function e(){}return e.decode=function(t,r,n,a,i,s,o){for(var c=new lg(t,r,n,a,i),l=null,u=null,f,d=!0;;d=!1){if(r!=null&&(l=e.getRowIndicatorColumn(t,c,r,!0,s,o)),a!=null&&(u=e.getRowIndicatorColumn(t,c,a,!1,s,o)),f=e.merge(l,u),f==null)throw ce.getNotFoundInstance();var h=f.getBoundingBox();if(d&&h!=null&&(h.getMinY()<c.getMinY()||h.getMaxY()>c.getMaxY()))c=h;else break}f.setBoundingBox(c);var v=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,l),f.setDetectionResultColumn(v,u);for(var p=l!=null,x=1;x<=v;x++){var y=p?x:v-x;if(f.getDetectionResultColumn(y)===void 0){var w=void 0;y===0||y===v?w=new zw(c,y===0):w=new iT(c),f.setDetectionResultColumn(y,w);for(var m=-1,_=m,S=c.getMinY();S<=c.getMaxY();S++){if(m=e.getStartColumn(f,y,S,p),m<0||m>c.getMaxX()){if(_===-1)continue;m=_}var A=e.detectCodeword(t,c.getMinX(),c.getMaxX(),p,m,S,s,o);A!=null&&(w.setCodeword(S,A),_=m,s=Math.min(s,A.getWidth()),o=Math.max(o,A.getWidth()))}}}return e.createDecoderResult(f)},e.merge=function(t,r){if(t==null&&r==null)return null;var n=e.getBarcodeMetadata(t,r);if(n==null)return null;var a=lg.merge(e.adjustBoundingBox(t),e.adjustBoundingBox(r));return new sU(n,a)},e.adjustBoundingBox=function(t){var r,n;if(t==null)return null;var a=t.getRowHeights();if(a==null)return null;var i=e.getMax(a),s=0;try{for(var o=Bl(a),c=o.next();!c.done;c=o.next()){var l=c.value;if(s+=i-l,l>0)break}}catch(h){r={error:h}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}for(var u=t.getCodewords(),f=0;s>0&&u[f]==null;f++)s--;for(var d=0,f=a.length-1;f>=0&&(d+=i-a[f],!(a[f]>0));f--);for(var f=u.length-1;d>0&&u[f]==null;f--)d--;return t.getBoundingBox().addMissingRows(s,d,t.isLeft())},e.getMax=function(t){var r,n,a=-1;try{for(var i=Bl(t),s=i.next();!s.done;s=i.next()){var o=s.value;a=Math.max(a,o)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},e.getBarcodeMetadata=function(t,r){var n;if(t==null||(n=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var a;return r==null||(a=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},e.getRowIndicatorColumn=function(t,r,n,a,i,s){for(var o=new zw(r,a),c=0;c<2;c++)for(var l=c===0?1:-1,u=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=l){var d=e.detectCodeword(t,0,t.getWidth(),a,u,f,i,s);d!=null&&(o.setCodeword(f,d),a?u=d.getStartX():u=d.getEndX())}return o},e.adjustCodewordCount=function(t,r){var n=r[0][1],a=n.getValue(),i=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(a.length===0){if(i<1||i>Je.MAX_CODEWORDS_IN_BARCODE)throw ce.getNotFoundInstance();n.setValue(i)}else a[0]!==i&&n.setValue(i)},e.createDecoderResult=function(t){var r=e.createBarcodeMatrix(t);e.adjustCodewordCount(t,r);for(var n=new Array,a=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),i=[],s=new Array,o=0;o<t.getBarcodeRowCount();o++)for(var c=0;c<t.getBarcodeColumnCount();c++){var l=r[o][c+1].getValue(),u=o*t.getBarcodeColumnCount()+c;l.length===0?n.push(u):l.length===1?a[u]=l[0]:(s.push(u),i.push(l))}for(var f=new Array(i.length),d=0;d<f.length;d++)f[d]=i[d];return e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),a,Je.toIntArray(n),Je.toIntArray(s),f)},e.createDecoderResultFromAmbiguousValues=function(t,r,n,a,i){for(var s=new Int32Array(a.length),o=100;o-- >0;){for(var c=0;c<s.length;c++)r[a[c]]=i[c][s[c]];try{return e.decodeCodewords(r,t,n)}catch(u){var l=u instanceof yr;if(!l)throw u}if(s.length===0)throw yr.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<i[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw yr.getChecksumInstance()}throw yr.getChecksumInstance()},e.createBarcodeMatrix=function(t){for(var r,n,a,i,s=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),o=0;o<s.length;o++)for(var c=0;c<s[o].length;c++)s[o][c]=new Kl;var l=0;try{for(var u=Bl(t.getDetectionResultColumns()),f=u.next();!f.done;f=u.next()){var d=f.value;if(d!=null)try{for(var h=(a=void 0,Bl(d.getCodewords())),v=h.next();!v.done;v=h.next()){var p=v.value;if(p!=null){var x=p.getRowNumber();if(x>=0){if(x>=s.length)continue;s[x][l].setValue(p.getValue())}}}}catch(y){a={error:y}}finally{try{v&&!v.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}l++}}catch(y){r={error:y}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return s},e.isValidBarcodeColumn=function(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1},e.getStartColumn=function(t,r,n,a){var i,s,o=a?1:-1,c=null;if(e.isValidBarcodeColumn(t,r-o)&&(c=t.getDetectionResultColumn(r-o).getCodeword(n)),c!=null)return a?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return a?c.getStartX():c.getEndX();if(e.isValidBarcodeColumn(t,r-o)&&(c=t.getDetectionResultColumn(r-o).getCodewordNearby(n)),c!=null)return a?c.getEndX():c.getStartX();for(var l=0;e.isValidBarcodeColumn(t,r-o);){r-=o;try{for(var u=(i=void 0,Bl(t.getDetectionResultColumn(r).getCodewords())),f=u.next();!f.done;f=u.next()){var d=f.value;if(d!=null)return(a?d.getEndX():d.getStartX())+o*l*(d.getEndX()-d.getStartX())}}catch(h){i={error:h}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}l++}return a?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},e.detectCodeword=function(t,r,n,a,i,s,o,c){i=e.adjustCodewordStartColumn(t,r,n,a,i,s);var l=e.getModuleBitCount(t,r,n,a,i,s);if(l==null)return null;var u,f=at.sum(l);if(a)u=i+f;else{for(var d=0;d<l.length/2;d++){var h=l[d];l[d]=l[l.length-1-d],l[l.length-1-d]=h}u=i,i=u-f}if(!e.checkCodewordSkew(f,o,c))return null;var v=cU.getDecodedValue(l),p=Je.getCodeword(v);return p===-1?null:new oU(i,u,e.getCodewordBucketNumber(v),p)},e.getModuleBitCount=function(t,r,n,a,i,s){for(var o=i,c=new Int32Array(8),l=0,u=a?1:-1,f=a;(a?o<n:o>=r)&&l<c.length;)t.get(o,s)===f?(c[l]++,o+=u):(l++,f=!f);return l===c.length||o===(a?n:r)&&l===c.length-1?c:null},e.getNumberOfECCodeWords=function(t){return 2<<t},e.adjustCodewordStartColumn=function(t,r,n,a,i,s){for(var o=i,c=a?-1:1,l=0;l<2;l++){for(;(a?o>=r:o<n)&&a===t.get(o,s);){if(Math.abs(i-o)>e.CODEWORD_SKEW_SIZE)return i;o+=c}c=-c,a=!a}return o},e.checkCodewordSkew=function(t,r,n){return r-e.CODEWORD_SKEW_SIZE<=t&&t<=n+e.CODEWORD_SKEW_SIZE},e.decodeCodewords=function(t,r,n){if(t.length===0)throw ye.getFormatInstance();var a=1<<r+1,i=e.correctErrors(t,n,a);e.verifyCodewordCount(t,a);var s=mU.decode(t,""+r);return s.setErrorsCorrected(i),s.setErasures(n.length),s},e.correctErrors=function(t,r,n){if(r!=null&&r.length>n/2+e.MAX_ERRORS||n<0||n>e.MAX_EC_CODEWORDS)throw yr.getChecksumInstance();return e.errorCorrection.decode(t,n,r)},e.verifyCodewordCount=function(t,r){if(t.length<4)throw ye.getFormatInstance();var n=t[0];if(n>t.length)throw ye.getFormatInstance();if(n===0)if(r<t.length)t[0]=t.length-r;else throw ye.getFormatInstance()},e.getBitCountForCodeword=function(t){for(var r=new Int32Array(8),n=0,a=r.length-1;!((t&1)!==n&&(n=t&1,a--,a<0));)r[a]++,t>>=1;return r},e.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},e.getCodewordBucketNumber_number=function(t){return e.getCodewordBucketNumber(e.getBitCountForCodeword(t))},e.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},e.toString=function(t){for(var r=new xm,n=0;n<t.length;n++){r.format("Row %2d: ",n);for(var a=0;a<t[n].length;a++){var i=t[n][a];i.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}r.format("%n")}return r.toString()},e.CODEWORD_SKEW_SIZE=2,e.MAX_ERRORS=3,e.MAX_EC_CODEWORDS=512,e.errorCorrection=new Jj,e}(),wU=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ug=function(){function e(){}return e.prototype.decode=function(t,r){r===void 0&&(r=null);var n=e.decode(t,r,!1);if(n==null||n.length===0||n[0]==null)throw ce.getNotFoundInstance();return n[0]},e.prototype.decodeMultiple=function(t,r){r===void 0&&(r=null);try{return e.decode(t,r,!0)}catch(n){throw n instanceof ye||n instanceof yr?ce.getNotFoundInstance():n}},e.decode=function(t,r,n){var a,i,s=new Array,o=Xj.detectMultiple(t,r,n);try{for(var c=wU(o.getPoints()),l=c.next();!l.done;l=c.next()){var u=l.value,f=yU.decode(o.getBits(),u[4],u[5],u[6],u[7],e.getMinCodewordWidth(u),e.getMaxCodewordWidth(u)),d=new Zr(f.getText(),f.getRawBytes(),void 0,u,Ie.PDF_417);d.putMetadata(Nr.ERROR_CORRECTION_LEVEL,f.getECLevel());var h=f.getOther();h!=null&&d.putMetadata(Nr.PDF417_EXTRA_METADATA,h),s.push(d)}}catch(v){a={error:v}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return s.map(function(v){return v})},e.getMaxWidth=function(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))},e.getMinWidth=function(t,r){return t==null||r==null?Ge.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))},e.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(e.getMaxWidth(t[0],t[4]),e.getMaxWidth(t[6],t[2])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN),Math.max(e.getMaxWidth(t[1],t[5]),e.getMaxWidth(t[7],t[3])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN)))},e.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(e.getMinWidth(t[0],t[4]),e.getMinWidth(t[6],t[2])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN),Math.min(e.getMinWidth(t[1],t[5]),e.getMinWidth(t[7],t[3])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN)))},e.prototype.reset=function(){},e}(),_U=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gw=function(e){_U(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ReaderException",t}(kn),Xw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},EU=function(){function e(){}return e.prototype.decode=function(t,r){return this.setHints(r),this.decodeInternal(t)},e.prototype.decodeWithState=function(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)},e.prototype.setHints=function(t){this.hints=t;var r=t!=null&&t.get(kt.TRY_HARDER)!==void 0,n=t==null?null:t.get(kt.POSSIBLE_FORMATS),a=new Array;if(n!=null){var i=n.some(function(s){return s===Ie.UPC_A||s===Ie.UPC_E||s===Ie.EAN_13||s===Ie.EAN_8||s===Ie.CODABAR||s===Ie.CODE_39||s===Ie.CODE_93||s===Ie.CODE_128||s===Ie.ITF||s===Ie.RSS_14||s===Ie.RSS_EXPANDED});i&&!r&&a.push(new Xl(t)),n.includes(Ie.QR_CODE)&&a.push(new cg),n.includes(Ie.DATA_MATRIX)&&a.push(new og),n.includes(Ie.AZTEC)&&a.push(new ig),n.includes(Ie.PDF_417)&&a.push(new ug),i&&r&&a.push(new Xl(t))}a.length===0&&(r||a.push(new Xl(t)),a.push(new cg),a.push(new og),a.push(new ig),a.push(new ug),r&&a.push(new Xl(t))),this.readers=a},e.prototype.reset=function(){var t,r;if(this.readers!==null)try{for(var n=Xw(this.readers),a=n.next();!a.done;a=n.next()){var i=a.value;i.reset()}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.decodeInternal=function(t){var r,n;if(this.readers===null)throw new Gw("No readers where selected, nothing can be read.");try{for(var a=Xw(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;try{return s.decode(t,this.hints)}catch(o){if(o instanceof Gw)continue}}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}throw new ce("No MultiFormat Readers were able to detect the code.")},e}(),CU=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SU=function(e){CU(t,e);function t(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var a=this,i=new EU;return i.setHints(r),a=e.call(this,i,n)||this,a}return t.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},t}(vl),AU=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){AU(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new ug,r)||this}return t})(vl);var bU=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){bU(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new cg,r)||this}return t})(vl);var fg;(function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",e[e.MIN_SIZE=4]="MIN_SIZE",e[e.MAX_SIZE=5]="MAX_SIZE",e[e.MARGIN=6]="MARGIN",e[e.PDF417_COMPACT=7]="PDF417_COMPACT",e[e.PDF417_COMPACTION=8]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=10]="AZTEC_LAYERS",e[e.QR_VERSION=11]="QR_VERSION",e[e.GS1_FORMAT=12]="GS1_FORMAT",e[e.FORCE_C40=13]="FORCE_C40"})(fg||(fg={}));const E0=fg;var oT=function(){function e(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Cs(t,Int32Array.from([1])))}return e.prototype.buildGenerator=function(t){var r=this.cachedGenerators;if(t>=r.length)for(var n=r[r.length-1],a=this.field,i=r.length;i<=t;i++){var s=n.multiply(new Cs(a,Int32Array.from([1,a.exp(i-1+a.getGeneratorBase())])));r.push(s),n=s}return r[t]},e.prototype.encode=function(t,r){if(r===0)throw new Oe("No error correction bytes");var n=t.length-r;if(n<=0)throw new Oe("No data bytes provided");var a=this.buildGenerator(r),i=new Int32Array(n);yt.arraycopy(t,0,i,0,n);var s=new Cs(this.field,i);s=s.multiplyByMonomial(r,1);for(var o=s.divide(a)[1],c=o.getCoefficients(),l=r-c.length,u=0;u<l;u++)t[n+u]=0;yt.arraycopy(c,0,t,n+l,c.length)},e}(),Yl=function(){function e(){}return e.applyMaskPenaltyRule1=function(t){return e.applyMaskPenaltyRule1Internal(t,!0)+e.applyMaskPenaltyRule1Internal(t,!1)},e.applyMaskPenaltyRule2=function(t){for(var r=0,n=t.getArray(),a=t.getWidth(),i=t.getHeight(),s=0;s<i-1;s++)for(var o=n[s],c=0;c<a-1;c++){var l=o[c];l===o[c+1]&&l===n[s+1][c]&&l===n[s+1][c+1]&&r++}return e.N2*r},e.applyMaskPenaltyRule3=function(t){for(var r=0,n=t.getArray(),a=t.getWidth(),i=t.getHeight(),s=0;s<i;s++)for(var o=0;o<a;o++){var c=n[s];o+6<a&&c[o]===1&&c[o+1]===0&&c[o+2]===1&&c[o+3]===1&&c[o+4]===1&&c[o+5]===0&&c[o+6]===1&&(e.isWhiteHorizontal(c,o-4,o)||e.isWhiteHorizontal(c,o+7,o+11))&&r++,s+6<i&&n[s][o]===1&&n[s+1][o]===0&&n[s+2][o]===1&&n[s+3][o]===1&&n[s+4][o]===1&&n[s+5][o]===0&&n[s+6][o]===1&&(e.isWhiteVertical(n,o,s-4,s)||e.isWhiteVertical(n,o,s+7,s+11))&&r++}return r*e.N3},e.isWhiteHorizontal=function(t,r,n){r=Math.max(r,0),n=Math.min(n,t.length);for(var a=r;a<n;a++)if(t[a]===1)return!1;return!0},e.isWhiteVertical=function(t,r,n,a){n=Math.max(n,0),a=Math.min(a,t.length);for(var i=n;i<a;i++)if(t[i][r]===1)return!1;return!0},e.applyMaskPenaltyRule4=function(t){for(var r=0,n=t.getArray(),a=t.getWidth(),i=t.getHeight(),s=0;s<i;s++)for(var o=n[s],c=0;c<a;c++)o[c]===1&&r++;var l=t.getHeight()*t.getWidth(),u=Math.floor(Math.abs(r*2-l)*10/l);return u*e.N4},e.getDataMaskBit=function(t,r,n){var a,i;switch(t){case 0:a=n+r&1;break;case 1:a=n&1;break;case 2:a=r%3;break;case 3:a=(n+r)%3;break;case 4:a=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:i=n*r,a=(i&1)+i%3;break;case 6:i=n*r,a=(i&1)+i%3&1;break;case 7:i=n*r,a=i%3+(n+r&1)&1;break;default:throw new Oe("Invalid mask pattern: "+t)}return a===0},e.applyMaskPenaltyRule1Internal=function(t,r){for(var n=0,a=r?t.getHeight():t.getWidth(),i=r?t.getWidth():t.getHeight(),s=t.getArray(),o=0;o<a;o++){for(var c=0,l=-1,u=0;u<i;u++){var f=r?s[o][u]:s[u][o];f===l?c++:(c>=5&&(n+=e.N1+(c-5)),c=1,l=f)}c>=5&&(n+=e.N1+(c-5))}return n},e.N1=3,e.N2=3,e.N3=40,e.N4=10,e}(),TU=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kU=function(){function e(t,r){this.width=t,this.height=r;for(var n=new Array(r),a=0;a!==r;a++)n[a]=new Uint8Array(t);this.bytes=n}return e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e.prototype.get=function(t,r){return this.bytes[r][t]},e.prototype.getArray=function(){return this.bytes},e.prototype.setNumber=function(t,r,n){this.bytes[r][t]=n},e.prototype.setBoolean=function(t,r,n){this.bytes[r][t]=n?1:0},e.prototype.clear=function(t){var r,n;try{for(var a=TU(this.bytes),i=a.next();!i.done;i=a.next()){var s=i.value;or.fill(s,t)}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var i=this.bytes[n],s=r.bytes[n],o=0,c=this.width;o<c;++o)if(i[o]!==s[o])return!1;return!0},e.prototype.toString=function(){for(var t=new We,r=0,n=this.height;r<n;++r){for(var a=this.bytes[r],i=0,s=this.width;i<s;++i)switch(a[i]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()},e}(),dg=function(){function e(){this.maskPattern=-1}return e.prototype.getMode=function(){return this.mode},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getVersion=function(){return this.version},e.prototype.getMaskPattern=function(){return this.maskPattern},e.prototype.getMatrix=function(){return this.matrix},e.prototype.toString=function(){var t=new We;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()},e.prototype.setMode=function(t){this.mode=t},e.prototype.setECLevel=function(t){this.ecLevel=t},e.prototype.setVersion=function(t){this.version=t},e.prototype.setMaskPattern=function(t){this.maskPattern=t},e.prototype.setMatrix=function(t){this.matrix=t},e.isValidMaskPattern=function(t){return t>=0&&t<e.NUM_MASK_PATTERNS},e.NUM_MASK_PATTERNS=8,e}(),IU=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),At=function(e){IU(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="WriterException",t}(kn),Kw=function(){function e(){}return e.clearMatrix=function(t){t.clear(255)},e.buildMatrix=function(t,r,n,a,i){e.clearMatrix(i),e.embedBasicPatterns(n,i),e.embedTypeInfo(r,a,i),e.maybeEmbedVersionInfo(n,i),e.embedDataBits(t,a,i)},e.embedBasicPatterns=function(t,r){e.embedPositionDetectionPatternsAndSeparators(r),e.embedDarkDotAtLeftBottomCorner(r),e.maybeEmbedPositionAdjustmentPatterns(t,r),e.embedTimingPatterns(r)},e.embedTypeInfo=function(t,r,n){var a=new wr;e.makeTypeInfoBits(t,r,a);for(var i=0,s=a.getSize();i<s;++i){var o=a.get(a.getSize()-1-i),c=e.TYPE_INFO_COORDINATES[i],l=c[0],u=c[1];if(n.setBoolean(l,u,o),i<8){var f=n.getWidth()-i-1,d=8;n.setBoolean(f,d,o)}else{var f=8,d=n.getHeight()-7+(i-8);n.setBoolean(f,d,o)}}},e.maybeEmbedVersionInfo=function(t,r){if(!(t.getVersionNumber()<7)){var n=new wr;e.makeVersionInfoBits(t,n);for(var a=6*3-1,i=0;i<6;++i)for(var s=0;s<3;++s){var o=n.get(a);a--,r.setBoolean(i,r.getHeight()-11+s,o),r.setBoolean(r.getHeight()-11+s,i,o)}}},e.embedDataBits=function(t,r,n){for(var a=0,i=-1,s=n.getWidth()-1,o=n.getHeight()-1;s>0;){for(s===6&&(s-=1);o>=0&&o<n.getHeight();){for(var c=0;c<2;++c){var l=s-c;if(e.isEmpty(n.get(l,o))){var u=void 0;a<t.getSize()?(u=t.get(a),++a):u=!1,r!==255&&Yl.getDataMaskBit(r,l,o)&&(u=!u),n.setBoolean(l,o,u)}}o+=i}i=-i,o+=i,s-=2}if(a!==t.getSize())throw new At("Not all bits consumed: "+a+"/"+t.getSize())},e.findMSBSet=function(t){return 32-Ge.numberOfLeadingZeros(t)},e.calculateBCHCode=function(t,r){if(r===0)throw new Oe("0 polynomial");var n=e.findMSBSet(r);for(t<<=n-1;e.findMSBSet(t)>=n;)t^=r<<e.findMSBSet(t)-n;return t},e.makeTypeInfoBits=function(t,r,n){if(!dg.isValidMaskPattern(r))throw new At("Invalid mask pattern");var a=t.getBits()<<3|r;n.appendBits(a,5);var i=e.calculateBCHCode(a,e.TYPE_INFO_POLY);n.appendBits(i,10);var s=new wr;if(s.appendBits(e.TYPE_INFO_MASK_PATTERN,15),n.xor(s),n.getSize()!==15)throw new At("should not happen but we got: "+n.getSize())},e.makeVersionInfoBits=function(t,r){r.appendBits(t.getVersionNumber(),6);var n=e.calculateBCHCode(t.getVersionNumber(),e.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new At("should not happen but we got: "+r.getSize())},e.isEmpty=function(t){return t===255},e.embedTimingPatterns=function(t){for(var r=8;r<t.getWidth()-8;++r){var n=(r+1)%2;e.isEmpty(t.get(r,6))&&t.setNumber(r,6,n),e.isEmpty(t.get(6,r))&&t.setNumber(6,r,n)}},e.embedDarkDotAtLeftBottomCorner=function(t){if(t.get(8,t.getHeight()-8)===0)throw new At;t.setNumber(8,t.getHeight()-8,1)},e.embedHorizontalSeparationPattern=function(t,r,n){for(var a=0;a<8;++a){if(!e.isEmpty(n.get(t+a,r)))throw new At;n.setNumber(t+a,r,0)}},e.embedVerticalSeparationPattern=function(t,r,n){for(var a=0;a<7;++a){if(!e.isEmpty(n.get(t,r+a)))throw new At;n.setNumber(t,r+a,0)}},e.embedPositionAdjustmentPattern=function(t,r,n){for(var a=0;a<5;++a)for(var i=e.POSITION_ADJUSTMENT_PATTERN[a],s=0;s<5;++s)n.setNumber(t+s,r+a,i[s])},e.embedPositionDetectionPattern=function(t,r,n){for(var a=0;a<7;++a)for(var i=e.POSITION_DETECTION_PATTERN[a],s=0;s<7;++s)n.setNumber(t+s,r+a,i[s])},e.embedPositionDetectionPatternsAndSeparators=function(t){var r=e.POSITION_DETECTION_PATTERN[0].length;e.embedPositionDetectionPattern(0,0,t),e.embedPositionDetectionPattern(t.getWidth()-r,0,t),e.embedPositionDetectionPattern(0,t.getWidth()-r,t);var n=8;e.embedHorizontalSeparationPattern(0,n-1,t),e.embedHorizontalSeparationPattern(t.getWidth()-n,n-1,t),e.embedHorizontalSeparationPattern(0,t.getWidth()-n,t);var a=7;e.embedVerticalSeparationPattern(a,0,t),e.embedVerticalSeparationPattern(t.getHeight()-a-1,0,t),e.embedVerticalSeparationPattern(a,t.getHeight()-a,t)},e.maybeEmbedPositionAdjustmentPatterns=function(t,r){if(!(t.getVersionNumber()<2))for(var n=t.getVersionNumber()-1,a=e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],i=0,s=a.length;i!==s;i++){var o=a[i];if(o>=0)for(var c=0;c!==s;c++){var l=a[c];l>=0&&e.isEmpty(r.get(l,o))&&e.embedPositionAdjustmentPattern(l-2,o-2,r)}}},e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),e.VERSION_INFO_POLY=7973,e.TYPE_INFO_POLY=1335,e.TYPE_INFO_MASK_PATTERN=21522,e}(),NU=function(){function e(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}return e.prototype.getDataBytes=function(){return this.dataBytes},e.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},e}(),Yw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(){}return e.calculateMaskPenalty=function(t){return Yl.applyMaskPenaltyRule1(t)+Yl.applyMaskPenaltyRule2(t)+Yl.applyMaskPenaltyRule3(t)+Yl.applyMaskPenaltyRule4(t)},e.encode=function(t,r,n){n===void 0&&(n=null);var a=e.DEFAULT_BYTE_MODE_ENCODING,i=n!==null&&n.get(E0.CHARACTER_SET)!==void 0;i&&(a=n.get(E0.CHARACTER_SET).toString());var s=this.chooseMode(t,a),o=new wr;if(s===bt.BYTE&&(i||e.DEFAULT_BYTE_MODE_ENCODING!==a)){var c=ir.getCharacterSetECIByName(a);c!==void 0&&this.appendECI(c,o)}this.appendModeInfo(s,o);var l=new wr;this.appendBytes(t,s,l,a);var u;if(n!==null&&n.get(E0.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(E0.QR_VERSION).toString(),10);u=vo.getVersionForNumber(f);var d=this.calculateBitsNeeded(s,o,l,u);if(!this.willFit(d,u,r))throw new At("Data too big for requested version")}else u=this.recommendVersion(r,s,o,l);var h=new wr;h.appendBitArray(o);var v=s===bt.BYTE?l.getSizeInBytes():t.length;this.appendLengthInfo(v,u,s,h),h.appendBitArray(l);var p=u.getECBlocksForLevel(r),x=u.getTotalCodewords()-p.getTotalECCodewords();this.terminateBits(x,h);var y=this.interleaveWithECBytes(h,u.getTotalCodewords(),x,p.getNumBlocks()),w=new dg;w.setECLevel(r),w.setMode(s),w.setVersion(u);var m=u.getDimensionForVersion(),_=new kU(m,m),S=this.chooseMaskPattern(y,r,u,_);return w.setMaskPattern(S),Kw.buildMatrix(y,r,u,S,_),w.setMatrix(_),w},e.recommendVersion=function(t,r,n,a){var i=this.calculateBitsNeeded(r,n,a,vo.getVersionForNumber(1)),s=this.chooseVersion(i,t),o=this.calculateBitsNeeded(r,n,a,s);return this.chooseVersion(o,t)},e.calculateBitsNeeded=function(t,r,n,a){return r.getSize()+t.getCharacterCountBits(a)+n.getSize()},e.getAlphanumericCode=function(t){return t<e.ALPHANUMERIC_TABLE.length?e.ALPHANUMERIC_TABLE[t]:-1},e.chooseMode=function(t,r){if(r===void 0&&(r=null),ir.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return bt.KANJI;for(var n=!1,a=!1,i=0,s=t.length;i<s;++i){var o=t.charAt(i);if(e.isDigit(o))n=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)a=!0;else return bt.BYTE}return a?bt.ALPHANUMERIC:n?bt.NUMERIC:bt.BYTE},e.isOnlyDoubleByteKanji=function(t){var r;try{r=ra.encode(t,ir.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var i=r[a]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},e.chooseMaskPattern=function(t,r,n,a){for(var i=Number.MAX_SAFE_INTEGER,s=-1,o=0;o<dg.NUM_MASK_PATTERNS;o++){Kw.buildMatrix(t,r,n,o,a);var c=this.calculateMaskPenalty(a);c<i&&(i=c,s=o)}return s},e.chooseVersion=function(t,r){for(var n=1;n<=40;n++){var a=vo.getVersionForNumber(n);if(e.willFit(t,a,r))return a}throw new At("Data too big")},e.willFit=function(t,r,n){var a=r.getTotalCodewords(),i=r.getECBlocksForLevel(n),s=i.getTotalECCodewords(),o=a-s,c=(t+7)/8;return o>=c},e.terminateBits=function(t,r){var n=t*8;if(r.getSize()>n)throw new At("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var a=0;a<4&&r.getSize()<n;++a)r.appendBit(!1);var i=r.getSize()&7;if(i>0)for(var a=i;a<8;a++)r.appendBit(!1);for(var s=t-r.getSizeInBytes(),a=0;a<s;++a)r.appendBits(a&1?17:236,8);if(r.getSize()!==n)throw new At("Bits size does not equal capacity")},e.getNumDataBytesAndNumECBytesForBlockID=function(t,r,n,a,i,s){if(a>=n)throw new At("Block ID too large");var o=t%n,c=n-o,l=Math.floor(t/n),u=l+1,f=Math.floor(r/n),d=f+1,h=l-f,v=u-d;if(h!==v)throw new At("EC bytes mismatch");if(n!==c+o)throw new At("RS blocks mismatch");if(t!==(f+h)*c+(d+v)*o)throw new At("Total bytes mismatch");a<c?(i[0]=f,s[0]=h):(i[0]=d,s[0]=v)},e.interleaveWithECBytes=function(t,r,n,a){var i,s,o,c;if(t.getSizeInBytes()!==n)throw new At("Number of bits and data bytes does not match");for(var l=0,u=0,f=0,d=new Array,h=0;h<a;++h){var v=new Int32Array(1),p=new Int32Array(1);e.getNumDataBytesAndNumECBytesForBlockID(r,n,a,h,v,p);var x=v[0],y=new Uint8Array(x);t.toBytes(8*l,y,0,x);var w=e.generateECBytes(y,p[0]);d.push(new NU(y,w)),u=Math.max(u,x),f=Math.max(f,w.length),l+=v[0]}if(n!==l)throw new At("Data bytes does not match offset");for(var m=new wr,h=0;h<u;++h)try{for(var _=(i=void 0,Yw(d)),S=_.next();!S.done;S=_.next()){var A=S.value,y=A.getDataBytes();h<y.length&&m.appendBits(y[h],8)}}catch(O){i={error:O}}finally{try{S&&!S.done&&(s=_.return)&&s.call(_)}finally{if(i)throw i.error}}for(var h=0;h<f;++h)try{for(var C=(o=void 0,Yw(d)),b=C.next();!b.done;b=C.next()){var A=b.value,w=A.getErrorCorrectionBytes();h<w.length&&m.appendBits(w[h],8)}}catch(O){o={error:O}}finally{try{b&&!b.done&&(c=C.return)&&c.call(C)}finally{if(o)throw o.error}}if(r!==m.getSizeInBytes())throw new At("Interleaving error: "+r+" and "+m.getSizeInBytes()+" differ.");return m},e.generateECBytes=function(t,r){for(var n=t.length,a=new Int32Array(n+r),i=0;i<n;i++)a[i]=t[i]&255;new oT(Cn.QR_CODE_FIELD_256).encode(a,r);for(var s=new Uint8Array(r),i=0;i<r;i++)s[i]=a[n+i];return s},e.appendModeInfo=function(t,r){r.appendBits(t.getBits(),4)},e.appendLengthInfo=function(t,r,n,a){var i=n.getCharacterCountBits(r);if(t>=1<<i)throw new At(t+" is bigger than "+((1<<i)-1));a.appendBits(t,i)},e.appendBytes=function(t,r,n,a){switch(r){case bt.NUMERIC:e.appendNumericBytes(t,n);break;case bt.ALPHANUMERIC:e.appendAlphanumericBytes(t,n);break;case bt.BYTE:e.append8BitBytes(t,n,a);break;case bt.KANJI:e.appendKanjiBytes(t,n);break;default:throw new At("Invalid mode: "+r)}},e.getDigit=function(t){return t.charCodeAt(0)-48},e.isDigit=function(t){var r=e.getDigit(t);return r>=0&&r<=9},e.appendNumericBytes=function(t,r){for(var n=t.length,a=0;a<n;){var i=e.getDigit(t.charAt(a));if(a+2<n){var s=e.getDigit(t.charAt(a+1)),o=e.getDigit(t.charAt(a+2));r.appendBits(i*100+s*10+o,10),a+=3}else if(a+1<n){var s=e.getDigit(t.charAt(a+1));r.appendBits(i*10+s,7),a+=2}else r.appendBits(i,4),a++}},e.appendAlphanumericBytes=function(t,r){for(var n=t.length,a=0;a<n;){var i=e.getAlphanumericCode(t.charCodeAt(a));if(i===-1)throw new At;if(a+1<n){var s=e.getAlphanumericCode(t.charCodeAt(a+1));if(s===-1)throw new At;r.appendBits(i*45+s,11),a+=2}else r.appendBits(i,6),a++}},e.append8BitBytes=function(t,r,n){var a;try{a=ra.encode(t,n)}catch(c){throw new At(c)}for(var i=0,s=a.length;i!==s;i++){var o=a[i];r.appendBits(o,8)}},e.appendKanjiBytes=function(t,r){var n;try{n=ra.encode(t,ir.SJIS)}catch(f){throw new At(f)}for(var a=n.length,i=0;i<a;i+=2){var s=n[i]&255,o=n[i+1]&255,c=s<<8&4294967295|o,l=-1;if(c>=33088&&c<=40956?l=c-33088:c>=57408&&c<=60351&&(l=c-49472),l===-1)throw new At("Invalid byte sequence");var u=(l>>8)*192+(l&255);r.appendBits(u,13)}},e.appendECI=function(t,r){r.appendBits(bt.ECI.getBits(),4),r.appendBits(t.getValue(),8)},e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),e.DEFAULT_BYTE_MODE_ENCODING=ir.UTF8.getName(),e})();var OU=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){OU(t,e);function t(r,n,a,i,s,o,c,l){var u=e.call(this,o,c)||this;if(u.yuvData=r,u.dataWidth=n,u.dataHeight=a,u.left=i,u.top=s,i+o>n||s+c>a)throw new Oe("Crop rectangle does not fit within image data.");return l&&u.reverseHorizontal(o,c),u}return t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Oe("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return yt.arraycopy(this.yuvData,i,n,0,a),n},t.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=r*n,i=new Uint8ClampedArray(a),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return yt.arraycopy(this.yuvData,s,i,0,a),i;for(var o=0;o<n;o++){var c=o*r;yt.arraycopy(this.yuvData,s,i,c,r),s+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,a,i,!1)},t.prototype.renderThumbnail=function(){for(var r=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*n),i=this.yuvData,s=this.top*this.dataWidth+this.left,o=0;o<n;o++){for(var c=o*r,l=0;l<r;l++){var u=i[s+l*t.THUMBNAIL_SCALE_FACTOR]&255;a[c+l]=4278190080|u*65793}s+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return a},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(r,n){for(var a=this.yuvData,i=0,s=this.top*this.dataWidth+this.left;i<n;i++,s+=this.dataWidth)for(var o=s+r/2,c=s,l=s+r-1;c<o;c++,l--){var u=a[c];a[c]=a[l],a[l]=u}},t.prototype.invert=function(){return new hm(this)},t.THUMBNAIL_SCALE_FACTOR=2,t})(Gh);var RU=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){RU(t,e);function t(r,n,a,i,s,o,c){var l=e.call(this,n,a)||this;if(l.dataWidth=i,l.dataHeight=s,l.left=o,l.top=c,r.BYTES_PER_ELEMENT===4){for(var u=n*a,f=new Uint8ClampedArray(u),d=0;d<u;d++){var h=r[d],v=h>>16&255,p=h>>7&510,x=h&255;f[d]=(v+p+x)/4&255}l.luminances=f}else l.luminances=r;if(i===void 0&&(l.dataWidth=n),s===void 0&&(l.dataHeight=a),o===void 0&&(l.left=0),c===void 0&&(l.top=0),l.left+n>l.dataWidth||l.top+a>l.dataHeight)throw new Oe("Crop rectangle does not fit within image data.");return l}return t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Oe("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return yt.arraycopy(this.luminances,i,n,0,a),n},t.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=r*n,i=new Uint8ClampedArray(a),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return yt.arraycopy(this.luminances,s,i,0,a),i;for(var o=0;o<n;o++){var c=o*r;yt.arraycopy(this.luminances,s,i,c,r),s+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return new t(this.luminances,a,i,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},t.prototype.invert=function(){return new hm(this)},t})(Gh);var PU=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DU=function(e){PU(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.forName=function(r){return this.getCharacterSetECIByName(r)},t}(ir),FU=function(){function e(){}return e.ISO_8859_1=ir.ISO8859_1,e}(),hg,MU=301,LU=function(e,t){for(var r=1,n=0;n<255;n++)t[n]=r,e[r]=n,r*=2,r>=256&&(r^=MU);return{LOG:e,ALOG:t}};hg=LU([],[]),hg.LOG;hg.ALOG;var qw;(function(e){e[e.FORCE_NONE=0]="FORCE_NONE",e[e.FORCE_SQUARE=1]="FORCE_SQUARE",e[e.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(qw||(qw={}));var Zw=129,cT=230,BU=231,jU=235,UU=236,$U=237,HU=238,VU=239,zU=240,sp=254,WU=254,Qw="[)>05",Jw="[)>06",e_="",ft=0,Tr=1,rn=2,tr=3,vr=4,Hr=5,GU=function(){function e(){}return e.prototype.getEncodingMode=function(){return ft},e.prototype.encode=function(t){var r=Sa.determineConsecutiveDigitCount(t.getMessage(),t.pos);if(r>=2)t.writeCodeword(this.encodeASCIIDigits(t.getMessage().charCodeAt(t.pos),t.getMessage().charCodeAt(t.pos+1))),t.pos+=2;else{var n=t.getCurrentChar(),a=Sa.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case Hr:t.writeCodeword(BU),t.signalEncoderChange(Hr);return;case Tr:t.writeCodeword(cT),t.signalEncoderChange(Tr);return;case tr:t.writeCodeword(HU),t.signalEncoderChange(tr);break;case rn:t.writeCodeword(VU),t.signalEncoderChange(rn);break;case vr:t.writeCodeword(zU),t.signalEncoderChange(vr);break;default:throw new Error("Illegal mode: "+a)}else Sa.isExtendedASCII(n)?(t.writeCodeword(jU),t.writeCodeword(n-128+1),t.pos++):(t.writeCodeword(n+1),t.pos++)}},e.prototype.encodeASCIIDigits=function(t,r){if(Sa.isDigit(t)&&Sa.isDigit(r)){var n=(t-48)*10+(r-48);return n+130}throw new Error("not digits: "+t+r)},e}(),XU=function(){function e(){}return e.prototype.getEncodingMode=function(){return Hr},e.prototype.encode=function(t){var r=new We;for(r.append(0);t.hasMoreCharacters();){var n=t.getCurrentChar();r.append(n),t.pos++;var a=Sa.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){t.signalEncoderChange(ft);break}}var i=r.length()-1,s=1,o=t.getCodewordCount()+i+s;t.updateSymbolInfo(o);var c=t.getSymbolInfo().getDataCapacity()-o>0;if(t.hasMoreCharacters()||c)if(i<=249)r.setCharAt(0,qe.getCharAt(i));else if(i<=1555)r.setCharAt(0,qe.getCharAt(Math.floor(i/250)+249)),r.insert(1,qe.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var l=0,n=r.length();l<n;l++)t.writeCodeword(this.randomize255State(r.charAt(l).charCodeAt(0),t.getCodewordCount()+1))},e.prototype.randomize255State=function(t,r){var n=149*r%255+1,a=t+n;return a<=255?a:a-256},e}(),mm=function(){function e(){}return e.prototype.getEncodingMode=function(){return Tr},e.prototype.encodeMaximal=function(t){for(var r=new We,n=0,a=t.pos,i=0;t.hasMoreCharacters();){var s=t.getCurrentChar();t.pos++,n=this.encodeChar(s,r),r.length()%3===0&&(a=t.pos,i=r.length())}if(i!==r.length()){var o=Math.floor(r.length()/3*2),c=Math.floor(t.getCodewordCount()+o+1);t.updateSymbolInfo(c);var l=t.getSymbolInfo().getDataCapacity()-c,u=Math.floor(r.length()%3);(u===2&&l!==2||u===1&&(n>3||l!==1))&&(t.pos=a)}r.length()>0&&t.writeCodeword(cT),this.handleEOD(t,r)},e.prototype.encode=function(t){for(var r=new We;t.hasMoreCharacters();){var n=t.getCurrentChar();t.pos++;var a=this.encodeChar(n,r),i=Math.floor(r.length()/3)*2,s=t.getCodewordCount()+i;t.updateSymbolInfo(s);var o=t.getSymbolInfo().getDataCapacity()-s;if(!t.hasMoreCharacters()){var c=new We;for(r.length()%3===2&&o!==2&&(a=this.backtrackOneCharacter(t,r,c,a));r.length()%3===1&&(a>3||o!==1);)a=this.backtrackOneCharacter(t,r,c,a);break}var l=r.length();if(l%3===0){var u=Sa.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){t.signalEncoderChange(ft);break}}}this.handleEOD(t,r)},e.prototype.backtrackOneCharacter=function(t,r,n,a){var i=r.length(),s=r.toString().substring(0,i-a);r.setLengthToZero(),r.append(s),t.pos--;var o=t.getCurrentChar();return a=this.encodeChar(o,n),t.resetSymbolInfo(),a},e.prototype.writeNextTriplet=function(t,r){t.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},e.prototype.handleEOD=function(t,r){var n=Math.floor(r.length()/3*2),a=r.length()%3,i=t.getCodewordCount()+n;t.updateSymbolInfo(i);var s=t.getSymbolInfo().getDataCapacity()-i;if(a===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(t,r);t.hasMoreCharacters()&&t.writeCodeword(sp)}else if(s===1&&a===1){for(;r.length()>=3;)this.writeNextTriplet(t,r);t.hasMoreCharacters()&&t.writeCodeword(sp),t.pos--}else if(a===0){for(;r.length()>=3;)this.writeNextTriplet(t,r);(s>0||t.hasMoreCharacters())&&t.writeCodeword(sp)}else throw new Error("Unexpected case. Please report!");t.signalEncoderChange(ft)},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=65&&t<=90)return r.append(t-65+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t<=95)return r.append(1),r.append(t-91+22),2;if(t<=127)return r.append(2),r.append(t-96),2;r.append("1");var n=2;return n+=this.encodeChar(t-128,r),n},e.prototype.encodeToCodewords=function(t){var r=1600*t.charCodeAt(0)+40*t.charCodeAt(1)+t.charCodeAt(2)+1,n=r/256,a=r%256,i=new We;return i.append(n),i.append(a),i.toString()},e}(),KU=function(){function e(){}return e.prototype.getEncodingMode=function(){return vr},e.prototype.encode=function(t){for(var r=new We;t.hasMoreCharacters();){var n=t.getCurrentChar();this.encodeChar(n,r),t.pos++;var a=r.length();if(a>=4){t.writeCodewords(this.encodeToCodewords(r.toString()));var i=r.toString().substring(4);r.setLengthToZero(),r.append(i);var s=Sa.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){t.signalEncoderChange(ft);break}}}r.append(qe.getCharAt(31)),this.handleEOD(t,r)},e.prototype.handleEOD=function(t,r){try{var n=r.length();if(n===0)return;if(n===1){t.updateSymbolInfo();var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),i=t.getRemainingCharacters();if(i>a&&(t.updateSymbolInfo(t.getCodewordCount()+1),a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount()),i<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var s=n-1,o=this.encodeToCodewords(r.toString()),c=!t.hasMoreCharacters(),l=c&&s<=2;if(s<=2){t.updateSymbolInfo(t.getCodewordCount()+s);var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount();a>=3&&(l=!1,t.updateSymbolInfo(t.getCodewordCount()+o.length))}l?(t.resetSymbolInfo(),t.pos-=s):t.writeCodewords(o)}finally{t.signalEncoderChange(ft)}},e.prototype.encodeChar=function(t,r){t>=32&&t<=63?r.append(t):t>=64&&t<=94?r.append(qe.getCharAt(t-64)):Sa.illegalCharacter(qe.getCharAt(t))},e.prototype.encodeToCodewords=function(t){var r=t.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=t.charAt(0).charCodeAt(0),a=r>=2?t.charAt(1).charCodeAt(0):0,i=r>=3?t.charAt(2).charCodeAt(0):0,s=r>=4?t.charAt(3).charCodeAt(0):0,o=(n<<18)+(a<<12)+(i<<6)+s,c=o>>16&255,l=o>>8&255,u=o&255,f=new We;return f.append(c),r>=2&&f.append(l),r>=3&&f.append(u),f.toString()},e}(),YU=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qU=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},st=function(){function e(t,r,n,a,i,s,o,c){o===void 0&&(o=0),c===void 0&&(c=0),this.rectangular=t,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=i,this.dataRegions=s,this.rsBlockData=o,this.rsBlockError=c}return e.lookup=function(t,r,n,a,i){var s,o;r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!0);try{for(var c=qU(QU),l=c.next();!l.done;l=c.next()){var u=l.value;if(!(r===1&&u.rectangular)&&!(r===2&&!u.rectangular)&&!(n!=null&&(u.getSymbolWidth()<n.getWidth()||u.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(u.getSymbolWidth()>a.getWidth()||u.getSymbolHeight()>a.getHeight()))&&t<=u.dataCapacity)return u}}catch(f){s={error:f}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(s)throw s.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+t);return null},e.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},e.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},e.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},e.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},e.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},e.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},e.prototype.getDataCapacity=function(){return this.dataCapacity},e.prototype.getErrorCodewords=function(){return this.errorCodewords},e.prototype.getDataLengthForInterleavedBlock=function(t){return this.rsBlockData},e.prototype.getErrorLengthForInterleavedBlock=function(t){return this.rsBlockError},e}(),ZU=function(e){YU(t,e);function t(){return e.call(this,!1,1558,620,22,22,36,-1,62)||this}return t.prototype.getInterleavedBlockCount=function(){return 10},t.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},t}(st),QU=[new st(!1,3,5,8,8,1),new st(!1,5,7,10,10,1),new st(!0,5,7,16,6,1),new st(!1,8,10,12,12,1),new st(!0,10,11,14,6,2),new st(!1,12,12,14,14,1),new st(!0,16,14,24,10,1),new st(!1,18,14,16,16,1),new st(!1,22,18,18,18,1),new st(!0,22,18,16,10,2),new st(!1,30,20,20,20,1),new st(!0,32,24,16,14,2),new st(!1,36,24,22,22,1),new st(!1,44,28,24,24,1),new st(!0,49,28,22,14,2),new st(!1,62,36,14,14,4),new st(!1,86,42,16,16,4),new st(!1,114,48,18,18,4),new st(!1,144,56,20,20,4),new st(!1,174,68,22,22,4),new st(!1,204,84,24,24,4,102,42),new st(!1,280,112,14,14,16,140,56),new st(!1,368,144,16,16,16,92,36),new st(!1,456,192,18,18,16,114,48),new st(!1,576,224,20,20,16,144,56),new st(!1,696,272,22,22,16,174,68),new st(!1,816,336,24,24,16,136,56),new st(!1,1050,408,18,18,36,175,68),new st(!1,1304,496,20,20,36,163,62),new ZU],JU=function(){function e(t){this.msg=t,this.pos=0,this.skipAtEnd=0;for(var r=t.split("").map(function(o){return o.charCodeAt(0)}),n=new We,a=0,i=r.length;a<i;a++){var s=String.fromCharCode(r[a]&255);if(s==="?"&&t.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(s)}this.msg=n.toString(),this.shape=0,this.codewords=new We,this.newEncoding=-1}return e.prototype.setSymbolShape=function(t){this.shape=t},e.prototype.setSizeConstraints=function(t,r){this.minSize=t,this.maxSize=r},e.prototype.getMessage=function(){return this.msg},e.prototype.setSkipAtEnd=function(t){this.skipAtEnd=t},e.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCodewords=function(){return this.codewords},e.prototype.writeCodewords=function(t){this.codewords.append(t)},e.prototype.writeCodeword=function(t){this.codewords.append(t)},e.prototype.getCodewordCount=function(){return this.codewords.length()},e.prototype.getNewEncoding=function(){return this.newEncoding},e.prototype.signalEncoderChange=function(t){this.newEncoding=t},e.prototype.resetEncoderSignal=function(){this.newEncoding=-1},e.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},e.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},e.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},e.prototype.getSymbolInfo=function(){return this.symbolInfo},e.prototype.updateSymbolInfo=function(t){t===void 0&&(t=this.getCodewordCount()),(this.symbolInfo==null||t>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=st.lookup(t,this.shape,this.minSize,this.maxSize,!0))},e.prototype.resetSymbolInfo=function(){this.symbolInfo=null},e}(),e$=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),t$=function(e){e$(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return tr},t.prototype.encode=function(r){for(var n=new We;r.hasMoreCharacters();){var a=r.getCurrentChar();r.pos++,this.encodeChar(a,n);var i=n.length();if(i%3===0){this.writeNextTriplet(r,n);var s=Sa.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){r.signalEncoderChange(ft);break}}}this.handleEOD(r,n)},t.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):Sa.illegalCharacter(qe.getCharAt(r));break}return 1},t.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var a=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),i=n.length();r.pos-=i,(r.getRemainingCharacters()>1||a>1||r.getRemainingCharacters()!==a)&&r.writeCodeword(WU),r.getNewEncoding()<0&&r.signalEncoderChange(ft)},t}(mm),r$=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),n$=function(e){r$(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return rn},t.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(r-128,n),a},t}(mm),Sa=function(){function e(){}return e.randomize253State=function(t){var r=149*t%253+1,n=Zw+r;return n<=254?n:n-254},e.encodeHighLevel=function(t,r,n,a,i){r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!1);var s=new mm,o=[new GU,s,new n$,new t$,new KU,new XU],c=new JU(t);c.setSymbolShape(r),c.setSizeConstraints(n,a),t.startsWith(Qw)&&t.endsWith(e_)?(c.writeCodeword(UU),c.setSkipAtEnd(2),c.pos+=Qw.length):t.startsWith(Jw)&&t.endsWith(e_)&&(c.writeCodeword($U),c.setSkipAtEnd(2),c.pos+=Jw.length);var l=ft;for(i&&(s.encodeMaximal(c),l=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)o[l].encode(c),c.getNewEncoding()>=0&&(l=c.getNewEncoding(),c.resetEncoderSignal());var u=c.getCodewordCount();c.updateSymbolInfo();var f=c.getSymbolInfo().getDataCapacity();u<f&&l!==ft&&l!==Hr&&l!==vr&&c.writeCodeword("");var d=c.getCodewords();for(d.length()<f&&d.append(Zw);d.length()<f;)d.append(this.randomize253State(d.length()+1));return c.getCodewords().toString()},e.lookAheadTest=function(t,r,n){var a=this.lookAheadTestIntern(t,r,n);if(n===tr&&a===tr){for(var i=Math.min(r+3,t.length),s=r;s<i;s++)if(!this.isNativeX12(t.charCodeAt(s)))return ft}else if(n===vr&&a===vr){for(var i=Math.min(r+4,t.length),s=r;s<i;s++)if(!this.isNativeEDIFACT(t.charCodeAt(s)))return ft}return a},e.lookAheadTestIntern=function(t,r,n){if(r>=t.length)return n;var a;n===ft?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var i=0,s=new Uint8Array(6),o=[];;){if(r+i===t.length){or.fill(s,0),or.fill(o,0);var c=this.findMinimums(a,o,Ge.MAX_VALUE,s),l=this.getMinimumCount(s);if(o[ft]===c)return ft;if(l===1){if(s[Hr]>0)return Hr;if(s[vr]>0)return vr;if(s[rn]>0)return rn;if(s[tr]>0)return tr}return Tr}var u=t.charCodeAt(r+i);if(i++,this.isDigit(u)?a[ft]+=.5:this.isExtendedASCII(u)?(a[ft]=Math.ceil(a[ft]),a[ft]+=2):(a[ft]=Math.ceil(a[ft]),a[ft]++),this.isNativeC40(u)?a[Tr]+=2/3:this.isExtendedASCII(u)?a[Tr]+=8/3:a[Tr]+=4/3,this.isNativeText(u)?a[rn]+=2/3:this.isExtendedASCII(u)?a[rn]+=8/3:a[rn]+=4/3,this.isNativeX12(u)?a[tr]+=2/3:this.isExtendedASCII(u)?a[tr]+=13/3:a[tr]+=10/3,this.isNativeEDIFACT(u)?a[vr]+=3/4:this.isExtendedASCII(u)?a[vr]+=17/4:a[vr]+=13/4,this.isSpecialB256(u)?a[Hr]+=4:a[Hr]++,i>=4){if(or.fill(s,0),or.fill(o,0),this.findMinimums(a,o,Ge.MAX_VALUE,s),o[ft]<this.min(o[Hr],o[Tr],o[rn],o[tr],o[vr]))return ft;if(o[Hr]<o[ft]||o[Hr]+1<this.min(o[Tr],o[rn],o[tr],o[vr]))return Hr;if(o[vr]+1<this.min(o[Hr],o[Tr],o[rn],o[tr],o[ft]))return vr;if(o[rn]+1<this.min(o[Hr],o[Tr],o[vr],o[tr],o[ft]))return rn;if(o[tr]+1<this.min(o[Hr],o[Tr],o[vr],o[rn],o[ft]))return tr;if(o[Tr]+1<this.min(o[ft],o[Hr],o[vr],o[rn])){if(o[Tr]<o[tr])return Tr;if(o[Tr]===o[tr]){for(var f=r+i+1;f<t.length;){var d=t.charCodeAt(f);if(this.isX12TermSep(d))return tr;if(!this.isNativeX12(d))break;f++}return Tr}}}}},e.min=function(t,r,n,a,i){var s=Math.min(t,Math.min(r,Math.min(n,a)));return i===void 0?s:Math.min(s,i)},e.findMinimums=function(t,r,n,a){for(var i=0;i<6;i++){var s=r[i]=Math.ceil(t[i]);n>s&&(n=s,or.fill(a,0)),n===s&&(a[i]=a[i]+1)}return n},e.getMinimumCount=function(t){for(var r=0,n=0;n<6;n++)r+=t[n];return r||0},e.isDigit=function(t){return t>=48&&t<=57},e.isExtendedASCII=function(t){return t>=128&&t<=255},e.isNativeC40=function(t){return t===32||t>=48&&t<=57||t>=65&&t<=90},e.isNativeText=function(t){return t===32||t>=48&&t<=57||t>=97&&t<=122},e.isNativeX12=function(t){return this.isX12TermSep(t)||t===32||t>=48&&t<=57||t>=65&&t<=90},e.isX12TermSep=function(t){return t===13||t===42||t===62},e.isNativeEDIFACT=function(t){return t>=32&&t<=94},e.isSpecialB256=function(t){return!1},e.determineConsecutiveDigitCount=function(t,r){r===void 0&&(r=0);for(var n=t.length,a=r;a<n&&this.isDigit(t.charCodeAt(a));)a++;return a-r},e.illegalCharacter=function(t){var r=Ge.toHexString(t.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+t+" (0x"+r+")")},e}(),op=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t_=function(){function e(t){this.charset=t,this.name=t.name}return e.prototype.canEncode=function(t){try{return ra.encode(t,this.charset)!=null}catch{return!1}},e}(),a$=function(){function e(t,r,n){var a,i,s,o,c,l;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(T){return new t_(DU.forName(T))}),this.encoders=[];var u=[];u.push(new t_(FU.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),d=0;d<t.length;d++){var h=!1;try{for(var v=(a=void 0,op(u)),p=v.next();!p.done;p=v.next()){var x=p.value,y=t.charAt(d),w=y.charCodeAt(0);if(w===n||x.canEncode(y)){h=!0;break}}}catch(T){a={error:T}}finally{try{p&&!p.done&&(i=v.return)&&i.call(v)}finally{if(a)throw a.error}}if(!h)try{for(var m=(s=void 0,op(this.ENCODERS)),_=m.next();!_.done;_=m.next()){var x=_.value;if(x.canEncode(t.charAt(d))){u.push(x),h=!0;break}}}catch(T){s={error:T}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}h||(f=!0)}if(u.length===1&&!f)this.encoders=[u[0]];else{this.encoders=[];var S=0;try{for(var A=op(u),C=A.next();!C.done;C=A.next()){var x=C.value;this.encoders[S++]=x}}catch(T){c={error:T}}finally{try{C&&!C.done&&(l=A.return)&&l.call(A)}finally{if(c)throw c.error}}}var b=-1;if(r!=null){for(var d=0;d<this.encoders.length;d++)if(this.encoders[d]!=null&&r.name===this.encoders[d].name){b=d;break}}this.priorityEncoderIndex=b}return e.prototype.length=function(){return this.encoders.length},e.prototype.getCharsetName=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].name},e.prototype.getCharset=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].charset},e.prototype.getECIValue=function(t){return this.encoders[t].charset.getValueIdentifier()},e.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},e.prototype.canEncode=function(t,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},e.prototype.encode=function(t,r){if(!(r<this.length()))throw new Error("index must be less than length");return ra.encode(qe.getCharAt(t),this.encoders[r].name)},e}(),i$=3,s$=function(){function e(t,r,n){this.fnc1=n;var a=new a$(t,r,n);if(a.length()===1)for(var i=0;i<this.bytes.length;i++){var s=t.charAt(i).charCodeAt(0);this.bytes[i]=s===n?1e3:s}else this.bytes=this.encodeMinimally(t,a,n)}return e.prototype.getFNC1Character=function(){return this.fnc1},e.prototype.length=function(){return this.bytes.length},e.prototype.haveNCharacters=function(t,r){if(t+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(t+n))return!1;return!0},e.prototype.charAt=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(this.isECI(t))throw new Error("value at "+t+" is not a character but an ECI");return this.isFNC1(t)?this.fnc1:this.bytes[t]},e.prototype.subSequence=function(t,r){if(t<0||t>r||r>this.length())throw new Error(""+t);for(var n=new We,a=t;a<r;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},e.prototype.isECI=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]>255&&this.bytes[t]<=999},e.prototype.isFNC1=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]===1e3},e.prototype.getECIValue=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(!this.isECI(t))throw new Error("value at "+t+" is not an ECI but a character");return this.bytes[t]-256},e.prototype.addEdge=function(t,r,n){(t[r][n.encoderIndex]==null||t[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(t[r][n.encoderIndex]=n)},e.prototype.addEdges=function(t,r,n,a,i,s){var o=t.charAt(a).charCodeAt(0),c=0,l=r.length();r.getPriorityEncoderIndex()>=0&&(o===s||r.canEncode(o,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),l=c+1);for(var u=c;u<l;u++)(o===s||r.canEncode(o,u))&&this.addEdge(n,a+1,new r_(o,r,u,i,s))},e.prototype.encodeMinimally=function(t,r,n){var a=t.length,i=new r_[a+1][r.length()];this.addEdges(t,r,i,0,null,n);for(var s=1;s<=a;s++){for(var o=0;o<r.length();o++)i[s][o]!=null&&s<a&&this.addEdges(t,r,i,s,i[s][o],n);for(var o=0;o<r.length();o++)i[s-1][o]=null}for(var c=-1,l=Ge.MAX_VALUE,o=0;o<r.length();o++)if(i[a][o]!=null){var u=i[a][o];u.cachedTotalSize<l&&(l=u.cachedTotalSize,c=o)}if(c<0)throw new Error('Failed to encode "'+t+'"');for(var f=[],d=i[a][c];d!=null;){if(d.isFNC1())f.unshift(1e3);else for(var h=r.encode(d.c,d.encoderIndex),s=h.length-1;s>=0;s--)f.unshift(h[s]&255);var v=d.previous===null?0:d.previous.encoderIndex;v!==d.encoderIndex&&f.unshift(256+r.getECIValue(d.encoderIndex)),d=d.previous}for(var p=[],s=0;s<p.length;s++)p[s]=f[s];return p},e}(),r_=function(){function e(t,r,n,a,i){this.c=t,this.encoderSet=r,this.encoderIndex=n,this.previous=a,this.fnc1=i,this.c=t===i?1e3:t;var s=this.isFNC1()?1:r.encode(t,n).length,o=a===null?0:a.encoderIndex;o!==n&&(s+=i$),a!=null&&(s+=a.cachedTotalSize),this.cachedTotalSize=s}return e.prototype.isFNC1=function(){return this.c===1e3},e}(),o$=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var n_;(function(e){e[e.ASCII=0]="ASCII",e[e.C40=1]="C40",e[e.TEXT=2]="TEXT",e[e.X12=3]="X12",e[e.EDF=4]="EDF",e[e.B256=5]="B256"})(n_||(n_={}));(function(e){o$(t,e);function t(r,n,a,i,s){var o=e.call(this,r,n,a)||this;return o.shape=i,o.macroId=s,o}return t.prototype.getMacroId=function(){return this.macroId},t.prototype.getShapeHint=function(){return this.shape},t})(s$);var c$=function(){function e(){}return e.prototype.isCompact=function(){return this.compact},e.prototype.setCompact=function(t){this.compact=t},e.prototype.getSize=function(){return this.size},e.prototype.setSize=function(t){this.size=t},e.prototype.getLayers=function(){return this.layers},e.prototype.setLayers=function(t){this.layers=t},e.prototype.getCodeWords=function(){return this.codeWords},e.prototype.setCodeWords=function(t){this.codeWords=t},e.prototype.getMatrix=function(){return this.matrix},e.prototype.setMatrix=function(t){this.matrix=t},e}(),a_=function(){function e(){}return e.singletonList=function(t){return[t]},e.min=function(t,r){return t.sort(r)[0]},e}(),l$=function(){function e(t){this.previous=t}return e.prototype.getPrevious=function(){return this.previous},e}(),u$=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ym=function(e){u$(t,e);function t(r,n,a){var i=e.call(this,r)||this;return i.value=n,i.bitCount=a,i}return t.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},t.prototype.add=function(r,n){return new t(this,r,n)},t.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,r,n)},t.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Ge.toBinaryString(r|1<<this.bitCount).substring(1)+">"},t}(l$),f$=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),d$=function(e){f$(t,e);function t(r,n,a){var i=e.call(this,r,0,0)||this;return i.binaryShiftStart=n,i.binaryShiftByteCount=a,i}return t.prototype.appendTo=function(r,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+a],8)},t.prototype.addBinaryShift=function(r,n){return new t(this,r,n)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t}(ym);function h$(e,t,r){return new d$(e,t,r)}function jl(e,t,r){return new ym(e,t,r)}var p$=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ss=0,Fd=1,ea=2,lT=3,qa=4,v$=new ym(null,0,0),cp=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],g$=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function x$(e){var t,r;try{for(var n=g$(e),a=n.next();!a.done;a=n.next()){var i=a.value;or.fill(i,-1)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e[Ss][qa]=0,e[Fd][qa]=0,e[Fd][Ss]=28,e[lT][qa]=0,e[ea][qa]=0,e[ea][Ss]=15,e}var uT=x$(or.createInt32Array(6,6)),m$=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},y$=function(){function e(t,r,n,a){this.token=t,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=a}return e.prototype.getMode=function(){return this.mode},e.prototype.getToken=function(){return this.token},e.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},e.prototype.getBitCount=function(){return this.bitCount},e.prototype.latchAndAppend=function(t,r){var n=this.bitCount,a=this.token;if(t!==this.mode){var i=cp[this.mode][t];a=jl(a,i&65535,i>>16),n+=i>>16}var s=t===ea?4:5;return a=jl(a,r,s),new e(a,t,0,n+s)},e.prototype.shiftAndAppend=function(t,r){var n=this.token,a=this.mode===ea?4:5;return n=jl(n,uT[this.mode][t],a),n=jl(n,r,5),new e(n,this.mode,0,this.bitCount+a+5)},e.prototype.addBinaryShiftChar=function(t){var r=this.token,n=this.mode,a=this.bitCount;if(this.mode===qa||this.mode===ea){var i=cp[n][Ss];r=jl(r,i&65535,i>>16),a+=i>>16,n=Ss}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new e(r,n,this.binaryShiftByteCount+1,a+s);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(t+1)),o},e.prototype.endBinaryShift=function(t){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=h$(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new e(r,this.mode,0,this.bitCount)},e.prototype.isBetterThanOrEqualTo=function(t){var r=this.bitCount+(cp[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=e.calculateBinaryShiftCost(t)-e.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount},e.prototype.toBitArray=function(t){for(var r,n,a=[],i=this.endBinaryShift(t.length).token;i!==null;i=i.getPrevious())a.unshift(i);var s=new wr;try{for(var o=m$(a),c=o.next();!c.done;c=o.next()){var l=c.value;l.appendTo(s,t)}}catch(u){r={error:u}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},e.prototype.toString=function(){return qe.format("%s bits=%d bytes=%d",p$[this.mode],this.bitCount,this.binaryShiftByteCount)},e.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},e.INITIAL_STATE=new e(v$,Ss,0,0),e}();function w$(e){var t=qe.getCharCode(" "),r=qe.getCharCode("."),n=qe.getCharCode(",");e[Ss][t]=1;for(var a=qe.getCharCode("Z"),i=qe.getCharCode("A"),s=i;s<=a;s++)e[Ss][s]=s-i+2;e[Fd][t]=1;for(var o=qe.getCharCode("z"),c=qe.getCharCode("a"),s=c;s<=o;s++)e[Fd][s]=s-c+2;e[ea][t]=1;for(var l=qe.getCharCode("9"),u=qe.getCharCode("0"),s=u;s<=l;s++)e[ea][s]=s-u+2;e[ea][n]=12,e[ea][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],d=0;d<f.length;d++)e[lT][qe.getCharCode(f[d])]=d;for(var h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],d=0;d<h.length;d++)qe.getCharCode(h[d])>0&&(e[qa][qe.getCharCode(h[d])]=d);return e}var lp=w$(or.createInt32Array(5,256)),C0=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_$=function(){function e(t){this.text=t}return e.prototype.encode=function(){for(var t=qe.getCharCode(" "),r=qe.getCharCode(`
`),n=a_.singletonList(y$.INITIAL_STATE),a=0;a<this.text.length;a++){var i=void 0,s=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case qe.getCharCode("\r"):i=s===r?2:0;break;case qe.getCharCode("."):i=s===t?3:0;break;case qe.getCharCode(","):i=s===t?4:0;break;case qe.getCharCode(":"):i=s===t?5:0;break;default:i=0}i>0?(n=e.updateStateListForPair(n,a,i),a++):n=this.updateStateListForChar(n,a)}var o=a_.min(n,function(c,l){return c.getBitCount()-l.getBitCount()});return o.toBitArray(this.text)},e.prototype.updateStateListForChar=function(t,r){var n,a,i=[];try{for(var s=C0(t),o=s.next();!o.done;o=s.next()){var c=o.value;this.updateStateForChar(c,r,i)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return e.simplifyStates(i)},e.prototype.updateStateForChar=function(t,r,n){for(var a=this.text[r]&255,i=lp[t.getMode()][a]>0,s=null,o=0;o<=qa;o++){var c=lp[o][a];if(c>0){if(s==null&&(s=t.endBinaryShift(r)),!i||o===t.getMode()||o===ea){var l=s.latchAndAppend(o,c);n.push(l)}if(!i&&uT[t.getMode()][o]>=0){var u=s.shiftAndAppend(o,c);n.push(u)}}}if(t.getBinaryShiftByteCount()>0||lp[t.getMode()][a]===0){var f=t.addBinaryShiftChar(r);n.push(f)}},e.updateStateListForPair=function(t,r,n){var a,i,s=[];try{for(var o=C0(t),c=o.next();!c.done;c=o.next()){var l=c.value;this.updateStateForPair(l,r,n,s)}}catch(u){a={error:u}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}return this.simplifyStates(s)},e.updateStateForPair=function(t,r,n,a){var i=t.endBinaryShift(r);if(a.push(i.latchAndAppend(qa,n)),t.getMode()!==qa&&a.push(i.shiftAndAppend(qa,n)),n===3||n===4){var s=i.latchAndAppend(ea,16-n).latchAndAppend(ea,1);a.push(s)}if(t.getBinaryShiftByteCount()>0){var o=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(o)}},e.simplifyStates=function(t){var r,n,a,i,s=[];try{for(var o=C0(t),c=o.next();!c.done;c=o.next()){var l=c.value,u=!0,f=function(x){if(x.isBetterThanOrEqualTo(l))return u=!1,"break";l.isBetterThanOrEqualTo(x)&&(s=s.filter(function(y){return y!==x}))};try{for(var d=(a=void 0,C0(s)),h=d.next();!h.done;h=d.next()){var v=h.value,p=f(v);if(p==="break")break}}catch(x){a={error:x}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}u&&s.push(l)}}catch(x){r={error:x}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},e}(),E$=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(){}return e.encodeBytes=function(t){return e.encode(t,e.DEFAULT_EC_PERCENT,e.DEFAULT_AZTEC_LAYERS)},e.encode=function(t,r,n){var a=new _$(t).encode(),i=Ge.truncDivision(a.getSize()*r,100)+11,s=a.getSize()+i,o,c,l,u,f;if(n!==e.DEFAULT_AZTEC_LAYERS){if(o=n<0,c=Math.abs(n),c>(o?e.MAX_NB_BITS_COMPACT:e.MAX_NB_BITS))throw new Oe(qe.format("Illegal value %s for layers",n));l=e.totalBitsInLayer(c,o),u=e.WORD_SIZE[c];var d=l-l%u;if(f=e.stuffBits(a,u),f.getSize()+i>d)throw new Oe("Data to large for user specified layer");if(o&&f.getSize()>u*64)throw new Oe("Data to large for user specified layer")}else{u=0,f=null;for(var h=0;;h++){if(h>e.MAX_NB_BITS)throw new Oe("Data too large for an Aztec code");if(o=h<=3,c=o?h+1:h,l=e.totalBitsInLayer(c,o),!(s>l)){(f==null||u!==e.WORD_SIZE[c])&&(u=e.WORD_SIZE[c],f=e.stuffBits(a,u));var d=l-l%u;if(!(o&&f.getSize()>u*64)&&f.getSize()+i<=d)break}}}var v=e.generateCheckWords(f,l,u),p=f.getSize()/u,x=e.generateModeMessage(o,c,p),y=(o?11:14)+c*4,w=new Int32Array(y),m;if(o){m=y;for(var h=0;h<w.length;h++)w[h]=h}else{m=y+1+2*Ge.truncDivision(Ge.truncDivision(y,2)-1,15);for(var _=Ge.truncDivision(y,2),S=Ge.truncDivision(m,2),h=0;h<_;h++){var A=h+Ge.truncDivision(h,15);w[_-h-1]=S-A-1,w[_+h]=S+A+1}}for(var C=new ai(m),h=0,b=0;h<c;h++){for(var T=(c-h)*4+(o?9:12),O=0;O<T;O++)for(var U=O*2,R=0;R<2;R++)v.get(b+U+R)&&C.set(w[h*2+R],w[h*2+O]),v.get(b+T*2+U+R)&&C.set(w[h*2+O],w[y-1-h*2-R]),v.get(b+T*4+U+R)&&C.set(w[y-1-h*2-R],w[y-1-h*2-O]),v.get(b+T*6+U+R)&&C.set(w[y-1-h*2-O],w[h*2+R]);b+=T*8}if(e.drawModeMessage(C,o,m,x),o)e.drawBullsEye(C,Ge.truncDivision(m,2),5);else{e.drawBullsEye(C,Ge.truncDivision(m,2),7);for(var h=0,O=0;h<Ge.truncDivision(y,2)-1;h+=15,O+=16)for(var R=Ge.truncDivision(m,2)&1;R<m;R+=2)C.set(Ge.truncDivision(m,2)-O,R),C.set(Ge.truncDivision(m,2)+O,R),C.set(R,Ge.truncDivision(m,2)-O),C.set(R,Ge.truncDivision(m,2)+O)}var H=new c$;return H.setCompact(o),H.setSize(m),H.setLayers(c),H.setCodeWords(p),H.setMatrix(C),H},e.drawBullsEye=function(t,r,n){for(var a=0;a<n;a+=2)for(var i=r-a;i<=r+a;i++)t.set(i,r-a),t.set(i,r+a),t.set(r-a,i),t.set(r+a,i);t.set(r-n,r-n),t.set(r-n+1,r-n),t.set(r-n,r-n+1),t.set(r+n,r-n),t.set(r+n,r-n+1),t.set(r+n,r+n-1)},e.generateModeMessage=function(t,r,n){var a=new wr;return t?(a.appendBits(r-1,2),a.appendBits(n-1,6),a=e.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(n-1,11),a=e.generateCheckWords(a,40,4)),a},e.drawModeMessage=function(t,r,n,a){var i=Ge.truncDivision(n,2);if(r)for(var s=0;s<7;s++){var o=i-3+s;a.get(s)&&t.set(o,i-5),a.get(s+7)&&t.set(i+5,o),a.get(20-s)&&t.set(o,i+5),a.get(27-s)&&t.set(i-5,o)}else for(var s=0;s<10;s++){var o=i-5+s+Ge.truncDivision(s,5);a.get(s)&&t.set(o,i-7),a.get(s+10)&&t.set(i+7,o),a.get(29-s)&&t.set(o,i+7),a.get(39-s)&&t.set(i-7,o)}},e.generateCheckWords=function(t,r,n){var a,i,s=t.getSize()/n,o=new oT(e.getGF(n)),c=Ge.truncDivision(r,n),l=e.bitsToWords(t,n,c);o.encode(l,c-s);var u=r%n,f=new wr;f.appendBits(0,u);try{for(var d=E$(Array.from(l)),h=d.next();!h.done;h=d.next()){var v=h.value;f.appendBits(v,n)}}catch(p){a={error:p}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}return f},e.bitsToWords=function(t,r,n){var a=new Int32Array(n),i,s;for(i=0,s=t.getSize()/r;i<s;i++){for(var o=0,c=0;c<r;c++)o|=t.get(i*r+c)?1<<r-c-1:0;a[i]=o}return a},e.getGF=function(t){switch(t){case 4:return Cn.AZTEC_PARAM;case 6:return Cn.AZTEC_DATA_6;case 8:return Cn.AZTEC_DATA_8;case 10:return Cn.AZTEC_DATA_10;case 12:return Cn.AZTEC_DATA_12;default:throw new Oe("Unsupported word size "+t)}},e.stuffBits=function(t,r){for(var n=new wr,a=t.getSize(),i=(1<<r)-2,s=0;s<a;s+=r){for(var o=0,c=0;c<r;c++)(s+c>=a||t.get(s+c))&&(o|=1<<r-1-c);(o&i)===i?(n.appendBits(o&i,r),s--):o&i?n.appendBits(o,r):(n.appendBits(o|1,r),s--)}return n},e.totalBitsInLayer=function(t,r){return((r?88:112)+16*t)*t},e.DEFAULT_EC_PERCENT=33,e.DEFAULT_AZTEC_LAYERS=0,e.MAX_NB_BITS=32,e.MAX_NB_BITS_COMPACT=4,e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),e})();var fT={exports:{}};(function(e,t){(function(n,a){e.exports=a(E)})(jn,function(r){return function(n){var a={};function i(s){if(a[s])return a[s].exports;var o=a[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=a,i.d=function(s,o,c){i.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:c})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,o){if(o&1&&(s=i(s)),o&8||o&4&&typeof s=="object"&&s&&s.__esModule)return s;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:s}),o&2&&typeof s!="string")for(var l in s)i.d(c,l,(function(u){return s[u]}).bind(null,l));return c},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(n,a,i){i.r(a);var s=i("react"),o=function(){var d=function(h,v){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var y in x)x.hasOwnProperty(y)&&(p[y]=x[y])},d(h,v)};return function(h,v){d(h,v);function p(){this.constructor=h}h.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}}(),c=function(){return c=Object.assign||function(d){for(var h,v=1,p=arguments.length;v<p;v++){h=arguments[v];for(var x in h)Object.prototype.hasOwnProperty.call(h,x)&&(d[x]=h[x])}return d},c.apply(this,arguments)},l=function(d,h){var v={};for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&h.indexOf(p)<0&&(v[p]=d[p]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,p=Object.getOwnPropertySymbols(d);x<p.length;x++)h.indexOf(p[x])<0&&Object.prototype.propertyIsEnumerable.call(d,p[x])&&(v[p[x]]=d[p[x]]);return v};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(h){var v=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return v?new Promise(function(p,x){v.call(navigator,h,p,x)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var f=function(d){o(h,d);function h(v){var p=d.call(this,v)||this;return p.canvas=null,p.ctx=null,p.requestUserMediaId=0,p.unmounted=!1,p.state={hasUserMedia:!1},p}return h.prototype.componentDidMount=function(){var v=this,p=v.state,x=v.props;if(this.unmounted=!1,!u()){x.onUserMediaError("getUserMedia not supported");return}p.hasUserMedia||this.requestUserMedia(),x.children&&typeof x.children!="function"&&console.warn("children must be a function")},h.prototype.componentDidUpdate=function(v){var p=this.props;if(!u()){p.onUserMediaError("getUserMedia not supported");return}var x=JSON.stringify(v.audioConstraints)!==JSON.stringify(p.audioConstraints),y=JSON.stringify(v.videoConstraints)!==JSON.stringify(p.videoConstraints),w=v.minScreenshotWidth!==p.minScreenshotWidth,m=v.minScreenshotHeight!==p.minScreenshotHeight;(y||w||m)&&(this.canvas=null,this.ctx=null),(x||y)&&(this.stopAndCleanup(),this.requestUserMedia())},h.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},h.stopMediaStream=function(v){v&&(v.getVideoTracks&&v.getAudioTracks?(v.getVideoTracks().map(function(p){v.removeTrack(p),p.stop()}),v.getAudioTracks().map(function(p){v.removeTrack(p),p.stop()})):v.stop())},h.prototype.stopAndCleanup=function(){var v=this.state;v.hasUserMedia&&(h.stopMediaStream(this.stream),v.src&&window.URL.revokeObjectURL(v.src))},h.prototype.getScreenshot=function(v){var p=this,x=p.state,y=p.props;if(!x.hasUserMedia)return null;var w=this.getCanvas(v);return w&&w.toDataURL(y.screenshotFormat,y.screenshotQuality)},h.prototype.getCanvas=function(v){var p=this,x=p.state,y=p.props;if(!this.video||!x.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var w=this.video.videoWidth,m=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var _=w/m;w=y.minScreenshotWidth||this.video.clientWidth,m=w/_,y.minScreenshotHeight&&m<y.minScreenshotHeight&&(m=y.minScreenshotHeight,w=m*_)}this.canvas=document.createElement("canvas"),this.canvas.width=(v==null?void 0:v.width)||w,this.canvas.height=(v==null?void 0:v.height)||m,this.ctx=this.canvas.getContext("2d")}var S=this,A=S.ctx,C=S.canvas;return A&&C&&(C.width=(v==null?void 0:v.width)||C.width,C.height=(v==null?void 0:v.height)||C.height,y.mirrored&&(A.translate(C.width,0),A.scale(-1,1)),A.imageSmoothingEnabled=y.imageSmoothing,A.drawImage(this.video,0,0,(v==null?void 0:v.width)||C.width,(v==null?void 0:v.height)||C.height),y.mirrored&&(A.scale(-1,1),A.translate(-C.width,0))),C},h.prototype.requestUserMedia=function(){var v=this,p=this.props,x=function(m,_){var S={video:typeof _<"u"?_:!0};p.audio&&(S.audio=typeof m<"u"?m:!0),v.requestUserMediaId++;var A=v.requestUserMediaId;navigator.mediaDevices.getUserMedia(S).then(function(C){v.unmounted||A!==v.requestUserMediaId?h.stopMediaStream(C):v.handleUserMedia(null,C)}).catch(function(C){v.handleUserMedia(C)})};if("mediaDevices"in navigator)x(p.audioConstraints,p.videoConstraints);else{var y=function(m){return{optional:[{sourceId:m}]}},w=function(m){var _=m.deviceId;return typeof _=="string"?_:Array.isArray(_)&&_.length>0?_[0]:typeof _=="object"&&_.ideal?_.ideal:null};MediaStreamTrack.getSources(function(m){var _=null,S=null;m.forEach(function(b){b.kind==="audio"?_=b.id:b.kind==="video"&&(S=b.id)});var A=w(p.audioConstraints);A&&(_=A);var C=w(p.videoConstraints);C&&(S=C),x(y(_),y(S))})}},h.prototype.handleUserMedia=function(v,p){var x=this.props;if(v||!p){this.setState({hasUserMedia:!1}),x.onUserMediaError(v);return}this.stream=p;try{this.video&&(this.video.srcObject=p),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(p)})}x.onUserMedia(p)},h.prototype.render=function(){var v=this,p=this,x=p.state,y=p.props,w=y.audio;y.forceScreenshotSourceSize;var m=y.disablePictureInPicture;y.onUserMedia,y.onUserMediaError,y.screenshotFormat,y.screenshotQuality,y.minScreenshotWidth,y.minScreenshotHeight,y.audioConstraints,y.videoConstraints,y.imageSmoothing;var _=y.mirrored,S=y.style,A=S===void 0?{}:S,C=y.children,b=l(y,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),T=_?c(c({},A),{transform:(A.transform||"")+" scaleX(-1)"}):A,O={getScreenshot:this.getScreenshot.bind(this)};return s.createElement(s.Fragment,null,s.createElement("video",c({autoPlay:!0,disablePictureInPicture:m,src:x.src,muted:!w,playsInline:!0,ref:function(U){v.video=U},style:T},b)),C&&C(O))},h.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},h}(s.Component);a.default=f},react:function(n,a){n.exports=r}}).default})})(fT);var C$=fT.exports;const S$=bg(C$),A$=({onUpdate:e,onError:t,width:r="100%",height:n="100%",facingMode:a="environment",torch:i,delay:s=500,videoConstraints:o,stopStream:c,formats:l})=>{const u=E.useRef(null),f=E.useCallback(()=>{var v;const d=new SU(new Map([[kt.POSSIBLE_FORMATS,l==null?void 0:l.map(p=>typeof p=="string"?Ie[p]:p)]])),h=(v=u==null?void 0:u.current)==null?void 0:v.getScreenshot();h&&d.decodeFromImage(void 0,h).then(p=>{e(null,p)}).catch(p=>{e(p)})},[e,l]);return E.useEffect(()=>{var d,h,v;if(typeof i=="boolean"&&((d=navigator==null?void 0:navigator.mediaDevices)==null?void 0:d.getSupportedConstraints()).torch){const p=(v=(h=u==null?void 0:u.current)==null?void 0:h.video)==null?void 0:v.srcObject,x=p==null?void 0:p.getVideoTracks()[0];x&&x.getCapabilities().torch&&x.applyConstraints({advanced:[{torch:i}]}).catch(y=>e(y))}},[i,e]),E.useEffect(()=>{var d,h;if(c){let v=(h=(d=u==null?void 0:u.current)==null?void 0:d.video)==null?void 0:h.srcObject;v&&(v.getTracks().forEach(p=>{v==null||v.removeTrack(p),p.stop()}),v=null)}},[c]),E.useEffect(()=>{const d=setInterval(f,s);return()=>{clearInterval(d)}},[f,s]),g.jsx(S$,{width:r,height:n,ref:u,screenshotFormat:"image/jpeg",videoConstraints:o||{facingMode:a},audio:!1,onUserMediaError:t,"data-testid":"video"})};var i_;(function(e){e.AZTEC="AZTEC",e.CODABAR="CODABAR",e.CODE_39="CODE_39",e.CODE_93="CODE_93",e.CODE_128="CODE_128",e.DATA_MATRIX="DATA_MATRIX",e.EAN_8="EAN_8",e.EAN_13="EAN_13",e.ITF="ITF",e.MAXICODE="MAXICODE",e.PDF_417="PDF_417",e.QR_CODE="QR_CODE",e.RSS_14="RSS_14",e.RSS_EXPANDED="RSS_EXPANDED",e.UPC_A="UPC_A",e.UPC_E="UPC_E",e.UPC_EAN_EXTENSION="UPC_EAN_EXTENSION"})(i_||(i_={}));var no;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(no||(no={}));var hu;(function(e){e.Rear="REAR",e.Front="FRONT"})(hu||(hu={}));var pg;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(pg||(pg={}));class b$ extends fm{async getPhoto(t){return new Promise(async(r,n)=>{if(t.webUseInput||t.source===no.Photos)this.fileInputExperience(t,r,n);else if(t.source===no.Prompt){let a=document.querySelector("pwa-action-sheet");a||(a=document.createElement("pwa-action-sheet"),document.body.appendChild(a)),a.header=t.promptLabelHeader||"Photo",a.cancelable=!1,a.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],a.addEventListener("onSelection",async i=>{i.detail===0?this.fileInputExperience(t,r,n):this.cameraExperience(t,r,n)})}else this.cameraExperience(t,r,n)})}async pickImages(t){return new Promise(async(r,n)=>{this.multipleFileInputExperience(r,n)})}async cameraExperience(t,r,n){if(customElements.get("pwa-camera-modal")){const a=document.createElement("pwa-camera-modal");a.facingMode=t.direction===hu.Front?"user":"environment",document.body.appendChild(a);try{await a.componentOnReady(),a.addEventListener("onPhoto",async i=>{const s=i.detail;s===null?n(new Oc("User cancelled photos app")):s instanceof Error?n(s):r(await this._getCameraPhoto(s,t)),a.dismiss(),document.body.removeChild(a)}),a.present()}catch{this.fileInputExperience(t,r,n)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,r,n)}fileInputExperience(t,r,n){let a=document.querySelector("#_capacitor-camera-input");const i=()=>{var s;(s=a.parentNode)===null||s===void 0||s.removeChild(a)};a||(a=document.createElement("input"),a.id="_capacitor-camera-input",a.type="file",a.hidden=!0,document.body.appendChild(a),a.addEventListener("change",s=>{const o=a.files[0];let c="jpeg";if(o.type==="image/png"?c="png":o.type==="image/gif"&&(c="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const l=new FileReader;l.addEventListener("load",()=>{if(t.resultType==="dataUrl")r({dataUrl:l.result,format:c});else if(t.resultType==="base64"){const u=l.result.split(",")[1];r({base64String:u,format:c})}i()}),l.readAsDataURL(o)}else r({webPath:URL.createObjectURL(o),format:c}),i()}),a.addEventListener("cancel",s=>{n(new Oc("User cancelled photos app")),i()})),a.accept="image/*",a.capture=!0,t.source===no.Photos||t.source===no.Prompt?a.removeAttribute("capture"):t.direction===hu.Front?a.capture="user":t.direction===hu.Rear&&(a.capture="environment"),a.click()}multipleFileInputExperience(t,r){let n=document.querySelector("#_capacitor-camera-input-multiple");const a=()=>{var i;(i=n.parentNode)===null||i===void 0||i.removeChild(n)};n||(n=document.createElement("input"),n.id="_capacitor-camera-input-multiple",n.type="file",n.hidden=!0,n.multiple=!0,document.body.appendChild(n),n.addEventListener("change",i=>{const s=[];for(let o=0;o<n.files.length;o++){const c=n.files[o];let l="jpeg";c.type==="image/png"?l="png":c.type==="image/gif"&&(l="gif"),s.push({webPath:URL.createObjectURL(c),format:l})}t({photos:s}),a()}),n.addEventListener("cancel",i=>{r(new Oc("User cancelled photos app")),a()})),n.accept="image/*",n.click()}_getCameraPhoto(t,r){return new Promise((n,a)=>{const i=new FileReader,s=t.type.split("/")[1];r.resultType==="uri"?n({webPath:URL.createObjectURL(t),format:s,saved:!1}):(i.readAsDataURL(t),i.onloadend=()=>{const o=i.result;r.resultType==="dataUrl"?n({dataUrl:o,format:s,saved:!1}):n({base64String:o.split(",")[1],format:s,saved:!1})},i.onerror=o=>{a(o)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const T$=Rf("Camera",{web:()=>new b$});function k$({onScan:e,onClose:t,isOpen:r}){const[n,a]=E.useState(!1),[i,s]=E.useState(!1),{toast:o}=Do(),c=v=>{v&&(e(v),a(!1))},l=v=>{console.error("Barcode scanner error:",v)},u=async v=>{s(!0);try{const{data:p,error:x}=await _e.functions.invoke("ai-barcode-detection",{body:{imageData:v}});if(x)throw x;p.barcode?(e(p.barcode),a(!1),s(!1),p.product?o({title:"   ",description:`${p.product.name}
: ${p.product.price.toLocaleString()} .
: ${p.product.stock}`,duration:5e3}):o({title:"  ",description:`: ${p.barcode}
      `,variant:"destructive"})):o({title:"    ",description:p.message||"        ",variant:"destructive"})}catch(p){console.error("   :",p),o({title:"  ",description:"     ",variant:"destructive"})}finally{s(!1)}},f=async()=>{if(Qn.isNativePlatform())try{const v=await T$.getPhoto({quality:90,allowEditing:!1,resultType:pg.DataUrl,source:no.Camera});v.dataUrl&&await u(v.dataUrl)}catch(v){console.error("  :",v),o({title:"  ",description:"   ",variant:"destructive"})}else a(!0)},d=async()=>{try{const v=document.querySelector("video");if(!v)return;const p=document.createElement("canvas");p.width=v.videoWidth,p.height=v.videoHeight;const x=p.getContext("2d");if(!x)return;x.drawImage(v,0,0);const y=p.toDataURL("image/jpeg",.8);await u(y)}catch(v){console.error("   :",v),o({title:"   ",description:"    ",variant:"destructive"})}},h=()=>{a(!1)};return r?g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:g.jsx(yf,{className:"w-full max-w-md bg-background",children:g.jsxs(wf,{className:"p-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h3",{className:"text-lg font-semibold",children:" "}),g.jsx(Ne,{variant:"ghost",size:"sm",onClick:t,children:g.jsx(Co,{size:16})})]}),n?g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"aspect-square bg-black rounded-lg overflow-hidden",children:g.jsx(A$,{width:"100%",height:"100%",onUpdate:(v,p)=>{p&&c(p.getText()),v&&l(v)}})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Ne,{variant:"outline",onClick:h,className:"flex-1",disabled:i,children:""}),g.jsxs(Ne,{onClick:d,className:"flex-1",disabled:i,children:[g.jsx(BN,{size:16,className:"mr-2"}),i?" ...":"  "]}),g.jsx(Ne,{variant:"ghost",onClick:t,className:"flex-1",disabled:i,children:""})]})]}):g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx(xv,{size:48,className:"mx-auto text-muted-foreground"}),g.jsx("p",{className:"text-muted-foreground",children:"   "}),g.jsxs(Ne,{onClick:f,className:"w-full",disabled:i,children:[g.jsx(xv,{size:16,className:"mr-2"}),i?" ...":" "]})]})]})})}):null}function I$({open:e,onOpenChange:t,product:r}){const{addProduct:n,updateProduct:a,categories:i,fetchCategories:s}=Oh(),{toast:o}=Do(),[c,l]=E.useState({name:"",price:"",category:"",image:"",barcode:"",parent_id:"none"}),[u,f]=E.useState(!1),[d,h]=E.useState(!1),[v,p]=E.useState(""),x=E.useRef(null),[y,w]=E.useState(""),[m,_]=E.useState([]),[S,A]=E.useState(!1),[C,b]=E.useState("");E.useEffect(()=>{e&&(s(),(async()=>{const{data:K}=await _e.from("products").select("id, name").is("parent_id",null).order("name",{ascending:!0}).limit(15);K&&_(K.filter(Q=>Q.id!==(r==null?void 0:r.id)))})())},[e,s,r]),E.useEffect(()=>{if(!y.trim())return;const H=setTimeout(async()=>{const{data:K}=await _e.from("products").select("id, name").is("parent_id",null).ilike("name",`%${y}%`).order("name",{ascending:!0}).limit(15);K&&_(K.filter(Q=>Q.id!==(r==null?void 0:r.id)))},300);return()=>clearTimeout(H)},[y,r]),E.useEffect(()=>{const H=K=>{const Q=K.target;!Q.closest("#parent_search")&&!Q.closest(".parent-dropdown")&&A(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]),E.useEffect(()=>{r?(l({name:r.name,price:r.price.toString(),category:r.category,image:r.image,barcode:r.barcode||"",parent_id:r.parent_id||"none"}),h(!1),p(""),r.parent_id?_e.from("products").select("name").eq("id",r.parent_id).single().then(({data:H})=>{H&&(b(H.name),w(H.name))}):(b(""),w(""))):(l({name:"",price:"",category:"",image:"/placeholder.svg",barcode:"",parent_id:"none"}),h(!1),p(""),b(""),w(""))},[r,e]);const T=H=>{if(H.preventDefault(),!c.name||!c.price||!c.category){o({title:"",description:"    ",variant:"destructive"});return}const K={name:c.name,price:parseFloat(c.price),category:c.category,stock:100,image:c.image||"/placeholder.svg",barcode:c.barcode,parent_id:c.parent_id==="none"?null:c.parent_id};r?(a(r.id,K),o({title:" ",description:"   "})):(n(K),o({title:" ",description:"   "})),t(!1)},O=(H,K)=>{l(Q=>({...Q,[H]:K}))},U=H=>{O("barcode",H),f(!1),o({title:"  ",description:`: ${H}`})},R=H=>{var Q;const K=(Q=H.target.files)==null?void 0:Q[0];if(K){const J=new FileReader;J.onload=se=>{var L;const Y=(L=se.target)==null?void 0:L.result;O("image",Y)},J.readAsDataURL(K),o({title:"  ",description:"    "})}};return g.jsx(ei,{open:e,onOpenChange:t,children:g.jsxs(Oa,{className:"sm:max-w-md",dir:"rtl",children:[g.jsx(ti,{children:g.jsx(ri,{className:"text-right",children:r?" ":"  "})}),g.jsxs("form",{onSubmit:T,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Zn,{htmlFor:"name",className:"text-right block",children:" "}),g.jsx(zt,{id:"name",value:c.name,onChange:H=>O("name",H.target.value),placeholder:"  ",className:"text-right",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Zn,{htmlFor:"price",className:"text-right block",children:" (.)"}),g.jsx(zt,{id:"price",type:"number",step:"0.01",min:"0",value:c.price,onChange:H=>O("price",H.target.value),placeholder:"0.00",className:"text-right",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Zn,{htmlFor:"category",className:"text-right block",children:""}),d?g.jsxs("div",{className:"flex gap-2",children:[g.jsx(zt,{id:"category",value:v,onChange:H=>p(H.target.value),placeholder:"   ",className:"text-right flex-1",required:!0}),g.jsx(Ne,{type:"button",variant:"outline",onClick:()=>{v.trim()&&O("category",v.trim()),h(!1),p("")},className:"px-3",children:""}),g.jsx(Ne,{type:"button",variant:"ghost",onClick:()=>{h(!1),p("")},className:"px-3",children:""})]}):g.jsx("div",{className:"flex gap-2",children:g.jsxs(Vh,{value:c.category,onValueChange:H=>{H==="__new__"?(h(!0),O("category","")):O("category",H)},children:[g.jsx(Nf,{className:"flex-1 text-right",children:g.jsx(zh,{placeholder:" "})}),g.jsxs(Of,{children:[i.map(H=>g.jsxs(Ut,{value:H.name,children:[H.icon," ",H.name]},H.id)),g.jsxs(Ut,{value:"__new__",className:"text-primary font-medium",children:[g.jsx(_v,{className:"inline-block mr-2",size:14}),"  "]})]})]})}),c.category&&!d&&g.jsxs("p",{className:"text-sm text-muted-foreground",children:[" : ",c.category]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Zn,{htmlFor:"barcode",className:"text-right block",children:" ()"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(zt,{id:"barcode",value:c.barcode,onChange:H=>O("barcode",H.target.value),placeholder:"   ",className:"text-right flex-1"}),g.jsx(Ne,{type:"button",variant:"outline",onClick:()=>f(!0),className:"px-3",children:g.jsx(xv,{size:16})})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Zn,{htmlFor:"parent_id",className:"text-right block",children:"   ()"}),g.jsxs("div",{className:"relative",children:[g.jsx(zt,{id:"parent_search",value:y,onChange:H=>{w(H.target.value),A(!0)},onFocus:()=>A(!0),placeholder:"   ...",className:"text-right w-full",autoComplete:"off"}),S&&g.jsxs("div",{className:"parent-dropdown absolute z-50 w-full mt-1 bg-background border-none rounded-xl shadow-neu max-h-48 overflow-y-auto",children:[g.jsx("button",{type:"button",className:`w-full text-right px-3 py-2 hover:bg-primary/5 hover:text-primary transition-colors text-sm ${c.parent_id==="none"?"bg-primary/10 font-bold":""}`,onClick:()=>{O("parent_id","none"),w(""),b(""),A(!1)},children:" ( )"}),m.map(H=>g.jsx("button",{type:"button",className:`w-full text-right px-3 py-2 hover:bg-primary/5 hover:text-primary transition-colors text-sm ${c.parent_id===H.id?"bg-primary/10 font-bold":""}`,onClick:()=>{O("parent_id",H.id),b(H.name),w(H.name),A(!1)},children:H.name},H.id)),y.trim()&&m.length===0&&g.jsx("div",{className:"px-3 py-2 text-sm text-gray-400 text-center",children:"  "})]})]}),C&&c.parent_id!=="none"&&g.jsxs("p",{className:"text-sm text-blue-600 text-right",children:[" : ",C]}),g.jsx("p",{className:"text-xs text-muted-foreground text-right mt-1",children:"            (  )."})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Zn,{htmlFor:"image",className:"text-right block",children:" "}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(zt,{id:"image",type:"url",value:c.image,onChange:H=>O("image",H.target.value),placeholder:" ",className:"text-right flex-1"}),g.jsx(Ne,{type:"button",variant:"outline",onClick:()=>{var H;return(H=x.current)==null?void 0:H.click()},className:"px-3",children:g.jsx(hC,{size:16})})]}),g.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:R,className:"hidden"})]}),g.jsxs("div",{className:"flex gap-2 pt-4",children:[g.jsx(Ne,{type:"submit",className:"flex-1",children:r?"":""}),g.jsx(Ne,{type:"button",variant:"outline",onClick:()=>t(!1),children:""})]})]}),g.jsx(k$,{isOpen:u,onScan:U,onClose:()=>f(!1)})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var dT=1252,N$=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],wm={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},_m=function(e){N$.indexOf(e)!=-1&&(dT=wm[0]=e)};function O$(){_m(1252)}var ba=function(e){_m(e)};function hT(){ba(1200),O$()}function s_(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function R$(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function pT(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var ql=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?R$(e.slice(2)):t==254&&r==255?pT(e.slice(2)):t==65279?e.slice(1):e},S0=function(t){return String.fromCharCode(t)},o_=function(t){return String.fromCharCode(t)},ts,fs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function c_(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0,l=0;l<e.length;)r=e.charCodeAt(l++),i=r>>2,n=e.charCodeAt(l++),s=(r&3)<<4|n>>4,a=e.charCodeAt(l++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),t+=fs.charAt(i)+fs.charAt(s)+fs.charAt(o)+fs.charAt(c);return t}function $n(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)i=fs.indexOf(e.charAt(l++)),s=fs.indexOf(e.charAt(l++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=fs.indexOf(e.charAt(l++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=fs.indexOf(e.charAt(l++)),a=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Ye=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),jo=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ns(e){return Ye?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function l_(e){return Ye?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Aa=function(t){return Ye?jo(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Uo(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Em(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Em(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var rs=Ye?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:jo(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function P$(e){for(var t=[],r=0,n=e.length+250,a=Ns(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Ns(65535),n=65530)}return t.push(a.slice(0,r)),rs(t)}var dn=/\u0000/g,Zl=/[\u0001-\u0006]/g;function Rc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ta(e,t){var r=""+e;return r.length>=t?r:jt("0",t-r.length)+r}function Cm(e,t){var r=""+e;return r.length>=t?r:jt(" ",t-r.length)+r}function Md(e,t){var r=""+e;return r.length>=t?r:r+jt(" ",t-r.length)}function D$(e,t){var r=""+Math.round(e);return r.length>=t?r:jt("0",t-r.length)+r}function F$(e,t){var r=""+e;return r.length>=t?r:jt("0",t-r.length)+r}var u_=Math.pow(2,32);function tc(e,t){if(e>u_||e<-u_)return D$(e,t);var r=Math.round(e);return F$(r,t)}function Ld(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var f_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],up=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function M$(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var He={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},d_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},L$={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Bd(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,c=1,l=0,u=0,f=Math.floor(a);l<t&&(f=Math.floor(a),o=f*s+i,u=f*l+c,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,c=l,l=u;if(u>t&&(l>t?(u=c,o=i):(u=l,o=s)),!r)return[0,n*o,u];var d=Math.floor(n*o/u);return[d,n*o-d*u,u]}function ao(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=V$(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var vT=new Date(1899,11,31,0,0,0),B$=vT.getTime(),j$=new Date(1900,2,1,0,0,0);function gT(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=j$&&(r+=24*60*60*1e3),(r-(B$+(e.getTimezoneOffset()-vT.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Sm(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function U$(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function $$(e){var t=e<0?12:11,r=Sm(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function H$(e){var t=Sm(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Yu(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=$$(e):t===10?r=e.toFixed(10).substr(0,12):r=H$(e),Sm(U$(r.toUpperCase()))}function ko(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Yu(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return sa(14,gT(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function V$(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function z$(e,t,r,n){var a="",i=0,s=0,o=r.y,c,l=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,l=2;break;default:c=o%1e4,l=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,l=t.length;break;case 3:return up[r.m-1][1];case 5:return up[r.m-1][0];default:return up[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,l=t.length;break;case 3:return f_[r.q][0];default:return f_[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,l=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,l=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,l=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ta(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Ta(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}l=t.length===3?1:2;break;case 101:c=o,l=1;break}var u=l>0?Ta(c,l):"";return u}function ds(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var xT=/%/g;function W$(e,t,r){var n=t.replace(xT,""),a=t.length-n.length;return Ai(e,n,r*Math.pow(10,2*a))+jt("%",a)}function G$(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ai(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function mT(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+mT(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,l,u){return c+l+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var yT=/# (\?+)( ?)\/( ?)(\d+)/;function X$(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?jt(" ",e[1].length+1+e[4].length):Cm(s,e[1].length)+e[2]+"/"+e[3]+Ta(o,e[4].length))}function K$(e,t,r){return r+(t===0?"":""+t)+jt(" ",e[1].length+2+e[4].length)}var wT=/^#*0*\.([0#]+)/,_T=/\).*[0#]/,ET=/\(###\) ###\\?-####/;function sn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function h_(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function p_(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Y$(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function q$(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Wn(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_T)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Wn("n",n,r):"("+Wn("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return G$(e,t,r);if(t.indexOf("%")!==-1)return W$(e,t,r);if(t.indexOf("E")!==-1)return mT(t,r);if(t.charCodeAt(0)===36)return"$"+Wn(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),l=r<0?"-":"";if(t.match(/^00+$/))return l+tc(c,t.length);if(t.match(/^[#?]+$/))return a=tc(r,0),a==="0"&&(a=""),a.length>t.length?a:sn(t.substr(0,t.length-a.length))+a;if(i=t.match(yT))return X$(i,c,l);if(t.match(/^#+0+$/))return l+tc(c,t.length-t.indexOf("0"));if(i=t.match(wT))return a=h_(r,i[1].length).replace(/^([^\.]+)$/,"$1."+sn(i[1])).replace(/\.$/,"."+sn(i[1])).replace(/\.(\d*)$/,function(v,p){return"."+p+jt("0",sn(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return l+h_(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return l+ds(tc(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Wn(e,t,-r):ds(""+(Math.floor(r)+Y$(r,i[1].length)))+"."+Ta(p_(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Wn(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Rc(Wn(e,t.replace(/[\\-]/g,""),r)),s=0,Rc(Rc(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return s<a.length?a.charAt(s++):v==="0"?"0":""}));if(t.match(ET))return a=Wn(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Bd(c,Math.pow(10,s)-1,!1),a=""+l,u=Ai("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Md(o[2],s),u.length<i[4].length&&(u=sn(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Bd(c,Math.pow(10,s)-1,!0),l+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Cm(o[1],s)+i[2]+"/"+i[3]+Md(o[2],s):jt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=tc(r,0),t.length<=a.length?a:sn(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,d=t.length-a.length-f;return sn(t.substr(0,f)+a+t.substr(t.length-d))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=p_(r,i[1].length),r<0?"-"+Wn(e,t,-r):ds(q$(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Ta(0,3-v.length):"")+v})+"."+Ta(s,i[1].length);switch(t){case"###,##0.00":return Wn(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=ds(tc(c,0));return h!=="0"?l+h:"";case"###,###.00":return Wn(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Wn(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Z$(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ai(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Q$(e,t,r){var n=t.replace(xT,""),a=t.length-n.length;return Ai(e,n,r*Math.pow(10,2*a))+jt("%",a)}function CT(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+CT(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,l,u){return c+l+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ha(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_T)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ha("n",n,r):"("+Ha("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Z$(e,t,r);if(t.indexOf("%")!==-1)return Q$(e,t,r);if(t.indexOf("E")!==-1)return CT(t,r);if(t.charCodeAt(0)===36)return"$"+Ha(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),l=r<0?"-":"";if(t.match(/^00+$/))return l+Ta(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:sn(t.substr(0,t.length-a.length))+a;if(i=t.match(yT))return K$(i,c,l);if(t.match(/^#+0+$/))return l+Ta(c,t.length-t.indexOf("0"));if(i=t.match(wT))return a=(""+r).replace(/^([^\.]+)$/,"$1."+sn(i[1])).replace(/\.$/,"."+sn(i[1])),a=a.replace(/\.(\d*)$/,function(v,p){return"."+p+jt("0",sn(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return l+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return l+ds(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ha(e,t,-r):ds(""+r)+"."+jt("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ha(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Rc(Ha(e,t.replace(/[\\-]/g,""),r)),s=0,Rc(Rc(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return s<a.length?a.charAt(s++):v==="0"?"0":""}));if(t.match(ET))return a=Ha(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Bd(c,Math.pow(10,s)-1,!1),a=""+l,u=Ai("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Md(o[2],s),u.length<i[4].length&&(u=sn(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Bd(c,Math.pow(10,s)-1,!0),l+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Cm(o[1],s)+i[2]+"/"+i[3]+Md(o[2],s):jt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:sn(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,d=t.length-a.length-f;return sn(t.substr(0,f)+a+t.substr(t.length-d))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ha(e,t,-r):ds(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Ta(0,3-v.length):"")+v})+"."+Ta(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=ds(""+c);return h!=="0"?l+h:"";default:if(t.match(/\.[0#?]*$/))return Ha(e,t.slice(0,t.lastIndexOf(".")),r)+sn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ai(e,t,r){return(r|0)===r?Ha(e,t,r):Wn(e,t,r)}function J$(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var ST=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function gl(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Ld(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(ST))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function eH(e,t,r,n){for(var a=[],i="",s=0,o="",c="t",l,u,f,d="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Ld(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var h=e.charAt(++s),v=h==="("||h===")"?h:"t";a[a.length]={t:v,v:h},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(l==null&&(l=ao(t,r,e.charAt(s+1)==="2"),l==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||l==null&&(l=ao(t,r),l==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),a[a.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var p={t:o,v:o};if(l==null&&(l=ao(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(l!=null&&(p.v=l.H>=12?"P":"A"),p.t="T",d="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(l!=null&&(p.v=l.H>=12?"PM":"AM"),p.t="T",s+=5,d="h"):e.substr(s,5).toUpperCase()==="/"?(l!=null&&(p.v=l.H>=12?"":""),p.t="T",s+=5,d="h"):(p.t="t",++s),l==null&&p.t==="T")return"";a[a.length]=p,c=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(ST)){if(l==null&&(l=ao(t,r),l==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",gl(e)||(a[a.length]={t:"t",v:i}));break;case".":if(l!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var x=0,y=0,w;for(s=a.length-1,c="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=d,c="h",x<1&&(x=1);break;case"s":(w=a[s].v.match(/\.0+$/))&&(y=Math.max(y,w[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[s].t;break;case"m":c==="s"&&(a[s].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[s].v.match(/[Hh]/)&&(x=1),x<2&&a[s].v.match(/[Mm]/)&&(x=2),x<3&&a[s].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H);break;case 2:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M);break}var m="",_;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=z$(a[s].t.charCodeAt(0),a[s].v,l,y),a[s].t="t";break;case"n":case"?":for(_=s+1;a[_]!=null&&((o=a[_].t)==="?"||o==="D"||(o===" "||o==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[s].v+=a[_].v,a[_]={v:"",t:";"},++_;m+=a[s].v,s=_-1;break;case"G":a[s].t="t",a[s].v=ko(t,r);break}var S="",A,C;if(m.length>0){m.charCodeAt(0)==40?(A=t<0&&m.charCodeAt(0)===45?-t:t,C=Ai("n",m,A)):(A=t<0&&n>1?-t:t,C=Ai("n",m,A),A<0&&a[0]&&a[0].t=="t"&&(C=C.substr(1),a[0].v="-"+a[0].v)),_=C.length-1;var b=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){b=s;break}var T=a.length;if(b===a.length&&C.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(_>=a[s].v.length-1?(_-=a[s].v.length,a[s].v=C.substr(_+1,a[s].v.length)):_<0?a[s].v="":(a[s].v=C.substr(0,_+1),_=-1),a[s].t="t",T=s);_>=0&&T<a.length&&(a[T].v=C.substr(0,_+1)+a[T].v)}else if(b!==a.length&&C.indexOf("E")===-1){for(_=C.indexOf(".")-1,s=b;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===b?a[s].v.indexOf(".")-1:a[s].v.length-1,S=a[s].v.substr(u+1);u>=0;--u)_>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(S=C.charAt(_--)+S);a[s].v=S,a[s].t="t",T=s}for(_>=0&&T<a.length&&(a[T].v=C.substr(0,_+1)+a[T].v),_=C.indexOf(".")+1,s=b;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==b)){for(u=a[s].v.indexOf(".")>-1&&s===b?a[s].v.indexOf(".")+1:0,S=a[s].v.substr(0,u);u<a[s].v.length;++u)_<C.length&&(S+=C.charAt(_++));a[s].v=S,a[s].t="t",T=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(A=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Ai(a[s].t,a[s].v,A),a[s].t="t");var O="";for(s=0;s!==a.length;++s)a[s]!=null&&(O+=a[s].v);return O}var v_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function g_(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function tH(e,t){var r=J$(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(v_),o=r[1].match(v_);return g_(t,s)?[n,r[0]]:g_(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function sa(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:He)[e],n==null&&(n=r.table&&r.table[d_[e]]||He[d_[e]]),n==null&&(n=L$[e]||"General");break}if(Ld(n,0))return ko(t,r);t instanceof Date&&(t=gT(t,r.date1904));var a=tH(n,t);if(Ld(a[1]))return ko(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return eH(a[1],t,r,a[0])}function go(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(He[r]==null){t<0&&(t=r);continue}if(He[r]==e){t=r;break}}t<0&&(t=391)}return He[t]=e,t}function AT(){He=M$()}var rH={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},bT=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function nH(e){var t=typeof e=="number"?He[e]:e;return t=t.replace(bT,"(\\d+)"),new RegExp("^"+t+"$")}function aH(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,c=-1;(t.match(bT)||[]).forEach(function(f,d){var h=parseInt(r[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":i=h;break;case"h":s=h;break;case"s":c=h;break;case"m":s>=0?o=h:a=h;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var l=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);l.length==7&&(l="0"+l),l.length==8&&(l="20"+l);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?l:n==-1&&a==-1&&i==-1?u:l+"T"+u}var iH=function(){var e={};e.version="1.2.0";function t(){for(var C=0,b=new Array(256),T=0;T!=256;++T)C=T,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,b[T]=C;return typeof Int32Array<"u"?new Int32Array(b):b}var r=t();function n(C){var b=0,T=0,O=0,U=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)U[O]=C[O];for(O=0;O!=256;++O)for(T=C[O],b=256+O;b<4096;b+=256)T=U[b]=T>>>8^C[T&255];var R=[];for(O=1;O!=16;++O)R[O-1]=typeof Int32Array<"u"?U.subarray(O*256,O*256+256):U.slice(O*256,O*256+256);return R}var a=n(r),i=a[0],s=a[1],o=a[2],c=a[3],l=a[4],u=a[5],f=a[6],d=a[7],h=a[8],v=a[9],p=a[10],x=a[11],y=a[12],w=a[13],m=a[14];function _(C,b){for(var T=b^-1,O=0,U=C.length;O<U;)T=T>>>8^r[(T^C.charCodeAt(O++))&255];return~T}function S(C,b){for(var T=b^-1,O=C.length-15,U=0;U<O;)T=m[C[U++]^T&255]^w[C[U++]^T>>8&255]^y[C[U++]^T>>16&255]^x[C[U++]^T>>>24]^p[C[U++]]^v[C[U++]]^h[C[U++]]^d[C[U++]]^f[C[U++]]^u[C[U++]]^l[C[U++]]^c[C[U++]]^o[C[U++]]^s[C[U++]]^i[C[U++]]^r[C[U++]];for(O+=15;U<O;)T=T>>>8^r[(T^C[U++])&255];return~T}function A(C,b){for(var T=b^-1,O=0,U=C.length,R=0,H=0;O<U;)R=C.charCodeAt(O++),R<128?T=T>>>8^r[(T^R)&255]:R<2048?(T=T>>>8^r[(T^(192|R>>6&31))&255],T=T>>>8^r[(T^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,H=C.charCodeAt(O++)&1023,T=T>>>8^r[(T^(240|R>>8&7))&255],T=T>>>8^r[(T^(128|R>>2&63))&255],T=T>>>8^r[(T^(128|H>>6&15|(R&3)<<4))&255],T=T>>>8^r[(T^(128|H&63))&255]):(T=T>>>8^r[(T^(224|R>>12&15))&255],T=T>>>8^r[(T^(128|R>>6&63))&255],T=T>>>8^r[(T^(128|R&63))&255]);return~T}return e.table=r,e.bstr=_,e.buf=S,e.str=A,e}(),Ze=function(){var t={};t.version="1.2.1";function r(k,M){for(var I=k.split("/"),F=M.split("/"),B=0,j=0,te=Math.min(I.length,F.length);B<te;++B){if(j=I[B].length-F[B].length)return j;if(I[B]!=F[B])return I[B]<F[B]?-1:1}return I.length-F.length}function n(k){if(k.charAt(k.length-1)=="/")return k.slice(0,-1).indexOf("/")===-1?k:n(k.slice(0,-1));var M=k.lastIndexOf("/");return M===-1?k:k.slice(0,M+1)}function a(k){if(k.charAt(k.length-1)=="/")return a(k.slice(0,-1));var M=k.lastIndexOf("/");return M===-1?k:k.slice(M+1)}function i(k,M){typeof M=="string"&&(M=new Date(M));var I=M.getHours();I=I<<6|M.getMinutes(),I=I<<5|M.getSeconds()>>>1,k.write_shift(2,I);var F=M.getFullYear()-1980;F=F<<4|M.getMonth()+1,F=F<<5|M.getDate(),k.write_shift(2,F)}function s(k){var M=k.read_shift(2)&65535,I=k.read_shift(2)&65535,F=new Date,B=I&31;I>>>=5;var j=I&15;I>>>=4,F.setMilliseconds(0),F.setFullYear(I+1980),F.setMonth(j-1),F.setDate(B);var te=M&31;M>>>=5;var ue=M&63;return M>>>=6,F.setHours(M),F.setMinutes(ue),F.setSeconds(te<<1),F}function o(k){Ir(k,0);for(var M={},I=0;k.l<=k.length-4;){var F=k.read_shift(2),B=k.read_shift(2),j=k.l+B,te={};switch(F){case 21589:I=k.read_shift(1),I&1&&(te.mtime=k.read_shift(4)),B>5&&(I&2&&(te.atime=k.read_shift(4)),I&4&&(te.ctime=k.read_shift(4))),te.mtime&&(te.mt=new Date(te.mtime*1e3));break}k.l=j,M[F]=te}return M}var c;function l(){return c||(c={})}function u(k,M){if(k[0]==80&&k[1]==75)return _l(k,M);if((k[0]|32)==109&&(k[1]|32)==105)return On(k,M);if(k.length<512)throw new Error("CFB file size "+k.length+" < 512");var I=3,F=512,B=0,j=0,te=0,ue=0,ee=0,re=[],ae=k.slice(0,512);Ir(ae,0);var he=f(ae);switch(I=he[0],I){case 3:F=512;break;case 4:F=4096;break;case 0:if(he[1]==0)return _l(k,M);default:throw new Error("Major Version: Expected 3 or 4 saw "+I)}F!==512&&(ae=k.slice(0,F),Ir(ae,28));var we=k.slice(0,F);d(ae,I);var Ae=ae.read_shift(4,"i");if(I===3&&Ae!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ae);ae.l+=4,te=ae.read_shift(4,"i"),ae.l+=4,ae.chk("00100000","Mini Stream Cutoff Size: "),ue=ae.read_shift(4,"i"),B=ae.read_shift(4,"i"),ee=ae.read_shift(4,"i"),j=ae.read_shift(4,"i");for(var me=-1,Ce=0;Ce<109&&(me=ae.read_shift(4,"i"),!(me<0));++Ce)re[Ce]=me;var je=h(k,F);x(ee,j,je,F,re);var Ot=w(je,te,re,F);Ot[te].name="!Directory",B>0&&ue!==H&&(Ot[ue].name="!MiniFAT"),Ot[re[0]].name="!FAT",Ot.fat_addrs=re,Ot.ssz=F;var Rt={},Lr=[],Cl=[],Sl=[];m(te,Ot,je,Lr,B,Rt,Cl,ue),v(Cl,Sl,Lr),Lr.shift();var Al={FileIndex:Cl,FullPaths:Sl};return M&&M.raw&&(Al.raw={header:we,sectors:je}),Al}function f(k){if(k[k.l]==80&&k[k.l+1]==75)return[0,0];k.chk(K,"Header Signature: "),k.l+=16;var M=k.read_shift(2,"u");return[k.read_shift(2,"u"),M]}function d(k,M){var I=9;switch(k.l+=2,I=k.read_shift(2)){case 9:if(M!=3)throw new Error("Sector Shift: Expected 9 saw "+I);break;case 12:if(M!=4)throw new Error("Sector Shift: Expected 12 saw "+I);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+I)}k.chk("0600","Mini Sector Shift: "),k.chk("000000000000","Reserved: ")}function h(k,M){for(var I=Math.ceil(k.length/M)-1,F=[],B=1;B<I;++B)F[B-1]=k.slice(B*M,(B+1)*M);return F[I-1]=k.slice(I*M),F}function v(k,M,I){for(var F=0,B=0,j=0,te=0,ue=0,ee=I.length,re=[],ae=[];F<ee;++F)re[F]=ae[F]=F,M[F]=I[F];for(;ue<ae.length;++ue)F=ae[ue],B=k[F].L,j=k[F].R,te=k[F].C,re[F]===F&&(B!==-1&&re[B]!==B&&(re[F]=re[B]),j!==-1&&re[j]!==j&&(re[F]=re[j])),te!==-1&&(re[te]=F),B!==-1&&F!=re[F]&&(re[B]=re[F],ae.lastIndexOf(B)<ue&&ae.push(B)),j!==-1&&F!=re[F]&&(re[j]=re[F],ae.lastIndexOf(j)<ue&&ae.push(j));for(F=1;F<ee;++F)re[F]===F&&(j!==-1&&re[j]!==j?re[F]=re[j]:B!==-1&&re[B]!==B&&(re[F]=re[B]));for(F=1;F<ee;++F)if(k[F].type!==0){if(ue=F,ue!=re[ue])do ue=re[ue],M[F]=M[ue]+"/"+M[F];while(ue!==0&&re[ue]!==-1&&ue!=re[ue]);re[F]=-1}for(M[0]+="/",F=1;F<ee;++F)k[F].type!==2&&(M[F]+="/")}function p(k,M,I){for(var F=k.start,B=k.size,j=[],te=F;I&&B>0&&te>=0;)j.push(M.slice(te*R,te*R+R)),B-=R,te=Qs(I,te*4);return j.length===0?rr(0):rs(j).slice(0,k.size)}function x(k,M,I,F,B){var j=H;if(k===H){if(M!==0)throw new Error("DIFAT chain shorter than expected")}else if(k!==-1){var te=I[k],ue=(F>>>2)-1;if(!te)return;for(var ee=0;ee<ue&&(j=Qs(te,ee*4))!==H;++ee)B.push(j);x(Qs(te,F-4),M-1,I,F,B)}}function y(k,M,I,F,B){var j=[],te=[];B||(B=[]);var ue=F-1,ee=0,re=0;for(ee=M;ee>=0;){B[ee]=!0,j[j.length]=ee,te.push(k[ee]);var ae=I[Math.floor(ee*4/F)];if(re=ee*4&ue,F<4+re)throw new Error("FAT boundary crossed: "+ee+" 4 "+F);if(!k[ae])break;ee=Qs(k[ae],re)}return{nodes:j,data:b_([te])}}function w(k,M,I,F){var B=k.length,j=[],te=[],ue=[],ee=[],re=F-1,ae=0,he=0,we=0,Ae=0;for(ae=0;ae<B;++ae)if(ue=[],we=ae+M,we>=B&&(we-=B),!te[we]){ee=[];var me=[];for(he=we;he>=0;){me[he]=!0,te[he]=!0,ue[ue.length]=he,ee.push(k[he]);var Ce=I[Math.floor(he*4/F)];if(Ae=he*4&re,F<4+Ae)throw new Error("FAT boundary crossed: "+he+" 4 "+F);if(!k[Ce]||(he=Qs(k[Ce],Ae),me[he]))break}j[we]={nodes:ue,data:b_([ee])}}return j}function m(k,M,I,F,B,j,te,ue){for(var ee=0,re=F.length?2:0,ae=M[k].data,he=0,we=0,Ae;he<ae.length;he+=128){var me=ae.slice(he,he+128);Ir(me,64),we=me.read_shift(2),Ae=Im(me,0,we-re),F.push(Ae);var Ce={name:Ae,type:me.read_shift(1),color:me.read_shift(1),L:me.read_shift(4,"i"),R:me.read_shift(4,"i"),C:me.read_shift(4,"i"),clsid:me.read_shift(16),state:me.read_shift(4,"i"),start:0,size:0},je=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);je!==0&&(Ce.ct=_(me,me.l-8));var Ot=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);Ot!==0&&(Ce.mt=_(me,me.l-8)),Ce.start=me.read_shift(4,"i"),Ce.size=me.read_shift(4,"i"),Ce.size<0&&Ce.start<0&&(Ce.size=Ce.type=0,Ce.start=H,Ce.name=""),Ce.type===5?(ee=Ce.start,B>0&&ee!==H&&(M[ee].name="!StreamData")):Ce.size>=4096?(Ce.storage="fat",M[Ce.start]===void 0&&(M[Ce.start]=y(I,Ce.start,M.fat_addrs,M.ssz)),M[Ce.start].name=Ce.name,Ce.content=M[Ce.start].data.slice(0,Ce.size)):(Ce.storage="minifat",Ce.size<0?Ce.size=0:ee!==H&&Ce.start!==H&&M[ee]&&(Ce.content=p(Ce,M[ee].data,(M[ue]||{}).data))),Ce.content&&Ir(Ce.content,0),j[Ae]=Ce,te.push(Ce)}}function _(k,M){return new Date((Dn(k,M+4)/1e7*Math.pow(2,32)+Dn(k,M)/1e7-11644473600)*1e3)}function S(k,M){return l(),u(c.readFileSync(k),M)}function A(k,M){var I=M&&M.type;switch(I||Ye&&Buffer.isBuffer(k)&&(I="buffer"),I||"base64"){case"file":return S(k,M);case"base64":return u(Aa($n(k)),M);case"binary":return u(Aa(k),M)}return u(k,M)}function C(k,M){var I=M||{},F=I.root||"Root Entry";if(k.FullPaths||(k.FullPaths=[]),k.FileIndex||(k.FileIndex=[]),k.FullPaths.length!==k.FileIndex.length)throw new Error("inconsistent CFB structure");k.FullPaths.length===0&&(k.FullPaths[0]=F+"/",k.FileIndex[0]={name:F,type:5}),I.CLSID&&(k.FileIndex[0].clsid=I.CLSID),b(k)}function b(k){var M="Sh33tJ5";if(!Ze.find(k,"/"+M)){var I=rr(4);I[0]=55,I[1]=I[3]=50,I[2]=54,k.FileIndex.push({name:M,type:2,content:I,size:4,L:69,R:69,C:69}),k.FullPaths.push(k.FullPaths[0]+M),T(k)}}function T(k,M){C(k);for(var I=!1,F=!1,B=k.FullPaths.length-1;B>=0;--B){var j=k.FileIndex[B];switch(j.type){case 0:F?I=!0:(k.FileIndex.pop(),k.FullPaths.pop());break;case 1:case 2:case 5:F=!0,isNaN(j.R*j.L*j.C)&&(I=!0),j.R>-1&&j.L>-1&&j.R==j.L&&(I=!0);break;default:I=!0;break}}if(!(!I&&!M)){var te=new Date(1987,1,19),ue=0,ee=Object.create?Object.create(null):{},re=[];for(B=0;B<k.FullPaths.length;++B)ee[k.FullPaths[B]]=!0,k.FileIndex[B].type!==0&&re.push([k.FullPaths[B],k.FileIndex[B]]);for(B=0;B<re.length;++B){var ae=n(re[B][0]);F=ee[ae],F||(re.push([ae,{name:a(ae).replace("/",""),type:1,clsid:J,ct:te,mt:te,content:null}]),ee[ae]=!0)}for(re.sort(function(Ae,me){return r(Ae[0],me[0])}),k.FullPaths=[],k.FileIndex=[],B=0;B<re.length;++B)k.FullPaths[B]=re[B][0],k.FileIndex[B]=re[B][1];for(B=0;B<re.length;++B){var he=k.FileIndex[B],we=k.FullPaths[B];if(he.name=a(we).replace("/",""),he.L=he.R=he.C=-(he.color=1),he.size=he.content?he.content.length:0,he.start=0,he.clsid=he.clsid||J,B===0)he.C=re.length>1?1:-1,he.size=0,he.type=5;else if(we.slice(-1)=="/"){for(ue=B+1;ue<re.length&&n(k.FullPaths[ue])!=we;++ue);for(he.C=ue>=re.length?-1:ue,ue=B+1;ue<re.length&&n(k.FullPaths[ue])!=n(we);++ue);he.R=ue>=re.length?-1:ue,he.type=1}else n(k.FullPaths[B+1]||"")==n(we)&&(he.R=B+1),he.type=2}}}function O(k,M){var I=M||{};if(I.fileType=="mad")return Ba(k,I);switch(T(k),I.fileType){case"zip":return El(k,I)}var F=function(Ae){for(var me=0,Ce=0,je=0;je<Ae.FileIndex.length;++je){var Ot=Ae.FileIndex[je];if(Ot.content){var Rt=Ot.content.length;Rt>0&&(Rt<4096?me+=Rt+63>>6:Ce+=Rt+511>>9)}}for(var Lr=Ae.FullPaths.length+3>>2,Cl=me+7>>3,Sl=me+127>>7,Al=Cl+Ce+Lr+Sl,$s=Al+127>>7,r1=$s<=109?0:Math.ceil(($s-109)/127);Al+$s+r1+127>>7>$s;)r1=++$s<=109?0:Math.ceil(($s-109)/127);var ui=[1,r1,$s,Sl,Lr,Ce,me,0];return Ae.FileIndex[0].size=me<<6,ui[7]=(Ae.FileIndex[0].start=ui[0]+ui[1]+ui[2]+ui[3]+ui[4]+ui[5])+(ui[6]+7>>3),ui}(k),B=rr(F[7]<<9),j=0,te=0;{for(j=0;j<8;++j)B.write_shift(1,Q[j]);for(j=0;j<8;++j)B.write_shift(2,0);for(B.write_shift(2,62),B.write_shift(2,3),B.write_shift(2,65534),B.write_shift(2,9),B.write_shift(2,6),j=0;j<3;++j)B.write_shift(2,0);for(B.write_shift(4,0),B.write_shift(4,F[2]),B.write_shift(4,F[0]+F[1]+F[2]+F[3]-1),B.write_shift(4,0),B.write_shift(4,4096),B.write_shift(4,F[3]?F[0]+F[1]+F[2]-1:H),B.write_shift(4,F[3]),B.write_shift(-4,F[1]?F[0]-1:H),B.write_shift(4,F[1]),j=0;j<109;++j)B.write_shift(-4,j<F[2]?F[1]+j:-1)}if(F[1])for(te=0;te<F[1];++te){for(;j<236+te*127;++j)B.write_shift(-4,j<F[2]?F[1]+j:-1);B.write_shift(-4,te===F[1]-1?H:te+1)}var ue=function(Ae){for(te+=Ae;j<te-1;++j)B.write_shift(-4,j+1);Ae&&(++j,B.write_shift(-4,H))};for(te=j=0,te+=F[1];j<te;++j)B.write_shift(-4,se.DIFSECT);for(te+=F[2];j<te;++j)B.write_shift(-4,se.FATSECT);ue(F[3]),ue(F[4]);for(var ee=0,re=0,ae=k.FileIndex[0];ee<k.FileIndex.length;++ee)ae=k.FileIndex[ee],ae.content&&(re=ae.content.length,!(re<4096)&&(ae.start=te,ue(re+511>>9)));for(ue(F[6]+7>>3);B.l&511;)B.write_shift(-4,se.ENDOFCHAIN);for(te=j=0,ee=0;ee<k.FileIndex.length;++ee)ae=k.FileIndex[ee],ae.content&&(re=ae.content.length,!(!re||re>=4096)&&(ae.start=te,ue(re+63>>6)));for(;B.l&511;)B.write_shift(-4,se.ENDOFCHAIN);for(j=0;j<F[4]<<2;++j){var he=k.FullPaths[j];if(!he||he.length===0){for(ee=0;ee<17;++ee)B.write_shift(4,0);for(ee=0;ee<3;++ee)B.write_shift(4,-1);for(ee=0;ee<12;++ee)B.write_shift(4,0);continue}ae=k.FileIndex[j],j===0&&(ae.start=ae.size?ae.start-1:H);var we=j===0&&I.root||ae.name;if(re=2*(we.length+1),B.write_shift(64,we,"utf16le"),B.write_shift(2,re),B.write_shift(1,ae.type),B.write_shift(1,ae.color),B.write_shift(-4,ae.L),B.write_shift(-4,ae.R),B.write_shift(-4,ae.C),ae.clsid)B.write_shift(16,ae.clsid,"hex");else for(ee=0;ee<4;++ee)B.write_shift(4,0);B.write_shift(4,ae.state||0),B.write_shift(4,0),B.write_shift(4,0),B.write_shift(4,0),B.write_shift(4,0),B.write_shift(4,ae.start),B.write_shift(4,ae.size),B.write_shift(4,0)}for(j=1;j<k.FileIndex.length;++j)if(ae=k.FileIndex[j],ae.size>=4096)if(B.l=ae.start+1<<9,Ye&&Buffer.isBuffer(ae.content))ae.content.copy(B,B.l,0,ae.size),B.l+=ae.size+511&-512;else{for(ee=0;ee<ae.size;++ee)B.write_shift(1,ae.content[ee]);for(;ee&511;++ee)B.write_shift(1,0)}for(j=1;j<k.FileIndex.length;++j)if(ae=k.FileIndex[j],ae.size>0&&ae.size<4096)if(Ye&&Buffer.isBuffer(ae.content))ae.content.copy(B,B.l,0,ae.size),B.l+=ae.size+63&-64;else{for(ee=0;ee<ae.size;++ee)B.write_shift(1,ae.content[ee]);for(;ee&63;++ee)B.write_shift(1,0)}if(Ye)B.l=B.length;else for(;B.l<B.length;)B.write_shift(1,0);return B}function U(k,M){var I=k.FullPaths.map(function(ee){return ee.toUpperCase()}),F=I.map(function(ee){var re=ee.split("/");return re[re.length-(ee.slice(-1)=="/"?2:1)]}),B=!1;M.charCodeAt(0)===47?(B=!0,M=I[0].slice(0,-1)+M):B=M.indexOf("/")!==-1;var j=M.toUpperCase(),te=B===!0?I.indexOf(j):F.indexOf(j);if(te!==-1)return k.FileIndex[te];var ue=!j.match(Zl);for(j=j.replace(dn,""),ue&&(j=j.replace(Zl,"!")),te=0;te<I.length;++te)if((ue?I[te].replace(Zl,"!"):I[te]).replace(dn,"")==j||(ue?F[te].replace(Zl,"!"):F[te]).replace(dn,"")==j)return k.FileIndex[te];return null}var R=64,H=-2,K="d0cf11e0a1b11ae1",Q=[208,207,17,224,161,177,26,225],J="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:H,FREESECT:-1,HEADER_SIGNATURE:K,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:J,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(k,M,I){l();var F=O(k,I);c.writeFileSync(M,F)}function L(k){for(var M=new Array(k.length),I=0;I<k.length;++I)M[I]=String.fromCharCode(k[I]);return M.join("")}function le(k,M){var I=O(k,M);switch(M&&M.type||"buffer"){case"file":return l(),c.writeFileSync(M.filename,I),I;case"binary":return typeof I=="string"?I:L(I);case"base64":return c_(typeof I=="string"?I:L(I));case"buffer":if(Ye)return Buffer.isBuffer(I)?I:jo(I);case"array":return typeof I=="string"?Aa(I):I}return I}var de;function N(k){try{var M=k.InflateRaw,I=new M;if(I._processChunk(new Uint8Array([3,0]),I._finishFlushFlag),I.bytesRead)de=k;else throw new Error("zlib does not expose bytesRead")}catch(F){console.error("cannot use native zlib: "+(F.message||F))}}function G(k,M){if(!de)return Uf(k,M);var I=de.InflateRaw,F=new I,B=F._processChunk(k.slice(k.l),F._finishFlushFlag);return k.l+=F.bytesRead,B}function V(k){return de?de.deflateRawSync(k):Fe(k)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],X=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ie(k){var M=(k<<1|k<<11)&139536|(k<<5|k<<15)&558144;return(M>>16|M>>8|M)&255}for(var ne=typeof Uint8Array<"u",q=ne?new Uint8Array(256):[],ge=0;ge<256;++ge)q[ge]=ie(ge);function P(k,M){var I=q[k&255];return M<=8?I>>>8-M:(I=I<<8|q[k>>8&255],M<=16?I>>>16-M:(I=I<<8|q[k>>16&255],I>>>24-M))}function De(k,M){var I=M&7,F=M>>>3;return(k[F]|(I<=6?0:k[F+1]<<8))>>>I&3}function oe(k,M){var I=M&7,F=M>>>3;return(k[F]|(I<=5?0:k[F+1]<<8))>>>I&7}function Ee(k,M){var I=M&7,F=M>>>3;return(k[F]|(I<=4?0:k[F+1]<<8))>>>I&15}function Te(k,M){var I=M&7,F=M>>>3;return(k[F]|(I<=3?0:k[F+1]<<8))>>>I&31}function ve(k,M){var I=M&7,F=M>>>3;return(k[F]|(I<=1?0:k[F+1]<<8))>>>I&127}function rt(k,M,I){var F=M&7,B=M>>>3,j=(1<<I)-1,te=k[B]>>>F;return I<8-F||(te|=k[B+1]<<8-F,I<16-F)||(te|=k[B+2]<<16-F,I<24-F)||(te|=k[B+3]<<24-F),te&j}function Mt(k,M,I){var F=M&7,B=M>>>3;return F<=5?k[B]|=(I&7)<<F:(k[B]|=I<<F&255,k[B+1]=(I&7)>>8-F),M+3}function Cr(k,M,I){var F=M&7,B=M>>>3;return I=(I&1)<<F,k[B]|=I,M+1}function dr(k,M,I){var F=M&7,B=M>>>3;return I<<=F,k[B]|=I&255,I>>>=8,k[B+1]=I,M+8}function La(k,M,I){var F=M&7,B=M>>>3;return I<<=F,k[B]|=I&255,I>>>=8,k[B+1]=I&255,k[B+2]=I>>>8,M+16}function hr(k,M){var I=k.length,F=2*I>M?2*I:M+5,B=0;if(I>=M)return k;if(Ye){var j=l_(F);if(k.copy)k.copy(j);else for(;B<k.length;++B)j[B]=k[B];return j}else if(ne){var te=new Uint8Array(F);if(te.set)te.set(k);else for(;B<I;++B)te[B]=k[B];return te}return k.length=F,k}function Wt(k){for(var M=new Array(k),I=0;I<k;++I)M[I]=0;return M}function gn(k,M,I){var F=1,B=0,j=0,te=0,ue=0,ee=k.length,re=ne?new Uint16Array(32):Wt(32);for(j=0;j<32;++j)re[j]=0;for(j=ee;j<I;++j)k[j]=0;ee=k.length;var ae=ne?new Uint16Array(ee):Wt(ee);for(j=0;j<ee;++j)re[B=k[j]]++,F<B&&(F=B),ae[j]=0;for(re[0]=0,j=1;j<=F;++j)re[j+16]=ue=ue+re[j-1]<<1;for(j=0;j<ee;++j)ue=k[j],ue!=0&&(ae[j]=re[ue+16]++);var he=0;for(j=0;j<ee;++j)if(he=k[j],he!=0)for(ue=P(ae[j],F)>>F-he,te=(1<<F+4-he)-1;te>=0;--te)M[ue|te<<he]=he&15|j<<4;return F}var ht=ne?new Uint16Array(512):Wt(512),Sr=ne?new Uint16Array(32):Wt(32);if(!ne){for(var Qt=0;Qt<512;++Qt)ht[Qt]=0;for(Qt=0;Qt<32;++Qt)Sr[Qt]=0}(function(){for(var k=[],M=0;M<32;M++)k.push(5);gn(k,Sr,32);var I=[];for(M=0;M<=143;M++)I.push(8);for(;M<=255;M++)I.push(9);for(;M<=279;M++)I.push(7);for(;M<=287;M++)I.push(8);gn(I,ht,288)})();var lt=function(){for(var M=ne?new Uint8Array(32768):[],I=0,F=0;I<X.length-1;++I)for(;F<X[I+1];++F)M[F]=I;for(;F<32768;++F)M[F]=29;var B=ne?new Uint8Array(259):[];for(I=0,F=0;I<W.length-1;++I)for(;F<W[I+1];++F)B[F]=I;function j(ue,ee){for(var re=0;re<ue.length;){var ae=Math.min(65535,ue.length-re),he=re+ae==ue.length;for(ee.write_shift(1,+he),ee.write_shift(2,ae),ee.write_shift(2,~ae&65535);ae-- >0;)ee[ee.l++]=ue[re++]}return ee.l}function te(ue,ee){for(var re=0,ae=0,he=ne?new Uint16Array(32768):[];ae<ue.length;){var we=Math.min(65535,ue.length-ae);if(we<10){for(re=Mt(ee,re,+(ae+we==ue.length)),re&7&&(re+=8-(re&7)),ee.l=re/8|0,ee.write_shift(2,we),ee.write_shift(2,~we&65535);we-- >0;)ee[ee.l++]=ue[ae++];re=ee.l*8;continue}re=Mt(ee,re,+(ae+we==ue.length)+2);for(var Ae=0;we-- >0;){var me=ue[ae];Ae=(Ae<<5^me)&32767;var Ce=-1,je=0;if((Ce=he[Ae])&&(Ce|=ae&-32768,Ce>ae&&(Ce-=32768),Ce<ae))for(;ue[Ce+je]==ue[ae+je]&&je<250;)++je;if(je>2){me=B[je],me<=22?re=dr(ee,re,q[me+1]>>1)-1:(dr(ee,re,3),re+=5,dr(ee,re,q[me-23]>>5),re+=3);var Ot=me<8?0:me-4>>2;Ot>0&&(La(ee,re,je-W[me]),re+=Ot),me=M[ae-Ce],re=dr(ee,re,q[me]>>3),re-=3;var Rt=me<4?0:me-2>>1;Rt>0&&(La(ee,re,ae-Ce-X[me]),re+=Rt);for(var Lr=0;Lr<je;++Lr)he[Ae]=ae&32767,Ae=(Ae<<5^ue[ae])&32767,++ae;we-=je-1}else me<=143?me=me+48:re=Cr(ee,re,1),re=dr(ee,re,q[me]),he[Ae]=ae&32767,++ae}re=dr(ee,re,0)-1}return ee.l=(re+7)/8|0,ee.l}return function(ee,re){return ee.length<8?j(ee,re):te(ee,re)}}();function Fe(k){var M=rr(50+Math.floor(k.length*1.1)),I=lt(k,M);return M.slice(0,I)}var _t=ne?new Uint16Array(32768):Wt(32768),Gt=ne?new Uint16Array(32768):Wt(32768),Et=ne?new Uint16Array(128):Wt(128),Ar=1,yl=1;function Bi(k,M){var I=Te(k,M)+257;M+=5;var F=Te(k,M)+1;M+=5;var B=Ee(k,M)+4;M+=4;for(var j=0,te=ne?new Uint8Array(19):Wt(19),ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ee=1,re=ne?new Uint8Array(8):Wt(8),ae=ne?new Uint8Array(8):Wt(8),he=te.length,we=0;we<B;++we)te[z[we]]=j=oe(k,M),ee<j&&(ee=j),re[j]++,M+=3;var Ae=0;for(re[0]=0,we=1;we<=ee;++we)ae[we]=Ae=Ae+re[we-1]<<1;for(we=0;we<he;++we)(Ae=te[we])!=0&&(ue[we]=ae[Ae]++);var me=0;for(we=0;we<he;++we)if(me=te[we],me!=0){Ae=q[ue[we]]>>8-me;for(var Ce=(1<<7-me)-1;Ce>=0;--Ce)Et[Ae|Ce<<me]=me&7|we<<3}var je=[];for(ee=1;je.length<I+F;)switch(Ae=Et[ve(k,M)],M+=Ae&7,Ae>>>=3){case 16:for(j=3+De(k,M),M+=2,Ae=je[je.length-1];j-- >0;)je.push(Ae);break;case 17:for(j=3+oe(k,M),M+=3;j-- >0;)je.push(0);break;case 18:for(j=11+ve(k,M),M+=7;j-- >0;)je.push(0);break;default:je.push(Ae),ee<Ae&&(ee=Ae);break}var Ot=je.slice(0,I),Rt=je.slice(I);for(we=I;we<286;++we)Ot[we]=0;for(we=F;we<30;++we)Rt[we]=0;return Ar=gn(Ot,_t,286),yl=gn(Rt,Gt,30),M}function Jh(k,M){if(k[0]==3&&!(k[1]&3))return[Ns(M),2];for(var I=0,F=0,B=l_(M||1<<18),j=0,te=B.length>>>0,ue=0,ee=0;!(F&1);){if(F=oe(k,I),I+=3,F>>>1)F>>1==1?(ue=9,ee=5):(I=Bi(k,I),ue=Ar,ee=yl);else{I&7&&(I+=8-(I&7));var re=k[I>>>3]|k[(I>>>3)+1]<<8;if(I+=32,re>0)for(!M&&te<j+re&&(B=hr(B,j+re),te=B.length);re-- >0;)B[j++]=k[I>>>3],I+=8;continue}for(;;){!M&&te<j+32767&&(B=hr(B,j+32767),te=B.length);var ae=rt(k,I,ue),he=F>>>1==1?ht[ae]:_t[ae];if(I+=he&15,he>>>=4,!(he>>>8&255))B[j++]=he;else{if(he==256)break;he-=257;var we=he<8?0:he-4>>2;we>5&&(we=0);var Ae=j+W[he];we>0&&(Ae+=rt(k,I,we),I+=we),ae=rt(k,I,ee),he=F>>>1==1?Sr[ae]:Gt[ae],I+=he&15,he>>>=4;var me=he<4?0:he-2>>1,Ce=X[he];for(me>0&&(Ce+=rt(k,I,me),I+=me),!M&&te<Ae&&(B=hr(B,Ae+100),te=B.length);j<Ae;)B[j]=B[j-Ce],++j}}}return M?[B,I+7>>>3]:[B.slice(0,j),I+7>>>3]}function Uf(k,M){var I=k.slice(k.l||0),F=Jh(I,M);return k.l+=F[1],F[0]}function wl(k,M){if(k)typeof console<"u"&&console.error(M);else throw new Error(M)}function _l(k,M){var I=k;Ir(I,0);var F=[],B=[],j={FileIndex:F,FullPaths:B};C(j,{root:M.root});for(var te=I.length-4;(I[te]!=80||I[te+1]!=75||I[te+2]!=5||I[te+3]!=6)&&te>=0;)--te;I.l=te+4,I.l+=4;var ue=I.read_shift(2);I.l+=6;var ee=I.read_shift(4);for(I.l=ee,te=0;te<ue;++te){I.l+=20;var re=I.read_shift(4),ae=I.read_shift(4),he=I.read_shift(2),we=I.read_shift(2),Ae=I.read_shift(2);I.l+=8;var me=I.read_shift(4),Ce=o(I.slice(I.l+he,I.l+he+we));I.l+=he+we+Ae;var je=I.l;I.l=me+4,e1(I,re,ae,j,Ce),I.l=je}return j}function e1(k,M,I,F,B){k.l+=2;var j=k.read_shift(2),te=k.read_shift(2),ue=s(k);if(j&8257)throw new Error("Unsupported ZIP encryption");for(var ee=k.read_shift(4),re=k.read_shift(4),ae=k.read_shift(4),he=k.read_shift(2),we=k.read_shift(2),Ae="",me=0;me<he;++me)Ae+=String.fromCharCode(k[k.l++]);if(we){var Ce=o(k.slice(k.l,k.l+we));(Ce[21589]||{}).mt&&(ue=Ce[21589].mt),((B||{})[21589]||{}).mt&&(ue=B[21589].mt)}k.l+=we;var je=k.slice(k.l,k.l+re);switch(te){case 8:je=G(k,ae);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+te)}var Ot=!1;j&8&&(ee=k.read_shift(4),ee==134695760&&(ee=k.read_shift(4),Ot=!0),re=k.read_shift(4),ae=k.read_shift(4)),re!=M&&wl(Ot,"Bad compressed size: "+M+" != "+re),ae!=I&&wl(Ot,"Bad uncompressed size: "+I+" != "+ae),Jr(F,Ae,je,{unsafe:!0,mt:ue})}function El(k,M){var I=M||{},F=[],B=[],j=rr(1),te=I.compression?8:0,ue=0,ee=0,re=0,ae=0,he=0,we=k.FullPaths[0],Ae=we,me=k.FileIndex[0],Ce=[],je=0;for(ee=1;ee<k.FullPaths.length;++ee)if(Ae=k.FullPaths[ee].slice(we.length),me=k.FileIndex[ee],!(!me.size||!me.content||Ae=="Sh33tJ5")){var Ot=ae,Rt=rr(Ae.length);for(re=0;re<Ae.length;++re)Rt.write_shift(1,Ae.charCodeAt(re)&127);Rt=Rt.slice(0,Rt.l),Ce[he]=iH.buf(me.content,0);var Lr=me.content;te==8&&(Lr=V(Lr)),j=rr(30),j.write_shift(4,67324752),j.write_shift(2,20),j.write_shift(2,ue),j.write_shift(2,te),me.mt?i(j,me.mt):j.write_shift(4,0),j.write_shift(-4,Ce[he]),j.write_shift(4,Lr.length),j.write_shift(4,me.content.length),j.write_shift(2,Rt.length),j.write_shift(2,0),ae+=j.length,F.push(j),ae+=Rt.length,F.push(Rt),ae+=Lr.length,F.push(Lr),j=rr(46),j.write_shift(4,33639248),j.write_shift(2,0),j.write_shift(2,20),j.write_shift(2,ue),j.write_shift(2,te),j.write_shift(4,0),j.write_shift(-4,Ce[he]),j.write_shift(4,Lr.length),j.write_shift(4,me.content.length),j.write_shift(2,Rt.length),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(4,0),j.write_shift(4,Ot),je+=j.l,B.push(j),je+=Rt.length,B.push(Rt),++he}return j=rr(22),j.write_shift(4,101010256),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(2,he),j.write_shift(2,he),j.write_shift(4,je),j.write_shift(4,ae),j.write_shift(2,0),rs([rs(F),rs(B),j])}var In={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function t1(k,M){if(k.ctype)return k.ctype;var I=k.name||"",F=I.match(/\.([^\.]+)$/);return F&&In[F[1]]||M&&(F=(I=M).match(/[\.\\]([^\.\\])+$/),F&&In[F[1]])?In[F[1]]:"application/octet-stream"}function Le(k){for(var M=c_(k),I=[],F=0;F<M.length;F+=76)I.push(M.slice(F,F+76));return I.join(`\r
`)+`\r
`}function ot(k){var M=k.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(re){var ae=re.charCodeAt(0).toString(16).toUpperCase();return"="+(ae.length==1?"0"+ae:ae)});M=M.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),M.charAt(0)==`
`&&(M="=0D"+M.slice(1)),M=M.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var I=[],F=M.split(`\r
`),B=0;B<F.length;++B){var j=F[B];if(j.length==0){I.push("");continue}for(var te=0;te<j.length;){var ue=76,ee=j.slice(te,te+ue);ee.charAt(ue-1)=="="?ue--:ee.charAt(ue-2)=="="?ue-=2:ee.charAt(ue-3)=="="&&(ue-=3),ee=j.slice(te,te+ue),te+=ue,te<j.length&&(ee+="="),I.push(ee)}}return I.join(`\r
`)}function gt(k){for(var M=[],I=0;I<k.length;++I){for(var F=k[I];I<=k.length&&F.charAt(F.length-1)=="=";)F=F.slice(0,F.length-1)+k[++I];M.push(F)}for(var B=0;B<M.length;++B)M[B]=M[B].replace(/[=][0-9A-Fa-f]{2}/g,function(j){return String.fromCharCode(parseInt(j.slice(1),16))});return Aa(M.join(`\r
`))}function Nn(k,M,I){for(var F="",B="",j="",te,ue=0;ue<10;++ue){var ee=M[ue];if(!ee||ee.match(/^\s*$/))break;var re=ee.match(/^(.*?):\s*([^\s].*)$/);if(re)switch(re[1].toLowerCase()){case"content-location":F=re[2].trim();break;case"content-type":j=re[2].trim();break;case"content-transfer-encoding":B=re[2].trim();break}}switch(++ue,B.toLowerCase()){case"base64":te=Aa($n(M.slice(ue).join("")));break;case"quoted-printable":te=gt(M.slice(ue));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+B)}var ae=Jr(k,F.slice(I.length),te,{unsafe:!0});j&&(ae.ctype=j)}function On(k,M){if(L(k.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var I=M&&M.root||"",F=(Ye&&Buffer.isBuffer(k)?k.toString("binary"):L(k)).split(`\r
`),B=0,j="";for(B=0;B<F.length;++B)if(j=F[B],!!/^Content-Location:/i.test(j)&&(j=j.slice(j.indexOf("file")),I||(I=j.slice(0,j.lastIndexOf("/")+1)),j.slice(0,I.length)!=I))for(;I.length>0&&(I=I.slice(0,I.length-1),I=I.slice(0,I.lastIndexOf("/")+1),j.slice(0,I.length)!=I););var te=(F[1]||"").match(/boundary="(.*?)"/);if(!te)throw new Error("MAD cannot find boundary");var ue="--"+(te[1]||""),ee=[],re=[],ae={FileIndex:ee,FullPaths:re};C(ae);var he,we=0;for(B=0;B<F.length;++B){var Ae=F[B];Ae!==ue&&Ae!==ue+"--"||(we++&&Nn(ae,F.slice(he,B),I),he=B)}return ae}function Ba(k,M){var I=M||{},F=I.boundary||"SheetJS";F="------="+F;for(var B=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+F.slice(2)+'"',"","",""],j=k.FullPaths[0],te=j,ue=k.FileIndex[0],ee=1;ee<k.FullPaths.length;++ee)if(te=k.FullPaths[ee].slice(j.length),ue=k.FileIndex[ee],!(!ue.size||!ue.content||te=="Sh33tJ5")){te=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(je){return"_x"+je.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(je){return"_u"+je.charCodeAt(0).toString(16)+"_"});for(var re=ue.content,ae=Ye&&Buffer.isBuffer(re)?re.toString("binary"):L(re),he=0,we=Math.min(1024,ae.length),Ae=0,me=0;me<=we;++me)(Ae=ae.charCodeAt(me))>=32&&Ae<128&&++he;var Ce=he>=we*4/5;B.push(F),B.push("Content-Location: "+(I.root||"file:///C:/SheetJS/")+te),B.push("Content-Transfer-Encoding: "+(Ce?"quoted-printable":"base64")),B.push("Content-Type: "+t1(ue,te)),B.push(""),B.push(Ce?ot(ae):Le(ae))}return B.push(F+`--\r
`),B.join(`\r
`)}function li(k){var M={};return C(M,k),M}function Jr(k,M,I,F){var B=F&&F.unsafe;B||C(k);var j=!B&&Ze.find(k,M);if(!j){var te=k.FullPaths[0];M.slice(0,te.length)==te?te=M:(te.slice(-1)!="/"&&(te+="/"),te=(te+M).replace("//","/")),j={name:a(M),type:2},k.FileIndex.push(j),k.FullPaths.push(te),B||Ze.utils.cfb_gc(k)}return j.content=I,j.size=I?I.length:0,F&&(F.CLSID&&(j.clsid=F.CLSID),F.mt&&(j.mt=F.mt),F.ct&&(j.ct=F.ct)),j}function ja(k,M){C(k);var I=Ze.find(k,M);if(I){for(var F=0;F<k.FileIndex.length;++F)if(k.FileIndex[F]==I)return k.FileIndex.splice(F,1),k.FullPaths.splice(F,1),!0}return!1}function X8(k,M,I){C(k);var F=Ze.find(k,M);if(F){for(var B=0;B<k.FileIndex.length;++B)if(k.FileIndex[B]==F)return k.FileIndex[B].name=a(I),k.FullPaths[B]=I,!0}return!1}function K8(k){T(k,!0)}return t.find=U,t.read=A,t.parse=u,t.write=le,t.writeFile=Y,t.utils={cfb_new:li,cfb_add:Jr,cfb_del:ja,cfb_mov:X8,cfb_gc:K8,ReadShift:pu,CheckField:KT,prep_blob:Ir,bconcat:rs,use_zlib:N,_deflateRaw:Fe,_inflateRaw:Uf,consts:se},t}();function sH(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function ii(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Am(e){for(var t=[],r=ii(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var jd=new Date(1899,11,30,0,0,0);function hn(e,t){var r=e.getTime(),n=jd.getTime()+(e.getTimezoneOffset()-jd.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var TT=new Date,oH=jd.getTime()+(TT.getTimezoneOffset()-jd.getTimezoneOffset())*6e4,x_=TT.getTimezoneOffset();function Yh(e){var t=new Date;return t.setTime(e*24*60*60*1e3+oH),t.getTimezoneOffset()!==x_&&t.setTime(t.getTime()+(t.getTimezoneOffset()-x_)*6e4),t}function cH(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var m_=new Date("2017-02-19T19:06:09.000Z"),kT=isNaN(m_.getFullYear())?new Date("2/19/17"):m_,lH=kT.getFullYear()==2017;function Er(e,t){var r=new Date(e);if(lH)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(kT.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Io(e,t){if(Ye&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Jl(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Jl(pT(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Jl(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Jl(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Pr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Pr(e[r]));return t}function jt(e,t){for(var r="";r.length<t;)r+=e;return r}function Ra(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var uH=["january","february","march","april","may","june","july","august","september","october","november","december"];function nl(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&uH.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var fH=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function IT(e){return e?e.content&&e.type?Io(e.content,!0):e.data?ql(e.data):e.asNodeBuffer&&Ye?ql(e.asNodeBuffer().toString("binary")):e.asBinary?ql(e.asBinary()):e._data&&e._data.getContent?ql(Io(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function NT(e){if(!e)return null;if(e.data)return s_(e.data);if(e.asNodeBuffer&&Ye)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?s_(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function dH(e){return e&&e.name.slice(-4)===".bin"?NT(e):IT(e)}function Xn(e,t){for(var r=e.FullPaths||ii(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function bm(e,t){var r=Xn(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Kt(e,t,r){if(!r)return dH(bm(e,t));if(!t)return null;try{return Kt(e,t)}catch{return null}}function Fn(e,t,r){if(!r)return IT(bm(e,t));if(!t)return null;try{return Fn(e,t)}catch{return null}}function hH(e,t,r){return NT(bm(e,t))}function y_(e){for(var t=e.FullPaths||ii(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function pH(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Ye?n=jo(r):n=P$(r),Ze.utils.cfb_add(e,t,n)}Ze.utils.cfb_add(e,t,r)}else e.file(t,r)}function OT(e,t){switch(t.type){case"base64":return Ze.read(e,{type:"base64"});case"binary":return Ze.read(e,{type:"binary"});case"buffer":case"array":return Ze.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Ql(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var RT=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,vH=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,w_=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,gH=/<[^>]*>/g,Qr=RT.match(w_)?w_:gH,xH=/<\w*:/,mH=/<(\/?)\w+:/;function Me(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(vH),o=0,c="",l=0,u="",f="",d=1;if(s)for(l=0;l!=s.length;++l){for(f=s[l],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(d=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+d,f.length-d),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=c,n[u.toLowerCase()]=c;else{var h=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[h]&&u.slice(o-3,o)=="ext")continue;n[h]=c,n[h.toLowerCase()]=c}}return n}function oi(e){return e.replace(mH,"<$1")}var PT={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},yH=Am(PT),tt=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,c){return PT[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),wH=/[&<>'"]/g,_H=/[\u0000-\u001f]/g;function Tm(e){var t=e+"";return t.replace(wH,function(r){return yH[r]}).replace(/\n/g,"<br/>").replace(_H,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var __=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function It(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function fp(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function E_(e){var t=Ns(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function C_(e){return jo(e,"binary").toString("utf8")}var A0="foo bar baz",wt=Ye&&(C_(A0)==fp(A0)&&C_||E_(A0)==fp(A0)&&E_)||fp,Jl=Ye?function(e){return jo(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},qu=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),DT=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),EH=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),CH=/<\/?(?:vt:)?variant>/g,SH=/<(?:vt:)([^>]*)>([\s\S]*)</;function S_(e,t){var r=Me(e),n=e.match(EH(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(CH,"").match(SH);s&&a.push({v:wt(s[2]),t:s[1]})}),a}var AH=/(^\s|\s$|\n)/;function bH(e){return ii(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function TH(e,t,r){return"<"+e+(r!=null?bH(r):"")+(t!=null?(t.match(AH)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function km(e){if(Ye&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return wt(Uo(Em(e)));throw new Error("Bad input format: expected Buffer or string")}var Zu=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,kH={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},IH=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function NH(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function OH(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var A_=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},b_=Ye?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:jo(t)})):A_(e)}:A_,T_=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Ci(e,a)));return n.join("").replace(dn,"")},Im=Ye?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(dn,""):T_(e,t,r)}:T_,k_=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},FT=Ye?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):k_(e,t,r)}:k_,I_=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(ic(e,a)));return n.join("")},Df=Ye?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):I_(t,r,n)}:I_,MT=function(e,t){var r=Dn(e,t);return r>0?Df(e,t+4,t+4+r-1):""},LT=MT,BT=function(e,t){var r=Dn(e,t);return r>0?Df(e,t+4,t+4+r-1):""},jT=BT,UT=function(e,t){var r=2*Dn(e,t);return r>0?Df(e,t+4,t+4+r-1):""},$T=UT,HT=function(t,r){var n=Dn(t,r);return n>0?Im(t,r+4,r+4+n):""},VT=HT,zT=function(e,t){var r=Dn(e,t);return r>0?Df(e,t+4,t+4+r):""},WT=zT,GT=function(e,t){return NH(e,t)},Ud=GT,XT=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ye&&(LT=function(t,r){if(!Buffer.isBuffer(t))return MT(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},jT=function(t,r){if(!Buffer.isBuffer(t))return BT(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},$T=function(t,r){if(!Buffer.isBuffer(t))return UT(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},VT=function(t,r){if(!Buffer.isBuffer(t))return HT(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},WT=function(t,r){if(!Buffer.isBuffer(t))return zT(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Ud=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):GT(t,r)},XT=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var ic=function(e,t){return e[t]},Ci=function(e,t){return e[t+1]*256+e[t]},RH=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Dn=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Qs=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},PH=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function pu(e,t){var r="",n,a,i=[],s,o,c,l;switch(t){case"dbcs":if(l=this.l,Ye&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Ci(this,l)),l+=2;e*=2;break;case"utf8":r=Df(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Im(this,this.l,this.l+e);break;case"wstr":return pu.call(this,e,"dbcs");case"lpstr-ansi":r=LT(this,this.l),e=4+Dn(this,this.l);break;case"lpstr-cp":r=jT(this,this.l),e=4+Dn(this,this.l);break;case"lpwstr":r=$T(this,this.l),e=4+2*Dn(this,this.l);break;case"lpp4":e=4+Dn(this,this.l),r=VT(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Dn(this,this.l),r=WT(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=ic(this,this.l+e++))!==0;)i.push(S0(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Ci(this,this.l+e))!==0;)i.push(S0(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",l=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return s=ic(this,l),this.l=l+1,o=pu.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(S0(Ci(this,l))),l+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",l=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return s=ic(this,l),this.l=l+1,o=pu.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(S0(ic(this,l))),l+=1}r=i.join("");break;default:switch(e){case 1:return n=ic(this,this.l),this.l++,n;case 2:return n=(t==="i"?RH:Ci)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Qs:PH)(this,this.l),this.l+=4,n):(a=Dn(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Ud(this,this.l):a=Ud([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=FT(this,this.l,e);break}}return this.l+=e,r}var DH=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},FH=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},MH=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function LH(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)MH(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,DH(this,t,this.l);break;case 8:if(n=8,r==="f"){OH(this,t,this.l);break}case 16:break;case-4:n=4,FH(this,t,this.l);break}return this.l+=n,this}function KT(e,t){var r=FT(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ir(e,t){e.l=t,e.read_shift=pu,e.chk=KT,e.write_shift=LH}function qr(e,t){e.l+=t}function rr(e){var t=Ns(e);return Ir(t,0),t}function Li(e,t,r){if(e){var n,a,i;Ir(e,e.l||0);for(var s=e.length,o=0,c=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var l=Gd[o]||Gd[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var u=l.f&&l.f(e,i,r);if(e.l=c,t(u,l,o))return}}}function vg(){var e=[],t=Ye?256:2048,r=function(l){var u=rr(l);return Ir(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(l){return n&&l<n.length-n.l?n:(a(),n=r(Math.max(l+1,t)))},s=function(){return a(),rs(e)},o=function(l){a(),n=l,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function vu(e,t,r){var n=Pr(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function N_(e,t,r){var n=Pr(e);return n.s=vu(n.s,t.s,r),n.e=vu(n.e,t.s,r),n}function gu(e,t){if(e.cRel&&e.c<0)for(e=Pr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Pr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Be(e);return!e.cRel&&e.cRel!=null&&(r=UH(r)),!e.rRel&&e.rRel!=null&&(r=BH(r)),r}function dp(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ur(e.s.c)+":"+(e.e.cRel?"":"$")+ur(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Dr(e.s.r)+":"+(e.e.rRel?"":"$")+Dr(e.e.r):gu(e.s,t.biff)+":"+gu(e.e,t.biff)}function Nm(e){return parseInt(jH(e),10)-1}function Dr(e){return""+(e+1)}function BH(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function jH(e){return e.replace(/\$(\d+)$/,"$1")}function Om(e){for(var t=$H(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ur(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function UH(e){return e.replace(/^([A-Z])/,"$$$1")}function $H(e){return e.replace(/^\$([A-Z])/,"$1")}function HH(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function un(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Be(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function xl(e){var t=e.indexOf(":");return t==-1?{s:un(e),e:un(e)}:{s:un(e.slice(0,t)),e:un(e.slice(t+1))}}function Qe(e,t){return typeof t>"u"||typeof t=="number"?Qe(e.s,e.e):(typeof e!="string"&&(e=Be(e)),typeof t!="string"&&(t=Be(t)),e==t?e:e+":"+t)}function $t(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function O_(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=sa(e.z,r?hn(t):t)}catch{}try{return e.w=sa((e.XF||{}).numFmtId||(r?14:0),r?hn(t):t)}catch{return""+t}}function Pi(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Vo[e.v]||e.v:t==null?O_(e,e.v):O_(e,t))}function Us(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function YT(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?un(n.origin):n.origin;s=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=$t(i["!ref"]);l.s.c=u.s.c,l.s.r=u.s.r,l.e.c=Math.max(l.e.c,u.e.c),l.e.r=Math.max(l.e.r,u.e.r),s==-1&&(l.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[f].length;++d)if(!(typeof t[f][d]>"u")){var h={v:t[f][d]},v=s+f,p=o+d;if(l.s.r>v&&(l.s.r=v),l.s.c>p&&(l.s.c=p),l.e.r<v&&(l.e.r=v),l.e.c<p&&(l.e.c=p),t[f][d]&&typeof t[f][d]=="object"&&!Array.isArray(t[f][d])&&!(t[f][d]instanceof Date))h=t[f][d];else if(Array.isArray(h.v)&&(h.f=t[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||He[14],n.cellDates?(h.t="d",h.w=sa(h.z,hn(h.v))):(h.t="n",h.v=hn(h.v),h.w=sa(h.z,h.v))):h.t="s";if(a)i[v]||(i[v]=[]),i[v][p]&&i[v][p].z&&(h.z=i[v][p].z),i[v][p]=h;else{var x=Be({c:p,r:v});i[x]&&i[x].z&&(h.z=i[x].z),i[x]=h}}}return l.s.c<1e7&&(i["!ref"]=Qe(l)),i}function ml(e,t){return YT(null,e,t)}function VH(e){return e.read_shift(4,"i")}function Kr(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function zH(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Rm(e,t){var r=e.l,n=e.read_shift(1),a=Kr(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(zH(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var WH=Rm;function oa(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function $o(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var GH=Kr;function Pm(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var XH=Kr,gg=Pm;function Dm(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Ud([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Qs(t,0)>>2;return r?a/100:a}function qT(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Ho=qT;function Gr(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function KH(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var l=xo[a];l&&(t.rgb=Ju(l));break;case 2:t.rgb=Ju([s,o,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function YH(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function ZT(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function qH(e){return ZT(e,1)}function ZH(e){return ZT(e,2)}var Fm=2,wn=3,b0=11,R_=12,$d=19,T0=64,QH=65,JH=71,eV=4108,tV=4126,xr=80,QT=81,rV=[xr,QT],nV={1:{n:"CodePage",t:Fm},2:{n:"Category",t:xr},3:{n:"PresentationFormat",t:xr},4:{n:"ByteCount",t:wn},5:{n:"LineCount",t:wn},6:{n:"ParagraphCount",t:wn},7:{n:"SlideCount",t:wn},8:{n:"NoteCount",t:wn},9:{n:"HiddenCount",t:wn},10:{n:"MultimediaClipCount",t:wn},11:{n:"ScaleCrop",t:b0},12:{n:"HeadingPairs",t:eV},13:{n:"TitlesOfParts",t:tV},14:{n:"Manager",t:xr},15:{n:"Company",t:xr},16:{n:"LinksUpToDate",t:b0},17:{n:"CharacterCount",t:wn},19:{n:"SharedDoc",t:b0},22:{n:"HyperlinksChanged",t:b0},23:{n:"AppVersion",t:wn,p:"version"},24:{n:"DigSig",t:QH},26:{n:"ContentType",t:xr},27:{n:"ContentStatus",t:xr},28:{n:"Language",t:xr},29:{n:"Version",t:xr},255:{},2147483648:{n:"Locale",t:$d},2147483651:{n:"Behavior",t:$d},1919054434:{}},aV={1:{n:"CodePage",t:Fm},2:{n:"Title",t:xr},3:{n:"Subject",t:xr},4:{n:"Author",t:xr},5:{n:"Keywords",t:xr},6:{n:"Comments",t:xr},7:{n:"Template",t:xr},8:{n:"LastAuthor",t:xr},9:{n:"RevNumber",t:xr},10:{n:"EditTime",t:T0},11:{n:"LastPrinted",t:T0},12:{n:"CreatedDate",t:T0},13:{n:"ModifiedDate",t:T0},14:{n:"PageCount",t:wn},15:{n:"WordCount",t:wn},16:{n:"CharCount",t:wn},17:{n:"Thumbnail",t:JH},18:{n:"Application",t:xr},19:{n:"DocSecurity",t:wn},255:{},2147483648:{n:"Locale",t:$d},2147483651:{n:"Behavior",t:$d},1919054434:{}},P_={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},iV=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function sV(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var oV=sV([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),xo=Pr(oV),Vo={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},JT={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},D_={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function cV(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function lV(e){var t=cV();if(!e||!e.match)return t;var r={};if((e.match(Qr)||[]).forEach(function(n){var a=Me(n);switch(a[0].replace(xH,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[D_[a.ContentType]]!==void 0&&t[D_[a.ContentType]].push(a.PartName);break}}),t.xmlns!==kH.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var wc={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function xg(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function xu(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Qr)||[]).forEach(function(a){var i=Me(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:Ql(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var uV="application/vnd.oasis.opendocument.spreadsheet";function fV(e,t){for(var r=km(e),n,a;n=Zu.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Me(n[0],!1),a.path=="/"&&a.type!==uV)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var mu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],dV=function(){for(var e=new Array(mu.length),t=0;t<mu.length;++t){var r=mu[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function e8(e){var t={};e=wt(e);for(var r=0;r<mu.length;++r){var n=mu[r],a=e.match(dV[r]);a!=null&&a.length>0&&(t[n[1]]=tt(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Er(t[n[1]]))}return t}var hV=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function t8(e,t,r,n){var a=[];if(typeof e=="string")a=S_(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?S_(t,n).map(function(u){return u.v}):t,o=0,c=0;if(s.length>0)for(var l=0;l!==a.length;l+=2){switch(c=+a[l+1].v,a[l].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=s.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=s.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=s.slice(o,o+c);break}o+=c}}function pV(e,t,r){var n={};return t||(t={}),e=wt(e),hV.forEach(function(a){var i=(e.match(qu(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=tt(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&t8(n.HeadingPairs,n.TitlesOfParts,t,r),t}var vV=/<[^>]+>[^<]*/g;function gV(e,t){var r={},n="",a=e.match(vV);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=Me(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=tt(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),l=c[0].slice(4),u=c[1];switch(l){case"lpstr":case"bstr":case"lpwstr":r[n]=tt(u);break;case"bool":r[n]=It(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=Er(u);break;case"cy":case"error":r[n]=tt(u);break;default:if(l.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,l,c)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var xV={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},hp;function mV(e,t,r){hp||(hp=Am(xV)),t=hp[t]||t,e[t]=r}function Mm(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function r8(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function n8(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function a8(e,t,r){return t===31?n8(e):r8(e,t,r)}function mg(e,t,r){return a8(e,t,r===!1?0:4)}function yV(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return a8(e,t,0)}function wV(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(dn,""),e.l-a&2&&(e.l+=2)}return r}function _V(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(dn,"");return r}function EV(e){var t=e.l,r=Hd(e,QT);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Hd(e,wn);return[r,n]}function CV(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(EV(e));return r}function F_(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(dn,"").replace(Zl,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function i8(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function SV(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Hd(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==R_&&n!==t&&rV.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===R_?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return r8(e,n,4).replace(dn,"");case 31:return n8(e);case 64:return Mm(e);case 65:return i8(e);case 71:return SV(e);case 80:return mg(e,n,!i.raw).replace(dn,"");case 81:return yV(e,n).replace(dn,"");case 4108:return CV(e);case 4126:case 4127:return n==4127?wV(e):_V(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function M_(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,c=-1,l={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(w,m){return w[1]-m[1]});var d={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var h=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,h=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],h=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],h=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(h=!1,e.l=i[s][1]),h)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var v=t[i[s][0]];if(d[v.n]=Hd(e,v.t,{raw:!0}),v.p==="version"&&(d[v.n]=String(d[v.n]>>16)+"."+("0000"+String(d[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(d[v.n]){case 0:d[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ba(o=d[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[v.n])}}else if(i[s][0]===1){if(o=d.CodePage=Hd(e,Fm),ba(o),c!==-1){var p=e.l;e.l=i[c][1],l=F_(e,o),e.l=p}}else if(i[s][0]===0){if(o===0){c=s,e.l=i[s+1][1];continue}l=F_(e,o)}else{var x=l[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=i8(e);break;case 30:e.l+=4,y=mg(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=mg(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=Ht(e,4);break;case 64:e.l+=4,y=Er(Mm(e));break;default:throw new Error("unparsed value: "+e[e.l])}d[x]=y}}return e.l=r+n,d}function L_(e,t,r){var n=e.content;if(!n)return{};Ir(n,0);var a,i,s,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var l=n.read_shift(4),u=n.read_shift(16);if(u!==Ze.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),c=n.read_shift(4));var f=M_(n,t),d={SystemIdentifier:l};for(var h in f)d[h]=f[h];if(d.FMTID=i,a===1)return d;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var v;try{v=M_(n,null)}catch{}for(h in v)d[h]=v[h];return d.FMTID=[i,s],d}function Wi(e,t){return e.read_shift(t),null}function AV(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Ht(e,t){return e.read_shift(t)===1}function Yt(e){return e.read_shift(2,"u")}function s8(e,t){return AV(e,t,Yt)}function bV(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Ff(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function TV(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,c={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var l=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,l);return a&&(e.l+=4*s),n&&(e.l+=o),c.t=u,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function No(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Mf(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):No(e,n,r)}function zo(e,t,r){if(r.biff>5)return Mf(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function kV(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function IV(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(dn,"");return n&&(e.l+=24),a}function NV(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(dn,"");return r+s}function OV(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return IV(e);case"0303000000000000c000000000000046":return NV(e);default:throw new Error("Unsupported Moniker "+r)}}function k0(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(dn,""):"";return r}function RV(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,c,l="",u,f;a&16&&(i=k0(e,r-e.l)),a&128&&(s=k0(e,r-e.l)),(a&257)===257&&(o=k0(e,r-e.l)),(a&257)===1&&(c=OV(e,r-e.l)),a&8&&(l=k0(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=Mm(e)),e.l=r;var d=s||o||c||"";d&&l&&(d+="#"+l),d||(d="#"+l),a&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return u&&(h.guid=u),f&&(h.time=f),i&&(h.Tooltip=i),h}function o8(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function c8(e,t){var r=o8(e);return r[3]=0,r}function ci(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function PV(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function DV(e,t,r){return t===0?"":zo(e,t,r)}function FV(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function l8(e){var t=e.read_shift(2),r=Dm(e);return[t,r]}function MV(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Ff(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function qh(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function u8(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var LV=u8;function f8(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function BV(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function jV(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function $r(e){e.l+=2,e.l+=e.read_shift(2)}var UV={0:$r,4:$r,5:$r,6:$r,7:jV,8:$r,9:$r,10:$r,11:$r,12:$r,13:BV,14:$r,15:$r,16:$r,17:$r,18:$r,19:$r,20:$r,21:f8};function $V(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(UV[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function I0(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function HV(e,t){return t===0||e.read_shift(2),1200}function VV(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=zo(e,0,r);return e.read_shift(t+n-e.l),a}function zV(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function WV(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Ff(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function GV(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(TV(e));return i.Count=n,i.Unique=a,i}function XV(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function KV(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function YV(e){var t=PV(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function qV(e){return e.read_shift(2),e.read_shift(4)}function B_(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function ZV(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),l=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:c,TabRatio:l}}function QV(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function JV(){}function ez(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Ff(e,0,r),n}function tz(e){var t=ci(e);return t.isst=e.read_shift(4),t}function rz(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=ci(e);r.biff==2&&e.l++;var i=Mf(e,n-e.l,r);return a.val=i,a}function nz(e,t,r){var n=e.read_shift(2),a=zo(e,0,r);return[n,a]}var az=zo;function j_(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c}}}function iz(e){var t=e.read_shift(2),r=e.read_shift(2),n=l8(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function sz(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(l8(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function oz(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function cz(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return a.patternType=iV[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function lz(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=cz(e,t,n.fStyle,r),n}function uz(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function U_(e,t,r){var n=ci(e);(r.biff==2||t==9)&&++e.l;var a=bV(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function fz(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=ci(e),a=Gr(e);return n.val=a,n}var $_=DV;function dz(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=No(e,i),o=[];n>e.l;)o.push(Mf(e));return[i,a,s,o]}function H_(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=MV(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var hz=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function V_(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var l=No(e,s,r);a&32&&(l=hz[l.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:KX(e,u,r,o);return{chKey:i,Name:l,itab:c,rgce:f}}function d8(e,t,r){if(r.biff<8)return pz(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(FV(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function pz(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Ff(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function vz(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=No(e,n,r),s=No(e,a,r);return[i,s]}function gz(e,t,r){var n=u8(e);e.l++;var a=e.read_shift(1);return t-=8,[YX(e,t,r),a,n]}function z_(e,t,r){var n=LV(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,GX(e,t,r)]}function xz(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function mz(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=zo(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function yz(e,t,r){return mz(e,t,r)}function wz(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(qh(e));return r}function _z(e,t,r){if(r&&r.biff<8)return Cz(e,t,r);var n=f8(e),a=$V(e,t-22,n[1]);return{cmo:n,ft:a}}var Ez={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function Cz(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((Ez[n]||qr)(e,t,r)),{cmo:[a,n,i],ft:s}}function Sz(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=kV(e,6,r);var o=e.read_shift(2);e.read_shift(2),Yt(e,2);var c=e.read_shift(2);e.l+=c;for(var l=1;l<e.lens.length-1;++l){if(e.l-n!=e.lens[l])throw new Error("TxO: bad continue record");var u=e[e.l],f=No(e,e.lens[l+1]-e.lens[l]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function Az(e,t){var r=qh(e);e.l+=16;var n=RV(e,t-24);return[r,n]}function bz(e,t){e.read_shift(2);var r=qh(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(dn,""),[r,n]}function Tz(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=P_[r]||r,r=e.read_shift(2),t[1]=P_[r]||r,t}function kz(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(c8(e));return r}function Iz(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(c8(e));return r}function Nz(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function h8(e,t,r){if(!r.cellStyles)return qr(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var l={s:a,e:i,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(l.level=c>>8&7),l}function Oz(e,t){var r={};return t<32||(e.l+=16,r.header=Gr(e),r.footer=Gr(e),e.l+=2),r}function Rz(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var Pz=ci,Dz=s8,Fz=Mf;function Mz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function Lz(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=ci(e);++e.l;var a=zo(e,t-7,r);return n.t="str",n.val=a,n}function Bz(e){var t=ci(e);++e.l;var r=Gr(e);return t.t="n",t.val=r,t}function jz(e){var t=ci(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Uz(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function $z(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Hz(e,t,r){var n=e.l+t,a=ci(e),i=e.read_shift(2),s=No(e,i,r);return e.l=n,a.t="str",a.val=s,a}var Vz=[2,3,48,49,131,139,140,245],W_=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Am({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var l=[],u=Ns(1);switch(c.type){case"base64":u=Aa($n(o));break;case"binary":u=Aa(o);break;case"buffer":case"array":u=o;break}Ir(u,0);var f=u.read_shift(1),d=!!(f&136),h=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,x=521;f==2&&(p=u.read_shift(2)),u.l+=3,f!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(x=u.read_shift(2));var y=u.read_shift(2),w=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=e[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var m=[],_={},S=Math.min(u.length,f==2?521:x-10-(h?264:0)),A=v?32:11;u.l<S&&u[u.l]!=13;)switch(_={},_.name=ts.utils.decode(w,u.slice(u.l,u.l+A)).replace(/[\u0000\r\n].*$/g,""),u.l+=A,_.type=String.fromCharCode(u.read_shift(1)),f!=2&&!v&&(_.offset=u.read_shift(4)),_.len=u.read_shift(1),f==2&&(_.offset=u.read_shift(2)),_.dec=u.read_shift(1),_.name.length&&m.push(_),f!=2&&(u.l+=v?13:14),_.type){case"B":(!h||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(u[u.l]!==13&&(u.l=x-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=x;var C=0,b=0;for(l[0]=[],b=0;b!=m.length;++b)l[0][b]=m[b].name;for(;p-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,l[++C]=[],b=0,b=0;b!=m.length;++b){var T=u.slice(u.l,u.l+m[b].len);u.l+=m[b].len,Ir(T,0);var O=ts.utils.decode(w,T);switch(m[b].type){case"C":O.trim().length&&(l[C][b]=O.replace(/\s+$/,""));break;case"D":O.length===8?l[C][b]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):l[C][b]=O;break;case"F":l[C][b]=parseFloat(O.trim());break;case"+":case"I":l[C][b]=v?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":l[C][b]=!0;break;case"N":case"F":l[C][b]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));l[C][b]="##MEMO##"+(v?parseInt(O.trim(),10):T.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(l[C][b]=+O||0);break;case"@":l[C][b]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":l[C][b]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":l[C][b]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":l[C][b]=-T.read_shift(-8,"f");break;case"B":if(h&&m[b].len==8){l[C][b]=T.read_shift(8,"f");break}case"G":case"P":T.l+=m[b].len;break;case"0":if(m[b].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+m[b].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(l=l.slice(0,c.sheetRows)),c.DBF=m,l}function n(o,c){var l=c||{};l.dateNF||(l.dateNF="yyyymmdd");var u=ml(r(o,l),l);return u["!cols"]=l.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete l.DBF,u}function a(o,c){try{return Us(n(o,c),c)}catch(l){if(c&&c.WTF)throw l}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var l=c||{};if(+l.codepage>=0&&ba(+l.codepage),l.type=="string")throw new Error("Cannot write DBF to JS string");var u=vg(),f=Ag(o,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),v=o["!cols"]||[],p=0,x=0,y=0,w=1;for(p=0;p<d.length;++p){if(((v[p]||{}).DBF||{}).name){d[p]=v[p].DBF.name,++y;continue}if(d[p]!=null){if(++y,typeof d[p]=="number"&&(d[p]=d[p].toString(10)),typeof d[p]!="string")throw new Error("DBF Invalid column name "+d[p]+" |"+typeof d[p]+"|");if(d.indexOf(d[p])!==p){for(x=0;x<1024;++x)if(d.indexOf(d[p]+"_"+x)==-1){d[p]+="_"+x;break}}}}var m=$t(o["!ref"]),_=[],S=[],A=[];for(p=0;p<=m.e.c-m.s.c;++p){var C="",b="",T=0,O=[];for(x=0;x<h.length;++x)h[x][p]!=null&&O.push(h[x][p]);if(O.length==0||d[p]==null){_[p]="?";continue}for(x=0;x<O.length;++x){switch(typeof O[x]){case"number":b="B";break;case"string":b="C";break;case"boolean":b="L";break;case"object":b=O[x]instanceof Date?"D":"C";break;default:b="C"}T=Math.max(T,String(O[x]).length),C=C&&C!=b?"C":b}T>250&&(T=250),b=((v[p]||{}).DBF||{}).type,b=="C"&&v[p].DBF.len>T&&(T=v[p].DBF.len),C=="B"&&b=="N"&&(C="N",A[p]=v[p].DBF.dec,T=v[p].DBF.len),S[p]=C=="C"||b=="N"?T:i[C]||0,w+=S[p],_[p]=C}var U=u.next(32);for(U.write_shift(4,318902576),U.write_shift(4,h.length),U.write_shift(2,296+32*y),U.write_shift(2,w),p=0;p<4;++p)U.write_shift(4,0);for(U.write_shift(4,0|(+t[dT]||3)<<8),p=0,x=0;p<d.length;++p)if(d[p]!=null){var R=u.next(32),H=(d[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,H,"sbcs"),R.write_shift(1,_[p]=="?"?"C":_[p],"sbcs"),R.write_shift(4,x),R.write_shift(1,S[p]||i[_[p]]||0),R.write_shift(1,A[p]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),x+=S[p]||i[_[p]]||0}var K=u.next(264);for(K.write_shift(4,13),p=0;p<65;++p)K.write_shift(4,0);for(p=0;p<h.length;++p){var Q=u.next(w);for(Q.write_shift(1,0),x=0;x<d.length;++x)if(d[x]!=null)switch(_[x]){case"L":Q.write_shift(1,h[p][x]==null?63:h[p][x]?84:70);break;case"B":Q.write_shift(8,h[p][x]||0,"f");break;case"N":var J="0";for(typeof h[p][x]=="number"&&(J=h[p][x].toFixed(A[x]||0)),y=0;y<S[x]-J.length;++y)Q.write_shift(1,32);Q.write_shift(1,J,"sbcs");break;case"D":h[p][x]?(Q.write_shift(4,("0000"+h[p][x].getFullYear()).slice(-4),"sbcs"),Q.write_shift(2,("00"+(h[p][x].getMonth()+1)).slice(-2),"sbcs"),Q.write_shift(2,("00"+h[p][x].getDate()).slice(-2),"sbcs")):Q.write_shift(8,"00000000","sbcs");break;case"C":var se=String(h[p][x]!=null?h[p][x]:"").slice(0,S[x]);for(Q.write_shift(1,se,"sbcs"),y=0;y<S[x]-se.length;++y)Q.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),zz=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ii(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,h){var v=e[h];return typeof v=="number"?o_(v):v},n=function(d,h,v){var p=h.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return p==59?d:o_(p)};e["|"]=254;function a(d,h){switch(h.type){case"base64":return i($n(d),h);case"binary":return i(d,h);case"buffer":return i(Ye&&Buffer.isBuffer(d)?d.toString("binary"):Uo(d),h);case"array":return i(Io(d),h)}throw new Error("Unrecognized type "+h.type)}function i(d,h){var v=d.split(/[\n\r]+/),p=-1,x=-1,y=0,w=0,m=[],_=[],S=null,A={},C=[],b=[],T=[],O=0,U;for(+h.codepage>=0&&ba(+h.codepage);y!==v.length;++y){O=0;var R=v[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),H=R.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),K=H[0],Q;if(R.length>0)switch(K){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":H[1].charAt(0)=="P"&&_.push(R.slice(3).replace(/;;/g,";"));break;case"C":var J=!1,se=!1,Y=!1,L=!1,le=-1,de=-1;for(w=1;w<H.length;++w)switch(H[w].charAt(0)){case"A":break;case"X":x=parseInt(H[w].slice(1))-1,se=!0;break;case"Y":for(p=parseInt(H[w].slice(1))-1,se||(x=0),U=m.length;U<=p;++U)m[U]=[];break;case"K":Q=H[w].slice(1),Q.charAt(0)==='"'?Q=Q.slice(1,Q.length-1):Q==="TRUE"?Q=!0:Q==="FALSE"?Q=!1:isNaN(Ra(Q))?isNaN(nl(Q).getDate())||(Q=Er(Q)):(Q=Ra(Q),S!==null&&gl(S)&&(Q=Yh(Q))),J=!0;break;case"E":L=!0;var N=Pc(H[w].slice(1),{r:p,c:x});m[p][x]=[m[p][x],N];break;case"S":Y=!0,m[p][x]=[m[p][x],"S5S"];break;case"G":break;case"R":le=parseInt(H[w].slice(1))-1;break;case"C":de=parseInt(H[w].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}if(J&&(m[p][x]&&m[p][x].length==2?m[p][x][0]=Q:m[p][x]=Q,S=null),Y){if(L)throw new Error("SYLK shared formula cannot have own formula");var G=le>-1&&m[le][de];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");m[p][x][1]=C8(G[1],{r:p-le,c:x-de})}break;case"F":var V=0;for(w=1;w<H.length;++w)switch(H[w].charAt(0)){case"X":x=parseInt(H[w].slice(1))-1,++V;break;case"Y":for(p=parseInt(H[w].slice(1))-1,U=m.length;U<=p;++U)m[U]=[];break;case"M":O=parseInt(H[w].slice(1))/20;break;case"F":break;case"G":break;case"P":S=_[parseInt(H[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=H[w].slice(1).split(" "),U=parseInt(T[0],10);U<=parseInt(T[1],10);++U)O=parseInt(T[2],10),b[U-1]=O===0?{hidden:!0}:{wch:O},al(b[U-1]);break;case"C":x=parseInt(H[w].slice(1))-1,b[x]||(b[x]={});break;case"R":p=parseInt(H[w].slice(1))-1,C[p]||(C[p]={}),O>0?(C[p].hpt=O,C[p].hpx=ef(O)):O===0&&(C[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}V<1&&(S=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}}return C.length>0&&(A["!rows"]=C),b.length>0&&(A["!cols"]=b),h&&h.sheetRows&&(m=m.slice(0,h.sheetRows)),[m,A]}function s(d,h){var v=a(d,h),p=v[0],x=v[1],y=ml(p,h);return ii(x).forEach(function(w){y[w]=x[w]}),y}function o(d,h){return Us(s(d,h),h)}function c(d,h,v,p){var x="C;Y"+(v+1)+";X"+(p+1)+";K";switch(d.t){case"n":x+=d.v||0,d.f&&!d.F&&(x+=";E"+NG(d.f,{r:v,c:p}));break;case"b":x+=d.v?"TRUE":"FALSE";break;case"e":x+=d.w||d.v;break;case"d":x+='"'+(d.w||d.v)+'"';break;case"s":x+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function l(d,h){h.forEach(function(v,p){var x="F;W"+(p+1)+" "+(p+1)+" ";v.hidden?x+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=zd(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=Wd(v.wpx)),typeof v.wch=="number"&&(x+=Math.round(v.wch))),x.charAt(x.length-1)!=" "&&d.push(x)})}function u(d,h){h.forEach(function(v,p){var x="F;";v.hidden?x+="M0;":v.hpt?x+="M"+20*v.hpt+";":v.hpx&&(x+="M"+20*w8(v.hpx)+";"),x.length>2&&d.push(x+"R"+(p+1))})}function f(d,h){var v=["ID;PWXL;N;E"],p=[],x=$t(d["!ref"]),y,w=Array.isArray(d),m=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),d["!cols"]&&l(v,d["!cols"]),d["!rows"]&&u(v,d["!rows"]),v.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var _=x.s.r;_<=x.e.r;++_)for(var S=x.s.c;S<=x.e.c;++S){var A=Be({r:_,c:S});y=w?(d[_]||[])[S]:d[A],!(!y||y.v==null&&(!y.f||y.F))&&p.push(c(y,d,_,S))}return v.join(m)+m+p.join(m)+m+"E"+m}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),Wz=function(){function e(i,s){switch(s.type){case"base64":return t($n(i),s);case"binary":return t(i,s);case"buffer":return t(Ye&&Buffer.isBuffer(i)?i.toString("binary"):Uo(i),s);case"array":return t(Io(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),c=-1,l=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++c]=[],l=0;continue}if(!(c<0)){var d=o[u].trim().split(","),h=d[0],v=d[1];++u;for(var p=o[u]||"";(p.match(/["]/g)||[]).length&1&&u<o.length-1;)p+=`
`+o[++u];switch(p=p.trim(),+h){case-1:if(p==="BOT"){f[++c]=[],l=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][l]=!0:p==="FALSE"?f[c][l]=!1:isNaN(Ra(v))?isNaN(nl(v).getDate())?f[c][l]=v:f[c][l]=Er(v):f[c][l]=Ra(v),++l;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][l++]=p!==""?p:null;break}if(p==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return ml(e(i,s),s)}function n(i,s){return Us(r(i,s),s)}var a=function(){var i=function(c,l,u,f,d){c.push(l),c.push(u+","+f),c.push('"'+d.replace(/"/g,'""')+'"')},s=function(c,l,u,f){c.push(l+","+u),c.push(l==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var l=[],u=$t(c["!ref"]),f,d=Array.isArray(c);i(l,"TABLE",0,1,"sheetjs"),i(l,"VECTORS",0,u.e.r-u.s.r+1,""),i(l,"TUPLES",0,u.e.c-u.s.c+1,""),i(l,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){s(l,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var p=Be({r:h,c:v});if(f=d?(c[h]||[])[v]:c[p],!f){s(l,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?s(l,1,0,"="+f.f):s(l,1,0,""):s(l,0,x,"V");break;case"b":s(l,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(l,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=sa(f.z||He[14],hn(Er(f.v)))),s(l,0,f.w,"V");break;default:s(l,1,0,"")}}}s(l,-1,0,"EOD");var y=`\r
`,w=l.join(y);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),Gz=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,d){for(var h=f.split(`
`),v=-1,p=-1,x=0,y=[];x!==h.length;++x){var w=h[x].trim().split(":");if(w[0]==="cell"){var m=un(w[1]);if(y.length<=m.r)for(v=y.length;v<=m.r;++v)y[v]||(y[v]=[]);switch(v=m.r,p=m.c,w[2]){case"t":y[v][p]=e(w[3]);break;case"v":y[v][p]=+w[3];break;case"vtf":var _=w[w.length-1];case"vtc":switch(w[3]){case"nl":y[v][p]=!!+w[4];break;default:y[v][p]=+w[4];break}w[2]=="vtf"&&(y[v][p]=[y[v][p],_])}}}return d&&d.sheetRows&&(y=y.slice(0,d.sheetRows)),y}function n(f,d){return ml(r(f,d),d)}function a(f,d){return Us(n(f,d),d)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function l(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],v,p="",x=xl(f["!ref"]),y=Array.isArray(f),w=x.s.r;w<=x.e.r;++w)for(var m=x.s.c;m<=x.e.c;++m)if(p=Be({r:w,c:m}),v=y?(f[w]||[])[m]:f[p],!(!v||v.v==null||v.t==="z")){switch(h=["cell",p,"t"],v.t){case"s":case"str":h.push(t(v.v));break;case"n":v.f?(h[2]="vtf",h[3]="n",h[4]=v.v,h[5]=t(v.f)):(h[2]="v",h[3]=v.v);break;case"b":h[2]="vt"+(v.f?"f":"c"),h[3]="nl",h[4]=v.v?"1":"0",h[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var _=hn(Er(v.v));h[2]="vtc",h[3]="nd",h[4]=""+_,h[5]=v.w||sa(v.z||He[14],_);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function u(f){return[i,s,o,s,l(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),Qu=function(){function e(u,f,d,h,v){v.raw?f[d][h]=u:u===""||(u==="TRUE"?f[d][h]=!0:u==="FALSE"?f[d][h]=!1:isNaN(Ra(u))?isNaN(nl(u).getDate())?f[d][h]=u:f[d][h]=Er(u):f[d][h]=Ra(u))}function t(u,f){var d=f||{},h=[];if(!u||u.length===0)return h;for(var v=u.split(/[\r\n]/),p=v.length-1;p>=0&&v[p].length===0;)--p;for(var x=10,y=0,w=0;w<=p;++w)y=v[w].indexOf(" "),y==-1?y=v[w].length:y++,x=Math.max(x,y);for(w=0;w<=p;++w){h[w]=[];var m=0;for(e(v[w].slice(0,x).trim(),h,w,m,d),m=1;m<=(v[w].length-x)/10+1;++m)e(v[w].slice(x+(m-1)*10,x+m*10).trim(),h,w,m,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},d=!1,h=0,v=0;h<u.length;++h)(v=u.charCodeAt(h))==34?d=!d:!d&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&v.push([f[h],h]);if(!v.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&v.push([f[h],h])}return v.sort(function(p,x){return p[0]-x[0]||n[p[1]]-n[x[1]]}),r[v.pop()[1]]||44}function i(u,f){var d=f||{},h="",v=d.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=a(u.slice(0,1024)):d&&d.FS?h=d.FS:h=a(u.slice(0,1024));var x=0,y=0,w=0,m=0,_=0,S=h.charCodeAt(0),A=!1,C=0,b=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var T=d.dateNF!=null?nH(d.dateNF):null;function O(){var U=u.slice(m,_),R={};if(U.charAt(0)=='"'&&U.charAt(U.length-1)=='"'&&(U=U.slice(1,-1).replace(/""/g,'"')),U.length===0)R.t="z";else if(d.raw)R.t="s",R.v=U;else if(U.trim().length===0)R.t="s",R.v=U;else if(U.charCodeAt(0)==61)U.charCodeAt(1)==34&&U.charCodeAt(U.length-1)==34?(R.t="s",R.v=U.slice(2,-1).replace(/""/g,'"')):RG(U)?(R.t="n",R.f=U.slice(1)):(R.t="s",R.v=U);else if(U=="TRUE")R.t="b",R.v=!0;else if(U=="FALSE")R.t="b",R.v=!1;else if(!isNaN(w=Ra(U)))R.t="n",d.cellText!==!1&&(R.w=U),R.v=w;else if(!isNaN(nl(U).getDate())||T&&U.match(T)){R.z=d.dateNF||He[14];var H=0;T&&U.match(T)&&(U=aH(U,d.dateNF,U.match(T)||[]),H=1),d.cellDates?(R.t="d",R.v=Er(U,H)):(R.t="n",R.v=hn(Er(U,H))),d.cellText!==!1&&(R.w=sa(R.z,R.v instanceof Date?hn(R.v):R.v)),d.cellNF||delete R.z}else R.t="s",R.v=U;if(R.t=="z"||(d.dense?(v[x]||(v[x]=[]),v[x][y]=R):v[Be({c:y,r:x})]=R),m=_+1,b=u.charCodeAt(m),p.e.c<y&&(p.e.c=y),p.e.r<x&&(p.e.r=x),C==S)++y;else if(y=0,++x,d.sheetRows&&d.sheetRows<=x)return!0}e:for(;_<u.length;++_)switch(C=u.charCodeAt(_)){case 34:b===34&&(A=!A);break;case S:case 10:case 13:if(!A&&O())break e;break}return _-m>0&&O(),v["!ref"]=Qe(p),v}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):ml(t(u,f),f)}function o(u,f){var d="",h=f.type=="string"?[0,0,0,0]:zm(u,f);switch(f.type){case"base64":d=$n(u);break;case"binary":d=u;break;case"buffer":f.codepage==65001?d=u.toString("utf8"):f.codepage&&typeof ts<"u"?d=ts.utils.decode(f.codepage,u):d=Ye&&Buffer.isBuffer(u)?u.toString("binary"):Uo(u);break;case"array":d=Io(u);break;case"string":d=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=wt(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=wt(d):f.type=="binary"&&typeof ts<"u"&&f.codepage&&(d=ts.utils.decode(f.codepage,ts.utils.encode(28591,d))),d.slice(0,19)=="socialcalc:version:"?Gz.to_sheet(f.type=="string"?d:wt(d),f):s(d,f)}function c(u,f){return Us(o(u,f),f)}function l(u){for(var f=[],d=$t(u["!ref"]),h,v=Array.isArray(u),p=d.s.r;p<=d.e.r;++p){for(var x=[],y=d.s.c;y<=d.e.c;++y){var w=Be({r:p,c:y});if(h=v?(u[p]||[])[y]:u[w],!h||h.v==null){x.push("          ");continue}for(var m=(h.w||(Pi(h),h.w)||"").slice(0,10);m.length<10;)m+=" ";x.push(m+(y===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:l}}();function Xz(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=zz.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Qu.to_workbook(e,t)}}var yu=function(){function e(N,G,V){if(N){Ir(N,N.l||0);for(var z=V.Enum||le;N.l<N.length;){var W=N.read_shift(2),X=z[W]||z[65535],ie=N.read_shift(2),ne=N.l+ie,q=X.f&&X.f(N,ie,V);if(N.l=ne,G(q,X,W))return}}}function t(N,G){switch(G.type){case"base64":return r(Aa($n(N)),G);case"binary":return r(Aa(N),G);case"buffer":case"array":return r(N,G)}throw"Unsupported type "+G.type}function r(N,G){if(!N)return N;var V=G||{},z=V.dense?[]:{},W="Sheet1",X="",ie=0,ne={},q=[],ge=[],P={s:{r:0,c:0},e:{r:0,c:0}},De=V.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)V.Enum=le,e(N,function(ve,rt,Mt){switch(Mt){case 0:V.vers=ve,ve>=4096&&(V.qpro=!0);break;case 6:P=ve;break;case 204:ve&&(X=ve);break;case 222:X=ve;break;case 15:case 51:V.qpro||(ve[1].v=ve[1].v.slice(1));case 13:case 14:case 16:Mt==14&&(ve[2]&112)==112&&(ve[2]&15)>1&&(ve[2]&15)<15&&(ve[1].z=V.dateNF||He[14],V.cellDates&&(ve[1].t="d",ve[1].v=Yh(ve[1].v))),V.qpro&&ve[3]>ie&&(z["!ref"]=Qe(P),ne[W]=z,q.push(W),z=V.dense?[]:{},P={s:{r:0,c:0},e:{r:0,c:0}},ie=ve[3],W=X||"Sheet"+(ie+1),X="");var Cr=V.dense?(z[ve[0].r]||[])[ve[0].c]:z[Be(ve[0])];if(Cr){Cr.t=ve[1].t,Cr.v=ve[1].v,ve[1].z!=null&&(Cr.z=ve[1].z),ve[1].f!=null&&(Cr.f=ve[1].f);break}V.dense?(z[ve[0].r]||(z[ve[0].r]=[]),z[ve[0].r][ve[0].c]=ve[1]):z[Be(ve[0])]=ve[1];break}},V);else if(N[2]==26||N[2]==14)V.Enum=de,N[2]==14&&(V.qpro=!0,N.l=0),e(N,function(ve,rt,Mt){switch(Mt){case 204:W=ve;break;case 22:ve[1].v=ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ve[3]>ie&&(z["!ref"]=Qe(P),ne[W]=z,q.push(W),z=V.dense?[]:{},P={s:{r:0,c:0},e:{r:0,c:0}},ie=ve[3],W="Sheet"+(ie+1)),De>0&&ve[0].r>=De)break;V.dense?(z[ve[0].r]||(z[ve[0].r]=[]),z[ve[0].r][ve[0].c]=ve[1]):z[Be(ve[0])]=ve[1],P.e.c<ve[0].c&&(P.e.c=ve[0].c),P.e.r<ve[0].r&&(P.e.r=ve[0].r);break;case 27:ve[14e3]&&(ge[ve[14e3][0]]=ve[14e3][1]);break;case 1537:ge[ve[0]]=ve[1],ve[0]==ie&&(W=ve[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(z["!ref"]=Qe(P),ne[X||W]=z,q.push(X||W),!ge.length)return{SheetNames:q,Sheets:ne};for(var oe={},Ee=[],Te=0;Te<ge.length;++Te)ne[q[Te]]?(Ee.push(ge[Te]||q[Te]),oe[ge[Te]]=ne[ge[Te]]||ne[q[Te]]):(Ee.push(ge[Te]),oe[ge[Te]]={"!ref":"A1"});return{SheetNames:Ee,Sheets:oe}}function n(N,G){var V=G||{};if(+V.codepage>=0&&ba(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var z=vg(),W=$t(N["!ref"]),X=Array.isArray(N),ie=[];da(z,0,i(1030)),da(z,6,c(W));for(var ne=Math.min(W.e.r,8191),q=W.s.r;q<=ne;++q)for(var ge=Dr(q),P=W.s.c;P<=W.e.c;++P){q===W.s.r&&(ie[P]=ur(P));var De=ie[P]+ge,oe=X?(N[q]||[])[P]:N[De];if(!(!oe||oe.t=="z"))if(oe.t=="n")(oe.v|0)==oe.v&&oe.v>=-32768&&oe.v<=32767?da(z,13,h(q,P,oe.v)):da(z,14,p(q,P,oe.v));else{var Ee=Pi(oe);da(z,15,f(q,P,Ee.slice(0,239)))}}return da(z,1),z.end()}function a(N,G){var V=G||{};if(+V.codepage>=0&&ba(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var z=vg();da(z,0,s(N));for(var W=0,X=0;W<N.SheetNames.length;++W)(N.Sheets[N.SheetNames[W]]||{})["!ref"]&&da(z,27,L(N.SheetNames[W],X++));var ie=0;for(W=0;W<N.SheetNames.length;++W){var ne=N.Sheets[N.SheetNames[W]];if(!(!ne||!ne["!ref"])){for(var q=$t(ne["!ref"]),ge=Array.isArray(ne),P=[],De=Math.min(q.e.r,8191),oe=q.s.r;oe<=De;++oe)for(var Ee=Dr(oe),Te=q.s.c;Te<=q.e.c;++Te){oe===q.s.r&&(P[Te]=ur(Te));var ve=P[Te]+Ee,rt=ge?(ne[oe]||[])[Te]:ne[ve];if(!(!rt||rt.t=="z"))if(rt.t=="n")da(z,23,O(oe,Te,ie,rt.v));else{var Mt=Pi(rt);da(z,22,C(oe,Te,ie,Mt.slice(0,239)))}}++ie}}return da(z,1),z.end()}function i(N){var G=rr(2);return G.write_shift(2,N),G}function s(N){var G=rr(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var V=0,z=0,W=0,X=0;X<N.SheetNames.length;++X){var ie=N.SheetNames[X],ne=N.Sheets[ie];if(!(!ne||!ne["!ref"])){++W;var q=xl(ne["!ref"]);V<q.e.r&&(V=q.e.r),z<q.e.c&&(z=q.e.c)}}return V>8191&&(V=8191),G.write_shift(2,V),G.write_shift(1,W),G.write_shift(1,z),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function o(N,G,V){var z={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&V.qpro?(z.s.c=N.read_shift(1),N.l++,z.s.r=N.read_shift(2),z.e.c=N.read_shift(1),N.l++,z.e.r=N.read_shift(2),z):(z.s.c=N.read_shift(2),z.s.r=N.read_shift(2),G==12&&V.qpro&&(N.l+=2),z.e.c=N.read_shift(2),z.e.r=N.read_shift(2),G==12&&V.qpro&&(N.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function c(N){var G=rr(8);return G.write_shift(2,N.s.c),G.write_shift(2,N.s.r),G.write_shift(2,N.e.c),G.write_shift(2,N.e.r),G}function l(N,G,V){var z=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(z[0].c=N.read_shift(1),z[3]=N.read_shift(1),z[0].r=N.read_shift(2),N.l+=2):(z[2]=N.read_shift(1),z[0].c=N.read_shift(2),z[0].r=N.read_shift(2)),z}function u(N,G,V){var z=N.l+G,W=l(N,G,V);if(W[1].t="s",V.vers==20768){N.l++;var X=N.read_shift(1);return W[1].v=N.read_shift(X,"utf8"),W}return V.qpro&&N.l++,W[1].v=N.read_shift(z-N.l,"cstr"),W}function f(N,G,V){var z=rr(7+V.length);z.write_shift(1,255),z.write_shift(2,G),z.write_shift(2,N),z.write_shift(1,39);for(var W=0;W<z.length;++W){var X=V.charCodeAt(W);z.write_shift(1,X>=128?95:X)}return z.write_shift(1,0),z}function d(N,G,V){var z=l(N,G,V);return z[1].v=N.read_shift(2,"i"),z}function h(N,G,V){var z=rr(7);return z.write_shift(1,255),z.write_shift(2,G),z.write_shift(2,N),z.write_shift(2,V,"i"),z}function v(N,G,V){var z=l(N,G,V);return z[1].v=N.read_shift(8,"f"),z}function p(N,G,V){var z=rr(13);return z.write_shift(1,255),z.write_shift(2,G),z.write_shift(2,N),z.write_shift(8,V,"f"),z}function x(N,G,V){var z=N.l+G,W=l(N,G,V);if(W[1].v=N.read_shift(8,"f"),V.qpro)N.l=z;else{var X=N.read_shift(2);_(N.slice(N.l,N.l+X),W),N.l+=X}return W}function y(N,G,V){var z=G&32768;return G&=-32769,G=(z?N:0)+(G>=8192?G-16384:G),(z?"":"$")+(V?ur(G):Dr(G))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},m=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(N,G){Ir(N,0);for(var V=[],z=0,W="",X="",ie="",ne="";N.l<N.length;){var q=N[N.l++];switch(q){case 0:V.push(N.read_shift(8,"f"));break;case 1:X=y(G[0].c,N.read_shift(2),!0),W=y(G[0].r,N.read_shift(2),!1),V.push(X+W);break;case 2:{var ge=y(G[0].c,N.read_shift(2),!0),P=y(G[0].r,N.read_shift(2),!1);X=y(G[0].c,N.read_shift(2),!0),W=y(G[0].r,N.read_shift(2),!1),V.push(ge+P+":"+X+W)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(N.read_shift(2));break;case 6:{for(var De="";q=N[N.l++];)De+=String.fromCharCode(q);V.push('"'+De.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:ne=V.pop(),ie=V.pop(),V.push(["AND","OR"][q-20]+"("+ie+","+ne+")");break;default:if(q<32&&m[q])ne=V.pop(),ie=V.pop(),V.push(ie+m[q]+ne);else if(w[q]){if(z=w[q][1],z==69&&(z=N[N.l++]),z>V.length){console.error("WK1 bad formula parse 0x"+q.toString(16)+":|"+V.join("|")+"|");return}var oe=V.slice(-z);V.length-=z,V.push(w[q][0]+"("+oe.join(",")+")")}else return q<=7?console.error("WK1 invalid opcode "+q.toString(16)):q<=24?console.error("WK1 unsupported op "+q.toString(16)):q<=30?console.error("WK1 invalid opcode "+q.toString(16)):q<=115?console.error("WK1 unsupported function opcode "+q.toString(16)):console.error("WK1 unrecognized opcode "+q.toString(16))}}V.length==1?G[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function S(N){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=N.read_shift(2),G[3]=N[N.l++],G[0].c=N[N.l++],G}function A(N,G){var V=S(N);return V[1].t="s",V[1].v=N.read_shift(G-4,"cstr"),V}function C(N,G,V,z){var W=rr(6+z.length);W.write_shift(2,N),W.write_shift(1,V),W.write_shift(1,G),W.write_shift(1,39);for(var X=0;X<z.length;++X){var ie=z.charCodeAt(X);W.write_shift(1,ie>=128?95:ie)}return W.write_shift(1,0),W}function b(N,G){var V=S(N);V[1].v=N.read_shift(2);var z=V[1].v>>1;if(V[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return V[1].v=z,V}function T(N,G){var V=S(N),z=N.read_shift(4),W=N.read_shift(4),X=N.read_shift(2);if(X==65535)return z===0&&W===3221225472?(V[1].t="e",V[1].v=15):z===0&&W===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var ie=X&32768;return X=(X&32767)-16446,V[1].v=(1-ie*2)*(W*Math.pow(2,X+32)+z*Math.pow(2,X)),V}function O(N,G,V,z){var W=rr(14);if(W.write_shift(2,N),W.write_shift(1,V),W.write_shift(1,G),z==0)return W.write_shift(4,0),W.write_shift(4,0),W.write_shift(2,65535),W;var X=0,ie=0,ne=0,q=0;return z<0&&(X=1,z=-z),ie=Math.log2(z)|0,z/=Math.pow(2,ie-31),q=z>>>0,q&2147483648||(z/=2,++ie,q=z>>>0),z-=q,q|=2147483648,q>>>=0,z*=Math.pow(2,32),ne=z>>>0,W.write_shift(4,ne),W.write_shift(4,q),ie+=16383+(X?32768:0),W.write_shift(2,ie),W}function U(N,G){var V=T(N);return N.l+=G-14,V}function R(N,G){var V=S(N),z=N.read_shift(4);return V[1].v=z>>6,V}function H(N,G){var V=S(N),z=N.read_shift(8,"f");return V[1].v=z,V}function K(N,G){var V=H(N);return N.l+=G-10,V}function Q(N,G){return N[N.l+G-1]==0?N.read_shift(G,"cstr"):""}function J(N,G){var V=N[N.l++];V>G-1&&(V=G-1);for(var z="";z.length<V;)z+=String.fromCharCode(N[N.l++]);return z}function se(N,G,V){if(!(!V.qpro||G<21)){var z=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var W=N.read_shift(G-21,"cstr");return[z,W]}}function Y(N,G){for(var V={},z=N.l+G;N.l<z;){var W=N.read_shift(2);if(W==14e3){for(V[W]=[0,""],V[W][0]=N.read_shift(2);N[N.l];)V[W][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return V}function L(N,G){var V=rr(5+N.length);V.write_shift(2,14e3),V.write_shift(2,G);for(var z=0;z<N.length;++z){var W=N.charCodeAt(z);V[V.l++]=W>127?95:W}return V[V.l++]=0,V}var le={0:{n:"BOF",f:Yt},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Q},222:{n:"SHEETNAMELP",f:J},65535:{n:""}},de={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:A},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:b},25:{n:"FORMULA19",f:U},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:H},40:{n:"FORMULA28",f:K},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function Kz(e){var t={},r=e.match(Qr),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Me(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=wm[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var Yz=function(){var e=qu("t"),t=qu("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:tt(s[1])},c=i.match(t);return c&&(o.s=Kz(c[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),qz=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),Zz=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Qz=/<(?:\w+:)?r>/,Jz=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Lm(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=tt(wt(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=wt(e),r&&(n.h=Tm(n.t))):e.match(Qz)&&(n.r=wt(e),n.t=tt(wt((e.replace(Jz,"").match(Zz)||[]).join("").replace(Qr,""))),r&&(n.h=qz(Yz(n.r)))),n):{t:""}}var eW=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,tW=/<(?:\w+:)?(?:si|sstItem)>/g,rW=/<\/(?:\w+:)?(?:si|sstItem)>/;function nW(e,t){var r=[],n="";if(!e)return r;var a=e.match(eW);if(a){n=a[2].replace(tW,"").split(rW);for(var i=0;i!=n.length;++i){var s=Lm(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=Me(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function aW(e){return[e.read_shift(4),e.read_shift(4)]}function iW(e,t){var r=[],n=!1;return Li(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function p8(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function bi(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function sW(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=bi(e,4),t.U=bi(e,4),t.W=bi(e,4),t}function oW(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function cW(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(oW(e));return t}function lW(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function uW(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=bi(e,4),t.U=bi(e,4),t.W=bi(e,4),t}function fW(e){var t=uW(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function v8(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function g8(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function dW(e){var t=bi(e);switch(t.Minor){case 2:return[t.Minor,hW(e)];case 3:return[t.Minor,pW()];case 4:return[t.Minor,vW(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function hW(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=v8(e,r),a=g8(e,e.length-e.l);return{t:"Std",h:n,v:a}}function pW(){throw new Error("File is password-protected: ECMA-376 Extensible")}function vW(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Qr,function(i){var s=Me(i);switch(oi(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function gW(e,t){var r={},n=r.EncryptionVersionInfo=bi(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=v8(e,a),t-=a,r.EncryptionVerifier=g8(e,t),r}function xW(e){var t={},r=t.EncryptionVersionInfo=bi(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function mW(e){var t=0,r,n=p8(e),a=n.length+1,i,s,o,c,l;for(r=Ns(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,c=t<<1&32767,l=o|c,t=l^s;return t^52811}var x8=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],c=104,l=s.length-1;l>=0;--l)for(var u=s[l],f=0;f!=7;++f)u&64&&(o^=r[c]),u*=2,--c;return o};return function(s){for(var o=p8(s),c=i(o),l=o.length,u=Ns(16),f=0;f!=16;++f)u[f]=0;var d,h,v;for((l&1)===1&&(d=c>>8,u[l]=a(e[0],d),--l,d=c&255,h=o[o.length-1],u[l]=a(h,d));l>0;)--l,d=c>>8,u[l]=a(o[l],d),--l,d=c&255,u[l]=a(o[l],d);for(l=15,v=15-o.length;v>0;)d=c>>8,u[l]=a(e[v],d),--l,--v,d=c&255,u[l]=a(o[l],d),--l,--v;return u}}(),yW=function(e,t,r,n,a){a||(a=t),n||(n=x8(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},wW=function(e){var t=0,r=x8(e);return function(n){var a=yW("",n,t,r);return t=a[1],a[0]}};function _W(e,t,r,n){var a={key:Yt(e),verificationBytes:Yt(e)};return r.password&&(a.verifier=mW(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=wW(r.password)),a}function EW(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=xW(e):n.Data=gW(e,t),n}function CW(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?EW(e,t-2,n):_W(e,r.biff>=8?t:t-2,r,n),n}var SW=function(){function e(a,i){switch(i.type){case"base64":return t($n(a),i);case"binary":return t(a,i);case"buffer":return t(Ye&&Buffer.isBuffer(a)?a.toString("binary"):Uo(a),i);case"array":return t(Io(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var l={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var d=/\\\w+\b/g,h=0,v,p=-1;v=d.exec(u);){switch(v[0]){case"\\cell":var x=u.slice(h,d.lastIndex-v[0].length);if(x[0]==" "&&(x=x.slice(1)),++p,x.length){var y={v:x,t:"s"};Array.isArray(o)?o[f][p]=y:o[Be({r:f,c:p})]=y}break}h=d.lastIndex}p>l.e.c&&(l.e.c=p)}),o["!ref"]=Qe(l),o}function r(a,i){return Us(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=$t(a["!ref"]),o,c=Array.isArray(a),l=s.s.r;l<=s.e.r;++l){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=Be({r:l,c:u});o=c?(a[l]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Pi(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function AW(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Ju(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function bW(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,c=0,l=a+i;switch(c=s/(l>1?2-l:l),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,c,l/2]}function TW(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=a*o,s[0]+=a,s[1]+=c;break;case 1:c=a*(2-o),s[0]+=c,s[1]+=a;break;case 2:c=a*(o-2),s[1]+=a,s[2]+=c;break;case 3:c=a*(4-o),s[1]+=c,s[2]+=a;break;case 4:c=a*(o-4),s[2]+=a,s[0]+=c;break;case 5:c=a*(6-o),s[2]+=c,s[0]+=a;break}for(var l=0;l!=3;++l)s[l]=Math.round(s[l]*255);return s}function Vd(e,t){if(t===0)return e;var r=bW(AW(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Ju(TW(r))}var m8=6,kW=15,IW=1,cn=m8;function zd(e){return Math.floor((e+Math.round(128/cn)/256)*cn)}function Wd(e){return Math.floor((e-5)/cn*100+.5)/100}function yg(e){return Math.round((e*cn+5)/cn*256)/256}function pp(e){return yg(Wd(zd(e)))}function Bm(e){var t=Math.abs(e-pp(e)),r=cn;if(t>.005)for(cn=IW;cn<kW;++cn)Math.abs(e-pp(e))<=t&&(t=Math.abs(e-pp(e)),r=cn);cn=r}function al(e){e.width?(e.wpx=zd(e.width),e.wch=Wd(e.wpx),e.MDW=cn):e.wpx?(e.wch=Wd(e.wpx),e.width=yg(e.wch),e.MDW=cn):typeof e.wch=="number"&&(e.width=yg(e.wch),e.wpx=zd(e.width),e.MDW=cn),e.customWidth&&delete e.customWidth}var NW=96,y8=NW;function w8(e){return e*96/y8}function ef(e){return e*y8/96}var OW={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function RW(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Qr)||[]).forEach(function(s){var o=Me(s);switch(oi(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=It(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=It(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function PW(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Qr)||[]).forEach(function(s){var o=Me(s);switch(oi(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function DW(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Qr)||[]).forEach(function(s){var o=Me(s);switch(oi(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=wt(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?It(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?It(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?It(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?It(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?It(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?It(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?It(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=wm[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=It(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var c=xo[a.color.index];a.color.index==81&&(c=xo[1]),c||(c=xo[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Vd(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function FW(e,t,r){t.NumberFmt=[];for(var n=ii(He),a=0;a<n.length;++a)t.NumberFmt[n[a]]=He[n[a]];var i=e[0].match(Qr);if(i)for(a=0;a<i.length;++a){var s=Me(i[a]);switch(oi(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=tt(wt(s.formatCode)),c=parseInt(s.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}go(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var N0=["numFmtId","fillId","fontId","borderId","xfId"],O0=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function MW(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Qr)||[]).forEach(function(i){var s=Me(i),o=0;switch(oi(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<N0.length;++o)n[N0[o]]&&(n[N0[o]]=parseInt(n[N0[o]],10));for(o=0;o<O0.length;++o)n[O0[o]]&&(n[O0[o]]=It(n[O0[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=It(s.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var LW=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,l){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&FW(f,u,l),(f=o.match(a))&&DW(f,u,c,l),(f=o.match(n))&&PW(f,u,c,l),(f=o.match(i))&&RW(f,u,c,l),(f=o.match(r))&&MW(f,u,l),u}}();function BW(e,t){var r=e.read_shift(2),n=Kr(e);return[r,n]}function jW(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=YH(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=KH(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Kr(e),n}var UW=qr;function $W(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var HW=qr;function VW(e,t,r){var n={};n.NumberFmt=[];for(var a in He)n.NumberFmt[a]=He[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Li(e,function(c,l,u){switch(u){case 44:n.NumberFmt[c[0]]=c[1],go(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Vd(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(l.T>0)i.push(u);else if(l.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var zW=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function WW(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Qr)||[]).forEach(function(a){var i=Me(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[zW.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function GW(){}function XW(){}var KW=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,YW=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,qW=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ZW(e,t,r){t.themeElements={};var n;[["clrScheme",KW,WW],["fontScheme",YW,GW],["fmtScheme",qW,XW]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var QW=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function _8(e,t){(!e||e.length===0)&&(e=JW());var r,n={};if(!(r=e.match(QW)))throw new Error("themeElements not found in theme");return ZW(r[0],n,t),n.raw=e,n}function JW(e,t){var r=[RT];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function eG(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=OT(i,{type:"array"})}catch{return}var o=Fn(s,"theme/theme/theme1.xml",!0);if(o)return _8(o,r)}}function tG(e){return e.read_shift(4)}function rG(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=nG(e,4);break;case 2:t.xclrValue=o8(e);break;case 3:t.xclrValue=tG(e);break;case 4:e.l+=4;break}return e.l+=8,t}function nG(e,t){return qr(e,t)}function aG(e,t){return qr(e,t)}function iG(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=rG(e);break;case 6:n[1]=aG(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function sG(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(iG(e,r-e.l));return{ixfe:n,ext:i}}function oG(e,t){t.forEach(function(r){switch(r[0]){}})}function cG(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Kr(e)}}function lG(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function uG(e){return e.l+=4,e.read_shift(4)!=0}function fG(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Li(e,function(c,l,u){switch(u){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!l.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function dG(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Qr,function(o){var c=Me(o);switch(oi(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var l=0;l<n.Types.length;++l)n.Types[l].name==c.name&&(s=n.Types[l]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function hG(e){var t=[];if(!e)return t;var r=1;return(e.match(Qr)||[]).forEach(function(n){var a=Me(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function pG(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Be(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function vG(e,t,r){var n=[];return Li(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function gG(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Li(e,function(o,c,l){switch(l){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}},a)}function xG(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function G_(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=un(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var c=$t(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var l=Qe(c);l!==e["!ref"]&&(e["!ref"]=l)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function mG(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=Me(o[0]),l={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=un(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!f&&!!f[1]&&Lm(f[1])||{r:"",t:"",h:""};l.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),l.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(l.h=d.h),n.push(l)}}}}),n}function yG(e,t){var r=[],n=!1,a={},i=0;return e.replace(Qr,function(o,c){var l=Me(o);switch(oi(l[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return o}),r}function wG(e,t){var r=[],n=!1;return e.replace(Qr,function(i){var s=Me(i);switch(oi(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function _G(e){var t={};t.iauthor=e.read_shift(4);var r=Ho(e);return t.rfx=r.s,t.ref=Be(r.s),e.l+=16,t}var EG=Kr;function CG(e,t){var r=[],n=[],a={},i=!1;return Li(e,function(o,c,l){switch(l){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}),r}var SG="application/vnd.ms-office.vbaProject";function AG(e){var t=Ze.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ze.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Ze.write(t)}function bG(){return{"!type":"dialog"}}function TG(){return{"!type":"dialog"}}function kG(){return{"!type":"macro"}}function IG(){return{"!type":"macro"}}var Pc=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var l=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,c?l+=t.r:--l,a+(o?"":"$")+ur(u)+(c?"":"$")+Dr(l)}return function(a,i){return t=i,a.replace(e,r)}}(),E8=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,NG=function(){return function(t,r){return t.replace(E8,function(n,a,i,s,o,c){var l=Om(s)-(i?0:r.c),u=Nm(c)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",d=l==0?"":i?l+1:"["+l+"]";return a+"R"+f+"C"+d})}}();function C8(e,t){return e.replace(E8,function(r,n,a,i,s,o){return n+(a=="$"?a+i:ur(Om(i)+t.c))+(s=="$"?s+o:Dr(Nm(o)+t.r))})}function OG(e,t,r){var n=xl(t),a=n.s,i=un(r),s={r:i.r-a.r,c:i.c-a.c};return C8(e,s)}function RG(e){return e.length!=1}function X_(e){return e.replace(/_xlfn\./g,"")}function Xt(e){e.l+=1}function Os(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function S8(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return A8(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Os(e),o=Os(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function A8(e){var t=Os(e),r=Os(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function PG(e,t,r){if(r.biff<8)return A8(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Os(e),s=Os(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function b8(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return DG(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Os(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function DG(e){var t=Os(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function FG(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function MG(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return LG(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function LG(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function BG(e,t,r){var n=(e[e.l++]&96)>>5,a=S8(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function jG(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=S8(e,i,r);return[n,a,s]}function UG(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function $G(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function HG(e,t,r){var n=(e[e.l++]&96)>>5,a=PG(e,t-1,r);return[n,a]}function VG(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function K_(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function zG(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function WG(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function GG(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function XG(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function KG(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function T8(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function YG(e){return e.read_shift(2),T8(e)}function qG(e){return e.read_shift(2),T8(e)}function ZG(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=b8(e,0,r);return[n,a]}function QG(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=MG(e,0,r);return[n,a]}function JG(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=b8(e,0,r);return[n,a,i]}function eX(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[tK[a],N8[a],n]}function tX(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:rX(e);return[a,(i[0]===0?N8:eK)[i[1]]]}function rX(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function nX(e,t,r){e.l+=r&&r.biff==2?3:4}function aX(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function iX(e){return e.l++,Vo[e.read_shift(1)]}function sX(e){return e.l++,e.read_shift(2)}function oX(e){return e.l++,e.read_shift(1)!==0}function cX(e){return e.l++,Gr(e)}function lX(e,t,r){return e.l++,Ff(e,t-1,r)}function uX(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ht(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Vo[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Gr(e);break;case 2:r[1]=zo(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function fX(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Ho:qh)(e));return a}function dX(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=uX(e,r.biff);return s}function hX(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function pX(e,t,r){if(r.biff==5)return vX(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function vX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function gX(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function xX(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function mX(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function yX(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var wX=qr,_X=qr,EX=qr;function Lf(e,t,r){return e.l+=2,[FG(e)]}function jm(e){return e.l+=6,[]}var CX=Lf,SX=jm,AX=jm,bX=Lf;function k8(e){return e.l+=2,[Yt(e),e.read_shift(2)&1]}var TX=Lf,kX=k8,IX=jm,NX=Lf,OX=Lf,RX=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function PX(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=RX[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function DX(e){return e.l+=2,[e.read_shift(4)]}function FX(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function MX(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function LX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function BX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function jX(e){return e.l+=4,[0,0]}var Y_={1:{n:"PtgExp",f:aX},2:{n:"PtgTbl",f:EX},3:{n:"PtgAdd",f:Xt},4:{n:"PtgSub",f:Xt},5:{n:"PtgMul",f:Xt},6:{n:"PtgDiv",f:Xt},7:{n:"PtgPower",f:Xt},8:{n:"PtgConcat",f:Xt},9:{n:"PtgLt",f:Xt},10:{n:"PtgLe",f:Xt},11:{n:"PtgEq",f:Xt},12:{n:"PtgGe",f:Xt},13:{n:"PtgGt",f:Xt},14:{n:"PtgNe",f:Xt},15:{n:"PtgIsect",f:Xt},16:{n:"PtgUnion",f:Xt},17:{n:"PtgRange",f:Xt},18:{n:"PtgUplus",f:Xt},19:{n:"PtgUminus",f:Xt},20:{n:"PtgPercent",f:Xt},21:{n:"PtgParen",f:Xt},22:{n:"PtgMissArg",f:Xt},23:{n:"PtgStr",f:lX},26:{n:"PtgSheet",f:FX},27:{n:"PtgEndSheet",f:MX},28:{n:"PtgErr",f:iX},29:{n:"PtgBool",f:oX},30:{n:"PtgInt",f:sX},31:{n:"PtgNum",f:cX},32:{n:"PtgArray",f:VG},33:{n:"PtgFunc",f:eX},34:{n:"PtgFuncVar",f:tX},35:{n:"PtgName",f:hX},36:{n:"PtgRef",f:ZG},37:{n:"PtgArea",f:BG},38:{n:"PtgMemArea",f:gX},39:{n:"PtgMemErr",f:wX},40:{n:"PtgMemNoMem",f:_X},41:{n:"PtgMemFunc",f:xX},42:{n:"PtgRefErr",f:mX},43:{n:"PtgAreaErr",f:UG},44:{n:"PtgRefN",f:QG},45:{n:"PtgAreaN",f:HG},46:{n:"PtgMemAreaN",f:LX},47:{n:"PtgMemNoMemN",f:BX},57:{n:"PtgNameX",f:pX},58:{n:"PtgRef3d",f:JG},59:{n:"PtgArea3d",f:jG},60:{n:"PtgRefErr3d",f:yX},61:{n:"PtgAreaErr3d",f:$G},255:{}},UX={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},$X={1:{n:"PtgElfLel",f:k8},2:{n:"PtgElfRw",f:NX},3:{n:"PtgElfCol",f:CX},6:{n:"PtgElfRwV",f:OX},7:{n:"PtgElfColV",f:bX},10:{n:"PtgElfRadical",f:TX},11:{n:"PtgElfRadicalS",f:IX},13:{n:"PtgElfColS",f:SX},15:{n:"PtgElfColSV",f:AX},16:{n:"PtgElfRadicalLel",f:kX},25:{n:"PtgList",f:PX},29:{n:"PtgSxName",f:DX},255:{}},HX={0:{n:"PtgAttrNoop",f:jX},1:{n:"PtgAttrSemi",f:KG},2:{n:"PtgAttrIf",f:GG},4:{n:"PtgAttrChoose",f:zG},8:{n:"PtgAttrGoto",f:WG},16:{n:"PtgAttrSum",f:nX},32:{n:"PtgAttrBaxcel",f:K_},33:{n:"PtgAttrBaxcel",f:K_},64:{n:"PtgAttrSpace",f:YG},65:{n:"PtgAttrSpaceSemi",f:qG},128:{n:"PtgAttrIfError",f:XG},255:{}};function Bf(e,t,r,n){if(n.biff<8)return qr(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=dX(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=fX(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(qr(e,t)),i}function jf(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=Y_[i]||Y_[UX[i]],(i===24||i===25)&&(a=(i===24?$X:HX)[e[e.l+1]]),!a||!a.f?qr(e,t):s.push([a.n,a.f(e,t,r)]);return s}function VX(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var zX={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function WX(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function I8(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function q_(e,t,r){var n=I8(e,t,r);return n=="#REF"?n:WX(n,r)}function zr(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],c,l,u,f=0,d=0,h,v="";if(!e[0]||!e[0][0])return"";for(var p=-1,x="",y=0,w=e[0].length;y<w;++y){var m=e[0][y];switch(m[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),l=o.pop(),p>=0){switch(e[0][p][1][0]){case 0:x=jt(" ",e[0][p][1][1]);break;case 1:x=jt("\r",e[0][p][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}l=l+x,p=-1}o.push(l+zX[m[0]]+c);break;case"PtgIsect":c=o.pop(),l=o.pop(),o.push(l+" "+c);break;case"PtgUnion":c=o.pop(),l=o.pop(),o.push(l+","+c);break;case"PtgRange":c=o.pop(),l=o.pop(),o.push(l+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=vu(m[1][1],s,a),o.push(gu(u,i));break;case"PtgRefN":u=r?vu(m[1][1],r,a):m[1][1],o.push(gu(u,i));break;case"PtgRef3d":f=m[1][1],u=vu(m[1][2],s,a),v=q_(n,f,a),o.push(v+"!"+gu(u,i));break;case"PtgFunc":case"PtgFuncVar":var _=m[1][0],S=m[1][1];_||(_=0),_&=127;var A=_==0?[]:o.slice(-_);o.length-=_,S==="User"&&(S=A.shift()),o.push(S+"("+A.join(",")+")");break;case"PtgBool":o.push(m[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(m[1]);break;case"PtgNum":o.push(String(m[1]));break;case"PtgStr":o.push('"'+m[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(m[1]);break;case"PtgAreaN":h=N_(m[1][1],r?{s:r}:s,a),o.push(dp(h,a));break;case"PtgArea":h=N_(m[1][1],s,a),o.push(dp(h,a));break;case"PtgArea3d":f=m[1][1],h=m[1][2],v=q_(n,f,a),o.push(v+"!"+dp(h,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=m[1][2];var C=(n.names||[])[d-1]||(n[0]||[])[d],b=C?C.Name:"SH33TJSNAME"+String(d);b&&b.slice(0,6)=="_xlfn."&&!a.xlfn&&(b=b.slice(6)),o.push(b);break;case"PtgNameX":var T=m[1][1];d=m[1][2];var O;if(a.biff<=5)T<0&&(T=-T),n[T]&&(O=n[T][d]);else{var U="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][d]&&n[T][d].itab>0&&(U=n.SheetNames[n[T][d].itab-1]+"!"):U=n.SheetNames[d-1]+"!"),n[T]&&n[T][d])U+=n[T][d].Name;else if(n[0]&&n[0][d])U+=n[0][d].Name;else{var R=(I8(n,T,a)||"").split(";;");R[d-1]?U=R[d-1]:U+="SH33TJSERRX"}o.push(U);break}O||(O={Name:"SH33TJSERRY"}),o.push(O.Name);break;case"PtgParen":var H="(",K=")";if(p>=0){switch(x="",e[0][p][1][0]){case 2:H=jt(" ",e[0][p][1][1])+H;break;case 3:H=jt("\r",e[0][p][1][1])+H;break;case 4:K=jt(" ",e[0][p][1][1])+K;break;case 5:K=jt("\r",e[0][p][1][1])+K;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}o.push(H+o.pop()+K);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:m[1][1],r:m[1][0]};var Q={c:r.c,r:r.r};if(n.sharedf[Be(u)]){var J=n.sharedf[Be(u)];o.push(zr(J,s,Q,n,a))}else{var se=!1;for(c=0;c!=n.arrayf.length;++c)if(l=n.arrayf[c],!(u.c<l[0].s.c||u.c>l[0].e.c)&&!(u.r<l[0].s.r||u.r>l[0].e.r)){o.push(zr(l[1],s,Q,n,a)),se=!0;break}se||o.push(m[1])}break;case"PtgArray":o.push("{"+VX(m[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+m[1].idx+"[#"+m[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(m));default:throw new Error("Unrecognized Formula Token: "+String(m))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&Y.indexOf(e[0][y][0])==-1){m=e[0][p];var L=!0;switch(m[1][0]){case 4:L=!1;case 0:x=jt(" ",m[1][1]);break;case 5:L=!1;case 1:x=jt("\r",m[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+m[1][0])}o.push((L?x:"")+o.pop()+(L?"":x)),p=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function GX(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],qr(e,t-2)];var o=jf(e,s,r);return t!==s+a&&(i=Bf(e,t-s-a,o,r)),e.l=n,[o,i]}function XX(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],qr(e,t-2)];var o=jf(e,s,r);return t!==s+a&&(i=Bf(e,t-s-a,o,r)),e.l=n,[o,i]}function KX(e,t,r,n){var a=e.l+t,i=jf(e,n,r),s;return a!==e.l&&(s=Bf(e,a-e.l,i,r)),[i,s]}function YX(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=jf(e,i,r);return i==65535?[[],qr(e,t-2)]:(t!==i+2&&(a=Bf(e,n-i-2,s,r)),[s,a])}function qX(e){var t;if(Ci(e,e.l+6)!==65535)return[Gr(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function vp(e,t,r){var n=e.l+t,a=ci(e);r.biff==2&&++e.l;var i=qX(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=XX(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function Zh(e,t,r){var n=e.read_shift(4),a=jf(e,n,r),i=e.read_shift(4),s=i>0?Bf(e,i,a,r):null;return[a,s]}var ZX=Zh,Qh=Zh,QX=Zh,JX=Zh,eK={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},N8={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},tK={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Z_(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function gp(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var wu={},Dc={};function _u(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function O8(e,t,r,n,a,i){try{n.cellNF&&(e.z=He[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Er(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(He[t]==null&&go(rH[t]||"General",t),e.t==="e")e.w=e.w||Vo[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Yu(e.v);else if(e.t==="d"){var s=hn(e.v);(s|0)===s?e.w=s.toString(10):e.w=Yu(s)}else{if(e.v===void 0)return"";e.w=ko(e.v,Dc)}else e.t==="d"?e.w=sa(t,hn(e.v),Dc):e.w=sa(t,e.v,Dc)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Vd(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Vd(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function rK(e,t){var r=$t(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Qe(r))}var nK=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,aK=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,iK=/<(?:\w:)?hyperlink [^>]*>/mg,sK=/"(\w*:\w*)"/,oK=/<(?:\w:)?col\b[^>]*[\/]?>/g,cK=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,lK=/<(?:\w:)?pageMargins[^>]*\/>/g,R8=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,uK=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,fK=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function dK(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},l="",u="",f=e.match(aK);f?(l=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):l=u=e;var d=l.match(R8);d?Um(d[0],o,a,r):(d=l.match(uK))&&hK(d[0],d[1]||"",o,a,r);var h=(l.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var v=l.slice(h,h+50).match(sK);v&&rK(o,v[1])}var p=l.match(fK);p&&p[1]&&yK(p[1],a);var x=[];if(t.cellStyles){var y=l.match(oK);y&&gK(x,y)}f&&wK(f[1],o,t,c,i,s);var w=u.match(cK);w&&(o["!autofilter"]=xK(w[0]));var m=[],_=u.match(nK);if(_)for(h=0;h!=_.length;++h)m[h]=$t(_[h].slice(_[h].indexOf('"')+1));var S=u.match(iK);S&&pK(o,S,n);var A=u.match(lK);if(A&&(o["!margins"]=vK(Me(A[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Qe(c)),t.sheetRows>0&&o["!ref"]){var C=$t(o["!ref"]);t.sheetRows<=+C.e.r&&(C.e.r=t.sheetRows-1,C.e.r>c.e.r&&(C.e.r=c.e.r),C.e.r<C.s.r&&(C.s.r=C.e.r),C.e.c>c.e.c&&(C.e.c=c.e.c),C.e.c<C.s.c&&(C.s.c=C.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Qe(C))}return x.length>0&&(o["!cols"]=x),m.length>0&&(o["!merges"]=m),o}function Um(e,t,r,n){var a=Me(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=tt(wt(a.codeName)))}function hK(e,t,r,n,a){Um(e.slice(0,e.indexOf(">")),r,n,a)}function pK(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Me(wt(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+tt(i.location))):(i.Target="#"+tt(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=$t(i.ref),c=o.s.r;c<=o.e.r;++c)for(var l=o.s.c;l<=o.e.c;++l){var u=Be({c:l,r:c});n?(e[c]||(e[c]=[]),e[c][l]||(e[c][l]={t:"z",v:void 0}),e[c][l].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function vK(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function gK(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Me(t[n],!0);a.hidden&&(a.hidden=It(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,Bm(a.width)),al(a);i<=s;)e[i++]=Pr(a)}}function xK(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var mK=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function yK(e,t){t.Views||(t.Views=[{}]),(e.match(mK)||[]).forEach(function(r,n){var a=Me(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),It(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var wK=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=qu("v"),s=qu("f");return function(c,l,u,f,d,h){for(var v=0,p="",x=[],y=[],w=0,m=0,_=0,S="",A,C,b=0,T=0,O,U,R=0,H=0,K=Array.isArray(h.CellXf),Q,J=[],se=[],Y=Array.isArray(l),L=[],le={},de=!1,N=!!u.sheetStubs,G=c.split(t),V=0,z=G.length;V!=z;++V){p=G[V].trim();var W=p.length;if(W!==0){var X=0;e:for(v=0;v<W;++v)switch(p[v]){case">":if(p[v-1]!="/"){++v;break e}if(u&&u.cellStyles){if(C=Me(p.slice(X,v),!0),b=C.r!=null?parseInt(C.r,10):b+1,T=-1,u.sheetRows&&u.sheetRows<b)continue;le={},de=!1,C.ht&&(de=!0,le.hpt=parseFloat(C.ht),le.hpx=ef(le.hpt)),C.hidden=="1"&&(de=!0,le.hidden=!0),C.outlineLevel!=null&&(de=!0,le.level=+C.outlineLevel),de&&(L[b-1]=le)}break;case"<":X=v;break}if(X>=v)break;if(C=Me(p.slice(X,v),!0),b=C.r!=null?parseInt(C.r,10):b+1,T=-1,!(u.sheetRows&&u.sheetRows<b)){f.s.r>b-1&&(f.s.r=b-1),f.e.r<b-1&&(f.e.r=b-1),u&&u.cellStyles&&(le={},de=!1,C.ht&&(de=!0,le.hpt=parseFloat(C.ht),le.hpx=ef(le.hpt)),C.hidden=="1"&&(de=!0,le.hidden=!0),C.outlineLevel!=null&&(de=!0,le.level=+C.outlineLevel),de&&(L[b-1]=le)),x=p.slice(v).split(e);for(var ie=0;ie!=x.length&&x[ie].trim().charAt(0)=="<";++ie);for(x=x.slice(ie),v=0;v!=x.length;++v)if(p=x[v].trim(),p.length!==0){if(y=p.match(r),w=v,m=0,_=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,y!=null&&y.length===2){for(w=0,S=y[1],m=0;m!=S.length&&!((_=S.charCodeAt(m)-64)<1||_>26);++m)w=26*w+_;--w,T=w}else++T;for(m=0;m!=p.length&&p.charCodeAt(m)!==62;++m);if(++m,C=Me(p.slice(0,m),!0),C.r||(C.r=Be({r:b-1,c:T})),S=p.slice(m),A={t:""},(y=S.match(i))!=null&&y[1]!==""&&(A.v=tt(y[1])),u.cellFormula){if((y=S.match(s))!=null&&y[1]!==""){if(A.f=tt(wt(y[1])).replace(/\r\n/g,`
`),u.xlfn||(A.f=X_(A.f)),y[0].indexOf('t="array"')>-1)A.F=(S.match(a)||[])[1],A.F.indexOf(":")>-1&&J.push([$t(A.F),A.F]);else if(y[0].indexOf('t="shared"')>-1){U=Me(y[0]);var ne=tt(wt(y[1]));u.xlfn||(ne=X_(ne)),se[parseInt(U.si,10)]=[U,ne,C.r]}}else(y=S.match(/<f[^>]*\/>/))&&(U=Me(y[0]),se[U.si]&&(A.f=OG(se[U.si][1],se[U.si][2],C.r)));var q=un(C.r);for(m=0;m<J.length;++m)q.r>=J[m][0].s.r&&q.r<=J[m][0].e.r&&q.c>=J[m][0].s.c&&q.c<=J[m][0].e.c&&(A.F=J[m][1])}if(C.t==null&&A.v===void 0)if(A.f||A.F)A.v=0,A.t="n";else if(N)A.t="z";else continue;else A.t=C.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),A.t){case"n":if(A.v==""||A.v==null){if(!N)continue;A.t="z"}else A.v=parseFloat(A.v);break;case"s":if(typeof A.v>"u"){if(!N)continue;A.t="z"}else O=wu[parseInt(A.v,10)],A.v=O.t,A.r=O.r,u.cellHTML&&(A.h=O.h);break;case"str":A.t="s",A.v=A.v!=null?wt(A.v):"",u.cellHTML&&(A.h=Tm(A.v));break;case"inlineStr":y=S.match(n),A.t="s",y!=null&&(O=Lm(y[1]))?(A.v=O.t,u.cellHTML&&(A.h=O.h)):A.v="";break;case"b":A.v=It(A.v);break;case"d":u.cellDates?A.v=Er(A.v,1):(A.v=hn(Er(A.v,1)),A.t="n");break;case"e":(!u||u.cellText!==!1)&&(A.w=A.v),A.v=JT[A.v];break}if(R=H=0,Q=null,K&&C.s!==void 0&&(Q=h.CellXf[C.s],Q!=null&&(Q.numFmtId!=null&&(R=Q.numFmtId),u.cellStyles&&Q.fillId!=null&&(H=Q.fillId))),O8(A,R,H,u,d,h),u.cellDates&&K&&A.t=="n"&&gl(He[R])&&(A.t="d",A.v=Yh(A.v)),C.cm&&u.xlmeta){var ge=(u.xlmeta.Cell||[])[+C.cm-1];ge&&ge.type=="XLDAPR"&&(A.D=!0)}if(Y){var P=un(C.r);l[P.r]||(l[P.r]=[]),l[P.r][P.c]=A}else l[C.r]=A}}}}L.length>0&&(l["!rows"]=L)}}();function _K(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var EK=Ho;function CK(){}function SK(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=GH(e),r}function AK(e){var t=oa(e);return[t]}function bK(e){var t=$o(e);return[t]}function TK(e){var t=oa(e),r=e.read_shift(1);return[t,r,"b"]}function kK(e){var t=$o(e),r=e.read_shift(1);return[t,r,"b"]}function IK(e){var t=oa(e),r=e.read_shift(1);return[t,r,"e"]}function NK(e){var t=$o(e),r=e.read_shift(1);return[t,r,"e"]}function OK(e){var t=oa(e),r=e.read_shift(4);return[t,r,"s"]}function RK(e){var t=$o(e),r=e.read_shift(4);return[t,r,"s"]}function PK(e){var t=oa(e),r=Gr(e);return[t,r,"n"]}function P8(e){var t=$o(e),r=Gr(e);return[t,r,"n"]}function DK(e){var t=oa(e),r=Dm(e);return[t,r,"n"]}function FK(e){var t=$o(e),r=Dm(e);return[t,r,"n"]}function MK(e){var t=oa(e),r=Rm(e);return[t,r,"is"]}function LK(e){var t=oa(e),r=Kr(e);return[t,r,"str"]}function BK(e){var t=$o(e),r=Kr(e);return[t,r,"str"]}function jK(e,t,r){var n=e.l+t,a=oa(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=Qh(e,n-e.l,r);s[3]=zr(o,null,a,r.supbooks,r)}else e.l=n;return s}function UK(e,t,r){var n=e.l+t,a=oa(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=Qh(e,n-e.l,r);s[3]=zr(o,null,a,r.supbooks,r)}else e.l=n;return s}function $K(e,t,r){var n=e.l+t,a=oa(e);a.r=r["!row"];var i=Gr(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=Qh(e,n-e.l,r);s[3]=zr(o,null,a,r.supbooks,r)}else e.l=n;return s}function HK(e,t,r){var n=e.l+t,a=oa(e);a.r=r["!row"];var i=Kr(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=Qh(e,n-e.l,r);s[3]=zr(o,null,a,r.supbooks,r)}else e.l=n;return s}var VK=Ho;function zK(e,t){var r=e.l+t,n=Ho(e),a=Pm(e),i=Kr(e),s=Kr(e),o=Kr(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:o};return s&&(c.Tooltip=s),c}function WK(){}function GK(e,t,r){var n=e.l+t,a=qT(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=ZX(e,n-e.l,r);s[1]=o}else e.l=n;return s}function XK(e,t,r){var n=e.l+t,a=Ho(e),i=[a];if(r.cellFormula){var s=JX(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var KK=["left","right","top","bottom","header","footer"];function YK(e){var t={};return KK.forEach(function(r){t[r]=Gr(e)}),t}function qK(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function ZK(){}function QK(){}function JK(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},l,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,d=!1,h,v,p,x,y,w,m,_,S,A=[];o.biff=12,o["!row"]=0;var C=0,b=!1,T=[],O={},U=o.supbooks||a.supbooks||[[]];if(U.sharedf=O,U.arrayf=T,U.SheetNames=a.SheetNames||a.Sheets.map(function(Y){return Y.name}),!o.supbooks&&(o.supbooks=U,a.Names))for(var R=0;R<a.Names.length;++R)U[0][R+1]=a.Names[R];var H=[],K=[],Q=!1;Gd[16]={n:"BrtShortReal",f:P8};var J;if(Li(e,function(L,le,de){if(!d)switch(de){case 148:l=L;break;case 0:h=L,o.sheetRows&&o.sheetRows<=h.r&&(d=!0),_=Dr(x=h.r),o["!row"]=h.r,(L.hidden||L.hpt||L.level!=null)&&(L.hpt&&(L.hpx=ef(L.hpt)),K[L.r]=L);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:L[2]},L[2]){case"n":v.v=L[1];break;case"s":m=wu[L[1]],v.v=m.t,v.r=m.r;break;case"b":v.v=!!L[1];break;case"e":v.v=L[1],o.cellText!==!1&&(v.w=Vo[v.v]);break;case"str":v.t="s",v.v=L[1];break;case"is":v.t="s",v.v=L[1].t;break}if((p=s.CellXf[L[0].iStyleRef])&&O8(v,p.numFmtId,null,o,i,s),y=L[0].c==-1?y+1:L[0].c,o.dense?(c[x]||(c[x]=[]),c[x][y]=v):c[ur(y)+_]=v,o.cellFormula){for(b=!1,C=0;C<T.length;++C){var N=T[C];h.r>=N[0].s.r&&h.r<=N[0].e.r&&y>=N[0].s.c&&y<=N[0].e.c&&(v.F=Qe(N[0]),b=!0)}!b&&L.length>3&&(v.f=L[3])}if(u.s.r>h.r&&(u.s.r=h.r),u.s.c>y&&(u.s.c=y),u.e.r<h.r&&(u.e.r=h.r),u.e.c<y&&(u.e.c=y),o.cellDates&&p&&v.t=="n"&&gl(He[p.numFmtId])){var G=ao(v.v);G&&(v.t="d",v.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}J&&(J.type=="XLDAPR"&&(v.D=!0),J=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},y=L[0].c==-1?y+1:L[0].c,o.dense?(c[x]||(c[x]=[]),c[x][y]=v):c[ur(y)+_]=v,u.s.r>h.r&&(u.s.r=h.r),u.s.c>y&&(u.s.c=y),u.e.r<h.r&&(u.e.r=h.r),u.e.c<y&&(u.e.c=y),J&&(J.type=="XLDAPR"&&(v.D=!0),J=void 0);break;case 176:A.push(L);break;case 49:J=((o.xlmeta||{}).Cell||[])[L-1];break;case 494:var V=n["!id"][L.relId];for(V?(L.Target=V.Target,L.loc&&(L.Target+="#"+L.loc),L.Rel=V):L.relId==""&&(L.Target="#"+L.loc),x=L.rfx.s.r;x<=L.rfx.e.r;++x)for(y=L.rfx.s.c;y<=L.rfx.e.c;++y)o.dense?(c[x]||(c[x]=[]),c[x][y]||(c[x][y]={t:"z",v:void 0}),c[x][y].l=L):(w=Be({c:y,r:x}),c[w]||(c[w]={t:"z",v:void 0}),c[w].l=L);break;case 426:if(!o.cellFormula)break;T.push(L),S=o.dense?c[x][y]:c[ur(y)+_],S.f=zr(L[1],u,{r:h.r,c:y},U,o),S.F=Qe(L[0]);break;case 427:if(!o.cellFormula)break;O[Be(L[0].s)]=L[1],S=o.dense?c[x][y]:c[ur(y)+_],S.f=zr(L[1],u,{r:h.r,c:y},U,o);break;case 60:if(!o.cellStyles)break;for(;L.e>=L.s;)H[L.e--]={width:L.w/256,hidden:!!(L.flags&1),level:L.level},Q||(Q=!0,Bm(L.w/256)),al(H[L.e+1]);break;case 161:c["!autofilter"]={ref:Qe(L)};break;case 476:c["!margins"]=L;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),L.name&&(a.Sheets[r].CodeName=L.name),(L.above||L.left)&&(c["!outline"]={above:L.above,left:L.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),L.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!le.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+de.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(u.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(c["!ref"]=Qe(l||u)),o.sheetRows&&c["!ref"]){var se=$t(c["!ref"]);o.sheetRows<=+se.e.r&&(se.e.r=o.sheetRows-1,se.e.r>u.e.r&&(se.e.r=u.e.r),se.e.r<se.s.r&&(se.s.r=se.e.r),se.e.c>u.e.c&&(se.e.c=u.e.c),se.e.c<se.s.c&&(se.s.c=se.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Qe(se))}return A.length>0&&(c["!merges"]=A),H.length>0&&(c["!cols"]=H),K.length>0&&(c["!rows"]=K),c}function eY(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=tt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function tY(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,c=0,l="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var d=eY(f);u.s.r=u.s.c=0,u.e.c=o,l=ur(o),d[0].forEach(function(h,v){s[l+Dr(v)]={t:"n",v:h,z:d[1]},c=v}),u.e.r<c&&(u.e.r=c),++o}),o>0&&(s["!ref"]=Qe(u)),s}function rY(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(R8);return o&&Um(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function nY(e,t){e.l+=10;var r=Kr(e);return{name:r}}function aY(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Li(e,function(c,l,u){switch(u){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(l.T>0)){if(!(l.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var D8=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],iY=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],sY=[],oY=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Q_(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=It(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function J_(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=It(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function F8(e){J_(e.WBProps,D8),J_(e.CalcPr,oY),Q_(e.WBView,iY),Q_(e.Sheets,sY),Dc.date1904=It(e.WBProps.date1904)}var cY="][*?/\\".split("");function lY(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return cY.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var uY=/<\w+:workbook/;function fY(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Qr,function(c,l){var u=Me(c);switch(oi(u[0])){case"<?xml":break;case"<workbook":c.match(uY)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":D8.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=It(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=wt(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=tt(wt(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=wt(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),It(u.hidden||"0")&&(i.Hidden=!0),s=l+c.length;break;case"</definedName>":i.Ref=tt(wt(e.slice(s,l))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),IH.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return F8(r),r}function dY(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=gg(e),r.name=Kr(e),r}function hY(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Kr(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function pY(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function vY(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=XH(e),s=QX(e,0,r),o=Pm(e);e.l=n;var c={Name:i,Ptg:s};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function gY(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],Gd[16]={n:"BrtFRTArchID$",f:pY},Li(e,function(c,l,u){switch(u){case 156:s.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=zr(c.Ptg,null,null,s,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,c]):s[0]=[u,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!l.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),F8(r),r.Names=i,r.supbooks=s,r}function xY(e,t,r){return t.slice(-4)===".bin"?gY(e,r):fY(e,r)}function mY(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?JK(e,n,r,a,i,s,o):dK(e,n,r,a,i,s,o)}function yY(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?aY(e,n,r,a,i):rY(e,n,r,a,i)}function wY(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?kG():IG()}function _Y(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?bG():TG()}function EY(e,t,r,n){return t.slice(-4)===".bin"?VW(e,r,n):LW(e,r,n)}function CY(e,t,r){return _8(e,r)}function SY(e,t,r){return t.slice(-4)===".bin"?iW(e,r):nW(e,r)}function AY(e,t,r){return t.slice(-4)===".bin"?CG(e,r):mG(e,r)}function bY(e,t,r){return t.slice(-4)===".bin"?vG(e):hG(e)}function TY(e,t,r,n){return r.slice(-4)===".bin"?gG(e,t,r,n):void 0}function kY(e,t,r){return t.slice(-4)===".bin"?fG(e,t,r):dG(e,t,r)}var M8=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,L8=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function fa(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(M8),i,s,o,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(L8),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function IY(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(M8),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(L8),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Eu;function NY(e,t){var r=Eu[e]||tt(e);return r==="General"?ko(t):sa(r,t)}function OY(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=It(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Er(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[tt(t)]=a}function RY(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Vo[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Yu(e.v):e.w=ko(e.v):e.w=NY(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Eu[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&gl(n)){var a=ao(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function PY(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=OW[n.Pattern]||n.Pattern)}e[t.ID]=t}function DY(e,t,r,n,a,i,s,o,c,l){var u="General",f=n.StyleID,d={};l=l||{};var h=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&h.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=It(e);break;case"String":n.t="s",n.r=__(tt(e)),n.v=e.indexOf("<")>-1?tt(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Er(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=tt(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=JT[e],l.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=__(t||e));break}if(RY(n,u,l),l.cellFormula!==!1)if(n.Formula){var p=tt(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=Pc(p,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Pc("RC:RC",a):n.ArrayRange&&(n.F=Pc(n.ArrayRange,a),c.push([$t(n.F),n.F]))}else for(v=0;v<c.length;++v)a.r>=c[v][0].s.r&&a.r<=c[v][0].e.r&&a.c>=c[v][0].s.c&&a.c<=c[v][0].e.c&&(n.F=c[v][1]);l.cellStyles&&(h.forEach(function(x){!d.patternType&&x.patternType&&(d.patternType=x.patternType)}),n.s=d),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function FY(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function xp(e,t){var r=t||{};AT();var n=ql(km(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=wt(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Pr(r);return s.type="string",Qu.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(rt){a.indexOf("<"+rt)>=0&&(i=!0)}),i)return zY(n,r);Eu={"General Number":"General","General Date":He[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":He[15],"Short Date":He[14],"Long Time":He[19],"Medium Time":He[18],"Short Time":He[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:He[2],Standard:He[4],Percent:He[10],Scientific:He[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],l,u={},f=[],d=r.dense?[]:{},h="",v={},p={},x=fa('<Data ss:Type="String">'),y=0,w=0,m=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},A={},C="",b=0,T=[],O={},U={},R=0,H=[],K=[],Q={},J=[],se,Y=!1,L=[],le=[],de={},N=0,G=0,V={Sheets:[],WBProps:{date1904:!1}},z={};Zu.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var W="";o=Zu.exec(n);)switch(o[3]=(W=o[3]).toLowerCase()){case"data":if(W=="data"){if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?DY(n.slice(y,o.index),C,x,c[c.length-1][0]=="comment"?Q:v,{c:w,r:m},S,J[w],p,L,r):(C="",x=fa(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(K.length>0&&(v.c=K),(!r.sheetRows||r.sheetRows>m)&&v.v!==void 0&&(r.dense?(d[m]||(d[m]=[]),d[m][w]=v):d[ur(w)+Dr(m)]=v),v.HRef&&(v.l={Target:tt(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(N=w+(parseInt(v.MergeAcross,10)|0),G=m+(parseInt(v.MergeDown,10)|0),T.push({s:{c:w,r:m},e:{c:N,r:G}})),!r.sheetStubs)v.MergeAcross?w=N+1:++w;else if(v.MergeAcross||v.MergeDown){for(var X=w;X<=N;++X)for(var ie=m;ie<=G;++ie)(X>w||ie>m)&&(r.dense?(d[ie]||(d[ie]=[]),d[ie][X]={t:"z"}):d[ur(X)+Dr(ie)]={t:"z"});w=N+1}else++w;else v=IY(o[0]),v.Index&&(w=+v.Index-1),w<_.s.c&&(_.s.c=w),w>_.e.c&&(_.e.c=w),o[0].slice(-2)==="/>"&&++w,K=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(m<_.s.r&&(_.s.r=m),m>_.e.r&&(_.e.r=m),o[0].slice(-2)==="/>"&&(p=fa(o[0]),p.Index&&(m=+p.Index-1)),w=0,++m):(p=fa(o[0]),p.Index&&(m=+p.Index-1),de={},(p.AutoFitHeight=="0"||p.Height)&&(de.hpx=parseInt(p.Height,10),de.hpt=w8(de.hpx),le[m]=de),p.Hidden=="1"&&(de.hidden=!0,le[m]=de));break;case"worksheet":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"));f.push(h),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(d["!ref"]=Qe(_),r.sheetRows&&r.sheetRows<=_.e.r&&(d["!fullref"]=d["!ref"],_.e.r=r.sheetRows-1,d["!ref"]=Qe(_))),T.length&&(d["!merges"]=T),J.length>0&&(d["!cols"]=J),le.length>0&&(d["!rows"]=le),u[h]=d}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=w=0,c.push([o[3],!1]),l=fa(o[0]),h=tt(l.Name),d=r.dense?[]:{},T=[],L=[],le=[],z={name:h,Hidden:0},V.Sheets.push(z);break;case"table":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),J=[],Y=!1}break;case"style":o[1]==="/"?PY(S,A,r):A=fa(o[0]);break;case"numberformat":A.nf=tt(fa(o[0]).Format||"General"),Eu[A.nf]&&(A.nf=Eu[A.nf]);for(var ne=0;ne!=392&&He[ne]!=A.nf;++ne);if(ne==392){for(ne=57;ne!=392;++ne)if(He[ne]==null){go(A.nf,ne);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(se=fa(o[0]),se.Hidden&&(se.hidden=!0,delete se.Hidden),se.Width&&(se.wpx=parseInt(se.Width,10)),!Y&&se.wpx>10){Y=!0,cn=m8;for(var q=0;q<J.length;++q)J[q]&&al(J[q])}Y&&al(se),J[se.Index-1||J.length]=se;for(var ge=0;ge<+se.Span;++ge)J[J.length]=Pr(se);break;case"namedrange":if(o[1]==="/")break;V.Names||(V.Names=[]);var P=Me(o[0]),De={Name:P.Name,Ref:Pc(P.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(De.Sheet=V.Sheets.length-1),V.Names.push(De);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?C+=n.slice(b,o.index):b=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;A.Interior=fa(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?mV(O,W,n.slice(R,o.index)):R=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"));FY(Q),K.push(Q)}else c.push([o[3],!1]),l=fa(o[0]),Q={a:l.Author};break;case"autofilter":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var oe=fa(o[0]);d["!autofilter"]={ref:Pc(oe.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return iE(n,r);var Ee=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ee=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ee=!1}break;case"excelworkbook":switch(o[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ee=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ee=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(R,o.index)){case"SheetHidden":z.Hidden=1;break;case"SheetVeryHidden":z.Hidden=2;break}else R=o.index+o[0].length;break;case"header":d["!margins"]||_u(d["!margins"]={},"xlml"),isNaN(+Me(o[0]).Margin)||(d["!margins"].header=+Me(o[0]).Margin);break;case"footer":d["!margins"]||_u(d["!margins"]={},"xlml"),isNaN(+Me(o[0]).Margin)||(d["!margins"].footer=+Me(o[0]).Margin);break;case"pagemargins":var Te=Me(o[0]);d["!margins"]||_u(d["!margins"]={},"xlml"),isNaN(+Te.Top)||(d["!margins"].top=+Te.Top),isNaN(+Te.Left)||(d["!margins"].left=+Te.Left),isNaN(+Te.Right)||(d["!margins"].right=+Te.Right),isNaN(+Te.Bottom)||(d["!margins"].bottom=+Te.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ee=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ee=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ee=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ee=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ee=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ee=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ee=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ee=!1}break;case"smarttags":break;default:Ee=!1;break}if(Ee||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?OY(U,W,H,n.slice(R,o.index)):(H=o,R=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var ve={};return!r.bookSheets&&!r.bookProps&&(ve.Sheets=u),ve.SheetNames=f,ve.Workbook=V,ve.SSF=Pr(He),ve.Props=O,ve.Custprops=U,ve}function wg(e,t){switch(Vm(t=t||{}),t.type||"base64"){case"base64":return xp($n(e),t);case"binary":case"buffer":case"file":return xp(e,t);case"array":return xp(Uo(e),t)}}function MY(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=qH(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=ZH(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var LY=[60,1084,2066,2165,2175];function BY(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var c=Ci(r,r.l),l=_g[c],u=0;l!=null&&LY.indexOf(c)>-1;)i=Ci(r,r.l+2),u=r.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,l=_g[c=Ci(r,r.l)];var f=rs(s);Ir(f,0);var d=0;f.lens=[];for(var h=0;h<s.length;++h)f.lens.push(d),d+=s[h].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function $a(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=He[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Vo[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Yu(e.v):e.w=ko(e.v):e.w=sa(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&gl(He[n]||String(n))){var a=ao(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function R0(e,t,r){return{v:e,ixfe:t,t:r}}function jY(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,c=[],l="",u={},f,d="",h,v,p,x,y={},w=[],m,_,S=[],A=[],C={Sheets:[],WBProps:{date1904:!1},Views:[{}]},b={},T=function(Fe){return Fe<8?xo[Fe]:Fe<64&&A[Fe-8]||xo[Fe]},O=function(Fe,_t,Gt){var Et=_t.XF.data;if(!(!Et||!Et.patternType||!Gt||!Gt.cellStyles)){_t.s={},_t.s.patternType=Et.patternType;var Ar;(Ar=Ju(T(Et.icvFore)))&&(_t.s.fgColor={rgb:Ar}),(Ar=Ju(T(Et.icvBack)))&&(_t.s.bgColor={rgb:Ar})}},U=function(Fe,_t,Gt){if(!(de>1)&&!(Gt.sheetRows&&Fe.r>=Gt.sheetRows)){if(Gt.cellStyles&&_t.XF&&_t.XF.data&&O(Fe,_t,Gt),delete _t.ixfe,delete _t.XF,f=Fe,d=Be(Fe),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Fe.r<s.s.r&&(s.s.r=Fe.r),Fe.c<s.s.c&&(s.s.c=Fe.c),Fe.r+1>s.e.r&&(s.e.r=Fe.r+1),Fe.c+1>s.e.c&&(s.e.c=Fe.c+1),Gt.cellFormula&&_t.f){for(var Et=0;Et<w.length;++Et)if(!(w[Et][0].s.c>Fe.c||w[Et][0].s.r>Fe.r)&&!(w[Et][0].e.c<Fe.c||w[Et][0].e.r<Fe.r)){_t.F=Qe(w[Et][0]),(w[Et][0].s.c!=Fe.c||w[Et][0].s.r!=Fe.r)&&delete _t.f,_t.f&&(_t.f=""+zr(w[Et][1],s,Fe,L,R));break}}Gt.dense?(a[Fe.r]||(a[Fe.r]=[]),a[Fe.r][Fe.c]=_t):a[d]=_t}},R={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(R.password=t.password);var H,K=[],Q=[],J=[],se=[],Y=!1,L=[];L.SheetNames=R.snames,L.sharedf=R.sharedf,L.arrayf=R.arrayf,L.names=[],L.XTI=[];var le=0,de=0,N=0,G=[],V=[],z;R.codepage=1200,ba(1200);for(var W=!1;e.l<e.length-1;){var X=e.l,ie=e.read_shift(2);if(ie===0&&le===10)break;var ne=e.l===e.length?0:e.read_shift(2),q=_g[ie];if(q&&q.f){if(t.bookSheets&&le===133&&ie!==133)break;if(le=ie,q.r===2||q.r==12){var ge=e.read_shift(2);if(ne-=2,!R.enc&&ge!==ie&&((ge&255)<<8|ge>>8)!==ie)throw new Error("rt mismatch: "+ge+"!="+ie);q.r==12&&(e.l+=10,ne-=10)}var P={};if(ie===10?P=q.f(e,ne,R):P=BY(ie,q,e,ne,R),de==0&&[9,521,1033,2057].indexOf(le)===-1)continue;switch(ie){case 34:r.opts.Date1904=C.WBProps.date1904=P;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(R.enc||(e.l=0),R.enc=P,!t.password)throw new Error("File is password-protected");if(P.valid==null)throw new Error("Encryption scheme unsupported");if(!P.valid)throw new Error("Password is incorrect");break;case 92:R.lastuser=P;break;case 66:var De=Number(P);switch(De){case 21010:De=1200;break;case 32768:De=1e4;break;case 32769:De=1252;break}ba(R.codepage=De),W=!0;break;case 317:R.rrtabid=P;break;case 25:R.winlocked=P;break;case 439:r.opts.RefreshAll=P;break;case 12:r.opts.CalcCount=P;break;case 16:r.opts.CalcDelta=P;break;case 17:r.opts.CalcIter=P;break;case 13:r.opts.CalcMode=P;break;case 14:r.opts.CalcPrecision=P;break;case 95:r.opts.CalcSaveRecalc=P;break;case 15:R.CalcRefMode=P;break;case 2211:r.opts.FullCalc=P;break;case 129:P.fDialog&&(a["!type"]="dialog"),P.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),P.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(P);break;case 430:L.push([P]),L[L.length-1].XTI=[];break;case 35:case 547:L[L.length-1].push(P);break;case 24:case 536:z={Name:P.Name,Ref:zr(P.rgce,s,null,L,R)},P.itab>0&&(z.Sheet=P.itab-1),L.names.push(z),L[0]||(L[0]=[],L[0].XTI=[]),L[L.length-1].push(P),P.Name=="_xlnm._FilterDatabase"&&P.itab>0&&P.rgce&&P.rgce[0]&&P.rgce[0][0]&&P.rgce[0][0][0]=="PtgArea3d"&&(V[P.itab-1]={ref:Qe(P.rgce[0][0][1][2])});break;case 22:R.ExternCount=P;break;case 23:L.length==0&&(L[0]=[],L[0].XTI=[]),L[L.length-1].XTI=L[L.length-1].XTI.concat(P),L.XTI=L.XTI.concat(P);break;case 2196:if(R.biff<8)break;z!=null&&(z.Comment=P[1]);break;case 18:a["!protect"]=P;break;case 19:P!==0&&R.WTF&&console.error("Password verifier: "+P);break;case 133:i[P.pos]=P,R.snames.push(P.name);break;case 10:{if(--de)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=Qe(s),t.sheetRows&&t.sheetRows<=s.e.r){var oe=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Qe(s),s.e.r=oe}s.e.r++,s.e.c++}K.length>0&&(a["!merges"]=K),Q.length>0&&(a["!objects"]=Q),J.length>0&&(a["!cols"]=J),se.length>0&&(a["!rows"]=se),C.Sheets.push(b)}l===""?u=a:n[l]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(R.biff===8&&(R.biff={9:2,521:3,1033:4}[ie]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[P.BIFFVer]||8),R.biffguess=P.BIFFVer==0,P.BIFFVer==0&&P.dt==4096&&(R.biff=5,W=!0,ba(R.codepage=28591)),R.biff==8&&P.BIFFVer==0&&P.dt==16&&(R.biff=2),de++)break;if(a=t.dense?[]:{},R.biff<8&&!W&&(W=!0,ba(R.codepage=t.codepage||1252)),R.biff<5||P.BIFFVer==0&&P.dt==4096){l===""&&(l="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Ee={pos:e.l-ne,name:l};i[Ee.pos]=Ee,R.snames.push(l)}else l=(i[X]||{name:""}).name;P.dt==32&&(a["!type"]="chart"),P.dt==64&&(a["!type"]="macro"),K=[],Q=[],R.arrayf=w=[],J=[],se=[],Y=!1,b={Hidden:(i[X]||{hs:0}).hs,name:l}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[P.r]||[])[P.c]:a[Be({c:P.c,r:P.r})])&&++P.c,m={ixfe:P.ixfe,XF:S[P.ixfe]||{},v:P.val,t:"n"},N>0&&(m.z=G[m.ixfe>>8&63]),$a(m,t,r.opts.Date1904),U({c:P.c,r:P.r},m,t);break;case 5:case 517:m={ixfe:P.ixfe,XF:S[P.ixfe],v:P.val,t:P.t},N>0&&(m.z=G[m.ixfe>>8&63]),$a(m,t,r.opts.Date1904),U({c:P.c,r:P.r},m,t);break;case 638:m={ixfe:P.ixfe,XF:S[P.ixfe],v:P.rknum,t:"n"},N>0&&(m.z=G[m.ixfe>>8&63]),$a(m,t,r.opts.Date1904),U({c:P.c,r:P.r},m,t);break;case 189:for(var Te=P.c;Te<=P.C;++Te){var ve=P.rkrec[Te-P.c][0];m={ixfe:ve,XF:S[ve],v:P.rkrec[Te-P.c][1],t:"n"},N>0&&(m.z=G[m.ixfe>>8&63]),$a(m,t,r.opts.Date1904),U({c:Te,r:P.r},m,t)}break;case 6:case 518:case 1030:{if(P.val=="String"){o=P;break}if(m=R0(P.val,P.cell.ixfe,P.tt),m.XF=S[m.ixfe],t.cellFormula){var rt=P.formula;if(rt&&rt[0]&&rt[0][0]&&rt[0][0][0]=="PtgExp"){var Mt=rt[0][0][1][0],Cr=rt[0][0][1][1],dr=Be({r:Mt,c:Cr});y[dr]?m.f=""+zr(P.formula,s,P.cell,L,R):m.F=((t.dense?(a[Mt]||[])[Cr]:a[dr])||{}).F}else m.f=""+zr(P.formula,s,P.cell,L,R)}N>0&&(m.z=G[m.ixfe>>8&63]),$a(m,t,r.opts.Date1904),U(P.cell,m,t),o=P}break;case 7:case 519:if(o)o.val=P,m=R0(P,o.cell.ixfe,"s"),m.XF=S[m.ixfe],t.cellFormula&&(m.f=""+zr(o.formula,s,o.cell,L,R)),N>0&&(m.z=G[m.ixfe>>8&63]),$a(m,t,r.opts.Date1904),U(o.cell,m,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(P);var La=Be(P[0].s);if(h=t.dense?(a[P[0].s.r]||[])[P[0].s.c]:a[La],t.cellFormula&&h){if(!o||!La||!h)break;h.f=""+zr(P[1],s,P[0],L,R),h.F=Qe(P[0])}}break;case 1212:{if(!t.cellFormula)break;if(d){if(!o)break;y[Be(o.cell)]=P[0],h=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Be(o.cell)],(h||{}).f=""+zr(P[0],s,f,L,R)}}break;case 253:m=R0(c[P.isst].t,P.ixfe,"s"),c[P.isst].h&&(m.h=c[P.isst].h),m.XF=S[m.ixfe],N>0&&(m.z=G[m.ixfe>>8&63]),$a(m,t,r.opts.Date1904),U({c:P.c,r:P.r},m,t);break;case 513:t.sheetStubs&&(m={ixfe:P.ixfe,XF:S[P.ixfe],t:"z"},N>0&&(m.z=G[m.ixfe>>8&63]),$a(m,t,r.opts.Date1904),U({c:P.c,r:P.r},m,t));break;case 190:if(t.sheetStubs)for(var hr=P.c;hr<=P.C;++hr){var Wt=P.ixfe[hr-P.c];m={ixfe:Wt,XF:S[Wt],t:"z"},N>0&&(m.z=G[m.ixfe>>8&63]),$a(m,t,r.opts.Date1904),U({c:hr,r:P.r},m,t)}break;case 214:case 516:case 4:m=R0(P.val,P.ixfe,"s"),m.XF=S[m.ixfe],N>0&&(m.z=G[m.ixfe>>8&63]),$a(m,t,r.opts.Date1904),U({c:P.c,r:P.r},m,t);break;case 0:case 512:de===1&&(s=P);break;case 252:c=P;break;case 1054:if(R.biff==4){G[N++]=P[1];for(var gn=0;gn<N+163&&He[gn]!=P[1];++gn);gn>=163&&go(P[1],N+163)}else go(P[1],P[0]);break;case 30:{G[N++]=P;for(var ht=0;ht<N+163&&He[ht]!=P;++ht);ht>=163&&go(P,N+163)}break;case 229:K=K.concat(P);break;case 93:Q[P.cmo[0]]=R.lastobj=P;break;case 438:R.lastobj.TxO=P;break;case 127:R.lastobj.ImData=P;break;case 440:for(x=P[0].s.r;x<=P[0].e.r;++x)for(p=P[0].s.c;p<=P[0].e.c;++p)h=t.dense?(a[x]||[])[p]:a[Be({c:p,r:x})],h&&(h.l=P[1]);break;case 2048:for(x=P[0].s.r;x<=P[0].e.r;++x)for(p=P[0].s.c;p<=P[0].e.c;++p)h=t.dense?(a[x]||[])[p]:a[Be({c:p,r:x})],h&&h.l&&(h.l.Tooltip=P[1]);break;case 28:{if(R.biff<=5&&R.biff>=2)break;h=t.dense?(a[P[0].r]||[])[P[0].c]:a[Be(P[0])];var Sr=Q[P[2]];h||(t.dense?(a[P[0].r]||(a[P[0].r]=[]),h=a[P[0].r][P[0].c]={t:"z"}):h=a[Be(P[0])]={t:"z"},s.e.r=Math.max(s.e.r,P[0].r),s.s.r=Math.min(s.s.r,P[0].r),s.e.c=Math.max(s.e.c,P[0].c),s.s.c=Math.min(s.s.c,P[0].c)),h.c||(h.c=[]),v={a:P[1],t:Sr.TxO.t},h.c.push(v)}break;case 2173:oG(S[P.ixfe],P.ext);break;case 125:{if(!R.cellStyles)break;for(;P.e>=P.s;)J[P.e--]={width:P.w/256,level:P.level||0,hidden:!!(P.flags&1)},Y||(Y=!0,Bm(P.w/256)),al(J[P.e+1])}break;case 520:{var Qt={};P.level!=null&&(se[P.r]=Qt,Qt.level=P.level),P.hidden&&(se[P.r]=Qt,Qt.hidden=!0),P.hpt&&(se[P.r]=Qt,Qt.hpt=P.hpt,Qt.hpx=ef(P.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||_u(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ie]]=P;break;case 161:a["!margins"]||_u(a["!margins"]={}),a["!margins"].header=P.header,a["!margins"].footer=P.footer;break;case 574:P.RTL&&(C.Views[0].RTL=!0);break;case 146:A=P;break;case 2198:H=P;break;case 140:_=P;break;case 442:l?b.CodeName=P||b.name:C.WBProps.CodeName=P||"ThisWorkbook";break}}else q||console.error("Missing Info for XLS Record 0x"+ie.toString(16)),e.l+=ne}return r.SheetNames=ii(i).sort(function(lt,Fe){return Number(lt)-Number(Fe)}).map(function(lt){return i[lt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&V.forEach(function(lt,Fe){r.Sheets[r.SheetNames[Fe]]["!autofilter"]=lt}),r.Strings=c,r.SSF=Pr(He),R.enc&&(r.Encryption=R.enc),H&&(r.Themes=H),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),L.names.length>0&&(C.Names=L.names),r.Workbook=C,r}var eE={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function UY(e,t,r){var n=Ze.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=L_(n,nV,eE.DSI);for(var i in a)t[i]=a[i]}catch(l){if(r.WTF)throw l}var s=Ze.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=L_(s,aV,eE.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(l){if(r.WTF)throw l}t.HeadingPairs&&t.TitlesOfParts&&(t8(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function B8(e,t){t||(t={}),Vm(t),hT(),t.codepage&&_m(t.codepage);var r,n;if(e.FullPaths){if(Ze.find(e,"/encryption"))throw new Error("File is password-protected");r=Ze.find(e,"!CompObj"),n=Ze.find(e,"/Workbook")||Ze.find(e,"/Book")}else{switch(t.type){case"base64":e=Aa($n(e));break;case"binary":e=Aa(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ir(e,0),n={content:e}}var a,i;if(r&&MY(r),t.bookProps&&!t.bookSheets)a={};else{var s=Ye?"buffer":"array";if(n&&n.content)a=jY(n.content,t);else if((i=Ze.find(e,"PerfectOffice_MAIN"))&&i.content)a=yu.to_workbook(i.content,(t.type=s,t));else if((i=Ze.find(e,"NativeContent_MAIN"))&&i.content)a=yu.to_workbook(i.content,(t.type=s,t));else throw(i=Ze.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Ze.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=AG(e))}var o={};return e.FullPaths&&UY(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var Gd={0:{f:_K},1:{f:AK},2:{f:DK},3:{f:IK},4:{f:TK},5:{f:PK},6:{f:LK},7:{f:OK},8:{f:HK},9:{f:$K},10:{f:jK},11:{f:UK},12:{f:bK},13:{f:FK},14:{f:NK},15:{f:kK},16:{f:P8},17:{f:BK},18:{f:RK},19:{f:Rm},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:vY},40:{},42:{},43:{f:jW},44:{f:BW},45:{f:UW},46:{f:HW},47:{f:$W},48:{},49:{f:VH},50:{},51:{f:lG},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:h8},62:{f:MK},63:{f:pG},64:{f:ZK},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:qr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:qK},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:SK},148:{f:EK,p:16},151:{f:WK},152:{},153:{f:hY},154:{},155:{},156:{f:dY},157:{},158:{},159:{T:1,f:aW},160:{T:-1},161:{T:1,f:Ho},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:VK},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:cG},336:{T:-1},337:{f:uG,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:gg},357:{},358:{},359:{},360:{T:1},361:{},362:{f:d8},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:GK},427:{f:XK},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:YK},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:CK},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:zK},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:gg},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:EG},633:{T:1},634:{T:-1},635:{T:1,f:_G},636:{T:-1},637:{f:WH},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:nY},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:QK},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},_g={6:{f:vp},10:{f:Wi},12:{f:Yt},13:{f:Yt},14:{f:Ht},15:{f:Ht},16:{f:Gr},17:{f:Ht},18:{f:Ht},19:{f:Yt},20:{f:$_},21:{f:$_},23:{f:d8},24:{f:V_},25:{f:Ht},26:{},27:{},28:{f:yz},29:{},34:{f:Ht},35:{f:H_},38:{f:Gr},39:{f:Gr},40:{f:Gr},41:{f:Gr},42:{f:Ht},43:{f:Ht},47:{f:CW},49:{f:ez},51:{f:Yt},60:{},61:{f:ZV},64:{f:Ht},65:{f:JV},66:{f:Yt},77:{},80:{},81:{},82:{},85:{f:Yt},89:{},90:{},91:{},92:{f:VV},93:{f:_z},94:{},95:{f:Ht},96:{},97:{},99:{f:Ht},125:{f:h8},128:{f:uz},129:{f:zV},130:{f:Yt},131:{f:Ht},132:{f:Ht},133:{f:WV},134:{},140:{f:Tz},141:{f:Yt},144:{},146:{f:Iz},151:{},152:{},153:{},154:{},155:{},156:{f:Yt},157:{},158:{},160:{f:Dz},161:{f:Oz},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:sz},190:{f:oz},193:{f:Wi},197:{},198:{},199:{},200:{},201:{},202:{f:Ht},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Yt},220:{},221:{f:Ht},222:{},224:{f:lz},225:{f:HV},226:{f:Wi},227:{},229:{f:wz},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:GV},253:{f:tz},255:{f:XV},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:s8},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ht},353:{f:Wi},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:dz},431:{f:Ht},432:{},433:{},434:{},437:{},438:{f:Sz},439:{f:Ht},440:{f:Az},441:{},442:{f:Mf},443:{},444:{f:Yt},445:{},446:{},448:{f:Wi},449:{f:qV,r:2},450:{f:Wi},512:{f:j_},513:{f:Pz},515:{f:fz},516:{f:rz},517:{f:U_},519:{f:Fz},520:{f:KV},523:{},545:{f:z_},549:{f:B_},566:{},574:{f:QV},638:{f:iz},659:{},1048:{},1054:{f:nz},1084:{},1212:{f:gz},2048:{f:bz},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:I0},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Wi},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Nz,r:12},2173:{f:sG,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ht,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:vz,r:12},2197:{},2198:{f:eG,r:12},2199:{},2200:{},2201:{},2202:{f:xz,r:12},2203:{f:Wi},2204:{},2205:{},2206:{},2207:{},2211:{f:YV},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Yt},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Rz},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:kz},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:j_},1:{},2:{f:jz},3:{f:Bz},4:{f:Lz},5:{f:U_},7:{f:Uz},8:{},9:{f:I0},11:{},22:{f:Yt},30:{f:az},31:{},32:{},33:{f:z_},36:{},37:{f:B_},50:{f:$z},62:{},52:{},67:{},68:{f:Yt},69:{},86:{},126:{},127:{f:Mz},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Hz},223:{},234:{},354:{},421:{},518:{f:vp},521:{f:I0},536:{f:V_},547:{f:H_},561:{},579:{},1030:{f:vp},1033:{f:I0},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function da(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&XT(r)&&e.push(r)}}function tE(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,c=fH(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),l=-1,u=0,f=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(s=0;s<c.length;++s){var p=c[s].trim(),x=p.slice(0,3).toLowerCase();if(x=="<tr"){if(++l,r.sheetRows&&r.sheetRows<=l){--l;break}u=0;continue}if(!(x!="<td"&&x!="<th")){var y=p.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var w=y[o].trim();if(w.match(/<t[dh]/i)){for(var m=w,_=0;m.charAt(0)=="<"&&(_=m.indexOf(">"))>-1;)m=m.slice(_+1);for(var S=0;S<v.length;++S){var A=v[S];A.s.c==u&&A.s.r<l&&l<=A.e.r&&(u=A.e.c+1,S=-1)}var C=Me(w.slice(0,w.indexOf(">")));d=C.colspan?+C.colspan:1,((f=+C.rowspan)>1||d>1)&&v.push({s:{r:l,c:u},e:{r:l+(f||1)-1,c:u+d-1}});var b=C.t||C["data-t"]||"";if(!m.length){u+=d;continue}if(m=DT(m),h.s.r>l&&(h.s.r=l),h.e.r<l&&(h.e.r=l),h.s.c>u&&(h.s.c=u),h.e.c<u&&(h.e.c=u),!m.length){u+=d;continue}var T={t:"s",v:m};r.raw||!m.trim().length||b=="s"||(m==="TRUE"?T={t:"b",v:!0}:m==="FALSE"?T={t:"b",v:!1}:isNaN(Ra(m))?isNaN(nl(m).getDate())||(T={t:"d",v:Er(m)},r.cellDates||(T={t:"n",v:hn(T.v)}),T.z=r.dateNF||He[14]):T={t:"n",v:Ra(m)}),r.dense?(n[l]||(n[l]=[]),n[l][u]=T):n[Be({r:l,c:u})]=T,u+=d}}}}return n["!ref"]=Qe(h),v.length&&(n["!merges"]=v),n}function $Y(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,l=0;l<a.length;++l)if(!(a[l].s.r>r||a[l].s.c>s)&&!(a[l].e.r<r||a[l].e.c<s)){if(a[l].s.r<r||a[l].s.c<s){o=-1;break}o=a[l].e.r-a[l].s.r+1,c=a[l].e.c-a[l].s.c+1;break}if(!(o<0)){var u=Be({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],d=f&&f.v!=null&&(f.h||Tm(f.w||(Pi(f),f.w)||""))||"",h={};o>1&&(h.rowspan=o),c>1&&(h.colspan=c),n.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(n.id||"sjs")+"-"+u,i.push(TH("td",d,h))}}var v="<tr>";return v+i.join("")+"</tr>"}var HY='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',VY="</body></html>";function zY(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Us(tE(r[0],t),t);var n=Wm();return r.forEach(function(a,i){Gm(n,tE(a,t),"Sheet"+(i+1))}),n}function WY(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function GY(e,t){var r=t||{},n=r.header!=null?r.header:HY,a=r.footer!=null?r.footer:VY,i=[n],s=xl(e["!ref"]);r.dense=Array.isArray(e),i.push(WY(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push($Y(e,s,o,r));return i.push("</table>"+a),i.join("")}function j8(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?un(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),l={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=xl(e["!ref"]);l.s.r=Math.min(l.s.r,u.s.r),l.s.c=Math.min(l.s.c,u.s.c),l.e.r=Math.max(l.e.r,u.e.r),l.e.c=Math.max(l.e.c,u.e.c),a==-1&&(l.e.r=a=u.e.r+1)}var f=[],d=0,h=e["!rows"]||(e["!rows"]=[]),v=0,p=0,x=0,y=0,w=0,m=0;for(e["!cols"]||(e["!cols"]=[]);v<o.length&&p<c;++v){var _=o[v];if(rE(_)){if(n.display)continue;h[p]={hidden:!0}}var S=_.children;for(x=y=0;x<S.length;++x){var A=S[x];if(!(n.display&&rE(A))){var C=A.hasAttribute("data-v")?A.getAttribute("data-v"):A.hasAttribute("v")?A.getAttribute("v"):DT(A.innerHTML),b=A.getAttribute("data-z")||A.getAttribute("z");for(d=0;d<f.length;++d){var T=f[d];T.s.c==y+i&&T.s.r<p+a&&p+a<=T.e.r&&(y=T.e.c+1-i,d=-1)}m=+A.getAttribute("colspan")||1,((w=+A.getAttribute("rowspan")||1)>1||m>1)&&f.push({s:{r:p+a,c:y+i},e:{r:p+a+(w||1)-1,c:y+i+(m||1)-1}});var O={t:"s",v:C},U=A.getAttribute("data-t")||A.getAttribute("t")||"";C!=null&&(C.length==0?O.t=U||"z":n.raw||C.trim().length==0||U=="s"||(C==="TRUE"?O={t:"b",v:!0}:C==="FALSE"?O={t:"b",v:!1}:isNaN(Ra(C))?isNaN(nl(C).getDate())||(O={t:"d",v:Er(C)},n.cellDates||(O={t:"n",v:hn(O.v)}),O.z=n.dateNF||He[14]):O={t:"n",v:Ra(C)})),O.z===void 0&&b!=null&&(O.z=b);var R="",H=A.getElementsByTagName("A");if(H&&H.length)for(var K=0;K<H.length&&!(H[K].hasAttribute("href")&&(R=H[K].getAttribute("href"),R.charAt(0)!="#"));++K);R&&R.charAt(0)!="#"&&(O.l={Target:R}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][y+i]=O):e[Be({c:y+i,r:p+a})]=O,l.e.c<y+i&&(l.e.c=y+i),y+=m}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),l.e.r=Math.max(l.e.r,p-1+a),e["!ref"]=Qe(l),p>=c&&(e["!fullref"]=Qe((l.e.r=o.length-v+p-1+a,l))),e}function U8(e,t){var r=t||{},n=r.dense?[]:{};return j8(n,e,t)}function XY(e,t){return Us(U8(e,t),t)}function rE(e){var t="",r=KY(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function KY(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function YY(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=tt(t.replace(/<[^>]*>/g,""));return[r]}var nE={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function $8(e,t){var r=t||{},n=km(e),a=[],i,s,o={name:""},c="",l=0,u,f,d={},h=[],v=r.dense?[]:{},p,x,y={value:""},w="",m=0,_=[],S=-1,A=-1,C={s:{r:1e6,c:1e7},e:{r:0,c:0}},b=0,T={},O=[],U={},R=0,H=0,K=[],Q=1,J=1,se=[],Y={Names:[]},L={},le=["",""],de=[],N={},G="",V=0,z=!1,W=!1,X=0;for(Zu.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=Zu.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(C.e.c>=C.s.c&&C.e.r>=C.s.r?v["!ref"]=Qe(C):v["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=C.e.r&&(v["!fullref"]=v["!ref"],C.e.r=r.sheetRows-1,v["!ref"]=Qe(C)),O.length&&(v["!merges"]=O),K.length&&(v["!rows"]=K),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),h.push(u.name),d[u.name]=v,W=!1):p[0].charAt(p[0].length-2)!=="/"&&(u=Me(p[0],!1),S=A=-1,C.s.r=C.s.c=1e7,C.e.r=C.e.c=0,v=r.dense?[]:{},O=[],K=[],W=!0);break;case"table-row-group":p[1]==="/"?--b:++b;break;case"table-row":case"":if(p[1]==="/"){S+=Q,Q=1;break}if(f=Me(p[0],!1),f.?S=f.-1:S==-1&&(S=0),Q=+f["number-rows-repeated"]||1,Q<10)for(X=0;X<Q;++X)b>0&&(K[S+X]={level:b});A=-1;break;case"covered-table-cell":p[1]!=="/"&&++A,r.sheetStubs&&(r.dense?(v[S]||(v[S]=[]),v[S][A]={t:"z"}):v[Be({r:S,c:A})]={t:"z"}),w="",_=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++A,y=Me(p[0],!1),J=parseInt(y["number-columns-repeated"]||"1",10),x={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(x.f=Z_(tt(y.formula))),(y.||y["value-type"])=="string"&&(x.t="s",x.v=tt(y["string-value"]||""),r.dense?(v[S]||(v[S]=[]),v[S][A]=x):v[Be({r:S,c:A})]=x),A+=J-1;else if(p[1]!=="/"){++A,w="",m=0,_=[],J=1;var ie=Q?S+Q-1:S;if(A>C.e.c&&(C.e.c=A),A<C.s.c&&(C.s.c=A),S<C.s.r&&(C.s.r=S),ie>C.e.r&&(C.e.r=ie),y=Me(p[0],!1),de=[],N={},x={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=tt(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(R=parseInt(y["number-matrix-rows-spanned"],10)||0,H=parseInt(y["number-matrix-columns-spanned"],10)||0,U={s:{r:S,c:A},e:{r:S+R-1,c:A+H-1}},x.F=Qe(U),se.push([U,x.F])),y.formula)x.f=Z_(y.formula);else for(X=0;X<se.length;++X)S>=se[X][0].s.r&&S<=se[X][0].e.r&&A>=se[X][0].s.c&&A<=se[X][0].e.c&&(x.F=se[X][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(R=parseInt(y["number-rows-spanned"],10)||0,H=parseInt(y["number-columns-spanned"],10)||0,U={s:{r:S,c:A},e:{r:S+R-1,c:A+H-1}},O.push(U)),y["number-columns-repeated"]&&(J=parseInt(y["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=It(y["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(y.value);break;case"percentage":x.t="n",x.v=parseFloat(y.value);break;case"currency":x.t="n",x.v=parseFloat(y.value);break;case"date":x.t="d",x.v=Er(y["date-value"]),r.cellDates||(x.t="n",x.v=hn(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=cH(y["time-value"])/86400,r.cellDates&&(x.t="d",x.v=Yh(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(y.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",y["string-value"]!=null&&(w=tt(y["string-value"]),_=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(z=!1,x.t==="s"&&(x.v=w||"",_.length&&(x.R=_),z=m==0),L.Target&&(x.l=L),de.length>0&&(x.c=de,de=[]),w&&r.cellText!==!1&&(x.w=w),z&&(x.t="z",delete x.v),(!z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var ne=0;ne<Q;++ne){if(J=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(v[S+ne]||(v[S+ne]=[]),v[S+ne][A]=ne==0?x:Pr(x);--J>0;)v[S+ne][A+J]=Pr(x);else for(v[Be({r:S+ne,c:A})]=x;--J>0;)v[Be({r:S+ne,c:A+J})]=Pr(x);C.e.c<=A&&(C.e.c=A)}J=parseInt(y["number-columns-repeated"]||"1",10),A+=J-1,J=0,x={},w="",_=[]}L={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((i=a.pop())[0]!==p[3])throw"Bad state: "+i}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((i=a.pop())[0]!==p[3])throw"Bad state: "+i;N.t=w,_.length&&(N.R=_),N.a=G,de.push(N)}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);G="",V=0,w="",m=0,_=[];break;case"creator":p[1]==="/"?G=n.slice(V,p.index):V=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((i=a.pop())[0]!==p[3])throw"Bad state: "+i}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);w="",m=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(T[o.name]=c,(i=a.pop())[0]!==p[3])throw"Bad state: "+i}else p[0].charAt(p[0].length-2)!=="/"&&(c="",o=Me(p[0],!1),a.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Me(p[0],!1),c+=nE[p[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Me(p[0],!1),c+=nE[p[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(l,p.index);break}else l=p.index+p[0].length;break;case"named-range":s=Me(p[0],!1),le=gp(s["cell-range-address"]);var q={Name:s.name,Ref:le[0]+"!"+le[1]};W&&(q.Sheet=h.length),Y.Names.push(q);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(p[1]==="/"&&(!y||!y["string-value"])){var ge=YY(n.slice(m,p.index));w=(w.length>0?w+`
`:"")+ge[0]}else Me(p[0],!1),m=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{le=gp(Me(p[0])["target-range-address"]),d[le[0]]["!autofilter"]={ref:le[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(L=Me(p[0],!1),!L.href)break;L.Target=tt(L.href),delete L.href,L.Target.charAt(0)=="#"&&L.Target.indexOf(".")>-1?(le=gp(L.Target.slice(1)),L.Target="#"+le[0]+"!"+le[1]):L.Target.match(/^\.\.[\\\/]/)&&(L.Target=L.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(p)}}var P={Sheets:d,SheetNames:h,Workbook:Y};return r.bookSheets&&delete P.Sheets,P}function aE(e,t){t=t||{},Xn(e,"META-INF/manifest.xml")&&fV(Kt(e,"META-INF/manifest.xml"),t);var r=Fn(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=$8(wt(r),t);return Xn(e,"meta.xml")&&(n.Props=e8(Kt(e,"meta.xml"))),n}function iE(e,t){return $8(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function $m(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Eg(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):wt(Uo(e))}function Cg(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function sE(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function qY(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function tf(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function fr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Xr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=tf(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=tf(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var l={data:o,type:i};t[a]==null?t[a]=[l]:t[a].push(l)}return t}function Hm(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function ZY(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=tf(e,n),i=Xr(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:fr(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Xr(o.data),l=fr(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+l)}),n[0]+=l}),(t=i[3])!=null&&t[0]&&(s.merge=fr(i[3][0].data)>>>0>0),r.push(s)}return r}function QY(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=tf(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,l=0;if(i==1?(l=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(l=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Cg(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(l>=c)for(a.push(a[0].slice(-c)),l-=c;l>=a[a.length-1].length;)a.push(a[a.length-1]),l-=a[a.length-1].length;a.push(a[0].slice(-c,-c+l))}}var u=Cg(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function JY(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(QY(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Cg(t)}function eq(e,t,r,n){var a=$m(e),i=a.getUint32(4,!0),s=(n>1?12:8)+sE(i&(n>1?3470:398))*4,o=-1,c=-1,l=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=sE(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(s,!0),s+=4),i&32&&(l=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:l>0};break;case 7:f={t:"n",v:l/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(l))f={t:"n",v:l};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function tq(e,t,r){var n=$m(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,c=NaN,l=NaN,u=new Date(2001,0,1);a&1&&(c=qY(e,i),i+=16),a&2&&(l=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:l>0};break;case 7:f={t:"n",v:l/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function rq(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return eq(e,t,r,e[0]);case 5:return tq(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function As(e){var t=Xr(e);return tf(t[1][0].data)}function oE(e,t){var r=Xr(t.data),n=fr(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Xr(s.data),c=fr(o[1][0].data)>>>0;switch(n){case 1:i[c]=Eg(o[3][0].data);break;case 8:{var l=e[As(o[9][0].data)][0],u=Xr(l.data),f=e[As(u[1][0].data)][0],d=fr(f.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=Xr(f.data);i[c]=h[3].map(function(v){return Eg(v.data)}).join("")}break}}),i}function nq(e,t){var r,n,a,i,s,o,c,l,u,f,d,h,v,p,x=Xr(e),y=fr(x[1][0].data)>>>0,w=fr(x[2][0].data)>>>0,m=((n=(r=x[8])==null?void 0:r[0])==null?void 0:n.data)&&fr(x[8][0].data)>0||!1,_,S;if((i=(a=x[7])==null?void 0:a[0])!=null&&i.data&&t!=0)_=(o=(s=x[7])==null?void 0:s[0])==null?void 0:o.data,S=(l=(c=x[6])==null?void 0:c[0])==null?void 0:l.data;else if((f=(u=x[4])==null?void 0:u[0])!=null&&f.data&&t!=1)_=(h=(d=x[4])==null?void 0:d[0])==null?void 0:h.data,S=(p=(v=x[3])==null?void 0:v[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var A=m?4:1,C=$m(_),b=[],T=0;T<_.length/2;++T){var O=C.getUint16(T*2,!0);O<65535&&b.push([T,O])}if(b.length!=w)throw"Expected ".concat(w," cells, found ").concat(b.length);var U=[];for(T=0;T<b.length-1;++T)U[b[T][0]]=S.subarray(b[T][1]*A,b[T+1][1]*A);return b.length>=1&&(U[b[b.length-1][0]]=S.subarray(b[b.length-1][1]*A)),{R:y,cells:U}}function aq(e,t){var r,n=Xr(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?fr(n[7][0].data)>>>0>0?1:0:-1,i=Hm(n[5],function(s){return nq(s,a)});return{nrows:fr(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(c,l){if(s[o.R][l])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(l));s[o.R][l]=c}),s},[])}}function iq(e,t,r){var n,a=Xr(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(fr(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(fr(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Qe(i);var s=Xr(a[4][0].data),o=oE(e,e[As(s[4][0].data)][0]),c=(n=s[17])!=null&&n[0]?oE(e,e[As(s[17][0].data)][0]):[],l=Xr(s[3][0].data),u=0;l[1].forEach(function(f){var d=Xr(f.data),h=e[As(d[2][0].data)][0],v=fr(h.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var p=aq(e,h);p.data.forEach(function(x,y){x.forEach(function(w,m){var _=Be({r:u+y,c:m}),S=rq(w,o,c);S&&(r[_]=S)})}),u+=p.nrows})}function sq(e,t){var r=Xr(t.data),n={"!ref":"A1"},a=e[As(r[2][0].data)],i=fr(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return iq(e,a[0],n),n}function oq(e,t){var r,n=Xr(t.data),a={name:(r=n[1])!=null&&r[0]?Eg(n[1][0].data):"",sheets:[]},i=Hm(n[2],As);return i.forEach(function(s){e[s].forEach(function(o){var c=fr(o.meta[1][0].data);c==6e3&&a.sheets.push(sq(e,o))})}),a}function cq(e,t){var r=Wm(),n=Xr(t.data),a=Hm(n[1],As);if(a.forEach(function(i){e[i].forEach(function(s){var o=fr(s.meta[1][0].data);if(o==2){var c=oq(e,s);c.sheets.forEach(function(l,u){Gm(r,l,u==0?c.name:c.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function mp(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var l;try{l=JY(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var u;try{u=ZY(l)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&fr(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(c){i[c].forEach(function(l){var u=fr(l.meta[1][0].data)>>>0;if(u==1)if(!o)o=l;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return cq(i,o)}function lq(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function Vm(e){lq([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function uq(e){return wc.WS.indexOf(e)>-1?"sheet":e==wc.CS?"chart":e==wc.DS?"dialog":e==wc.MS?"macro":e&&e.length?e:"sheet"}function fq(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,uq(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function dq(e,t,r,n,a,i,s,o,c,l,u,f){try{i[n]=xu(Fn(e,r,!0),t);var d=Kt(e,t),h;switch(o){case"sheet":h=mY(d,t,a,c,i[n],l,u,f);break;case"chart":if(h=yY(d,t,a,c,i[n],l,u,f),!h||!h["!drawel"])break;var v=Ql(h["!drawel"].Target,t),p=xg(v),x=xG(Fn(e,v,!0),xu(Fn(e,p,!0),v)),y=Ql(x,v),w=xg(y);h=tY(Fn(e,y,!0),y,c,xu(Fn(e,w,!0),y),l,h);break;case"macro":h=wY(d,t,a,c,i[n],l,u,f);break;case"dialog":h=_Y(d,t,a,c,i[n],l,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=h;var m=[];i&&i[n]&&ii(i[n]).forEach(function(_){var S="";if(i[n][_].Type==wc.CMNT){S=Ql(i[n][_].Target,t);var A=AY(Kt(e,S,!0),S,c);if(!A||!A.length)return;G_(h,A,!1)}i[n][_].Type==wc.TCMNT&&(S=Ql(i[n][_].Target,t),m=m.concat(yG(Kt(e,S,!0),c)))}),m&&m.length&&G_(h,m,!0,c.people||[])}catch(_){if(c.WTF)throw _}}function zn(e){return e.charAt(0)=="/"?e.slice(1):e}function hq(e,t){if(AT(),t=t||{},Vm(t),Xn(e,"META-INF/manifest.xml")||Xn(e,"objectdata.xml"))return aE(e,t);if(Xn(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof mp<"u"){if(e.FileIndex)return mp(e);var r=Ze.utils.cfb_new();return y_(e).forEach(function(K){pH(r,K,hH(e,K))}),mp(r)}throw new Error("Unsupported NUMBERS file")}if(!Xn(e,"[Content_Types].xml"))throw Xn(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Xn(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=y_(e),a=lV(Fn(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Kt(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Kt(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},l={};if(!t.bookSheets&&!t.bookProps){if(wu=[],a.sst)try{wu=SY(Kt(e,zn(a.sst)),a.sst,t)}catch(K){if(t.WTF)throw K}t.cellStyles&&a.themes.length&&(c=CY(Fn(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(l=EY(Kt(e,zn(a.style)),a.style,c,t))}a.links.map(function(K){try{var Q=xu(Fn(e,xg(zn(K))),K);return TY(Kt(e,zn(K)),Q,K,t)}catch{}});var u=xY(Kt(e,zn(a.workbooks[0])),a.workbooks[0],t),f={},d="";a.coreprops.length&&(d=Kt(e,zn(a.coreprops[0]),!0),d&&(f=e8(d)),a.extprops.length!==0&&(d=Kt(e,zn(a.extprops[0]),!0),d&&pV(d,f,t)));var h={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(d=Fn(e,zn(a.custprops[0]),!0),d&&(h=gV(d,t)));var v={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(Q){return Q.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(v.Props=f,v.Custprops=h),t.bookSheets&&typeof s<"u"&&(v.SheetNames=s),t.bookSheets?v.SheetNames:t.bookProps))return v;s={};var p={};t.bookDeps&&a.calcchain&&(p=bY(Kt(e,zn(a.calcchain)),a.calcchain));var x=0,y={},w,m;{var _=u.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var S=0;S!=_.length;++S)f.SheetNames[S]=_[S].name}var A=i?"bin":"xml",C=a.workbooks[0].lastIndexOf("/"),b=(a.workbooks[0].slice(0,C+1)+"_rels/"+a.workbooks[0].slice(C+1)+".rels").replace(/^\//,"");Xn(e,b)||(b="xl/_rels/workbook."+A+".rels");var T=xu(Fn(e,b,!0),b.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=kY(Kt(e,zn(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=wG(Kt(e,zn(a.people[0])),t)),T&&(T=fq(T,u.Sheets));var O=Kt(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=f.Worksheets;++x){var U="sheet";if(T&&T[x]?(w="xl/"+T[x][1].replace(/[\/]?xl\//,""),Xn(e,w)||(w=T[x][1]),Xn(e,w)||(w=b.replace(/_rels\/.*$/,"")+T[x][1]),U=T[x][2]):(w="xl/worksheets/sheet"+(x+1-O)+"."+A,w=w.replace(/sheet0\./,"sheet.")),m=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(f.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var R=!1,H=0;H!=t.sheets.length;++H)typeof t.sheets[H]=="number"&&t.sheets[H]==x&&(R=1),typeof t.sheets[H]=="string"&&t.sheets[H].toLowerCase()==f.SheetNames[x].toLowerCase()&&(R=1);if(!R)continue e}}dq(e,w,m,f.SheetNames[x],x,y,s,U,t,u,c,l)}return v={Directory:a,Workbook:u,Props:f,Custprops:h,Deps:p,Sheets:s,SheetNames:f.SheetNames,Strings:wu,Styles:l,Themes:c,SSF:Pr(He)},t&&t.bookFiles&&(e.files?(v.keys=n,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(K,Q){K=K.replace(/^Root Entry[\/]/,""),v.keys.push(K),v.files[K]=e.FileIndex[Q]}))),t&&t.bookVBA&&(a.vba.length>0?v.vbaraw=Kt(e,zn(a.vba[0]),!0):a.defaults&&a.defaults.bin===SG&&(v.vbaraw=Kt(e,"xl/vbaProject.bin",!0))),v}function pq(e,t){var r=t||{},n="Workbook",a=Ze.find(e,n);try{if(n="/!DataSpaces/Version",a=Ze.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(sW(a.content),n="/!DataSpaces/DataSpaceMap",a=Ze.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=cW(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Ze.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=lW(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Ze.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);fW(a.content)}catch{}if(n="/EncryptionInfo",a=Ze.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=dW(a.content);if(n="/EncryptedPackage",a=Ze.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function zm(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=$n(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function vq(e,t){return Ze.find(e,"EncryptedPackage")?pq(e,t):B8(e,t)}function gq(e,t){var r,n=e,a=t||{};return a.type||(a.type=Ye&&Buffer.isBuffer(e)?"buffer":"base64"),r=OT(n,a),hq(r,a)}function H8(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return wg(e.slice(r),t);default:break e}return Qu.to_workbook(e,t)}function xq(e,t){var r="",n=zm(e,t);switch(t.type){case"base64":r=$n(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Io(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=wt(r)),t.type="binary",H8(r,t)}function mq(e,t){var r=e;return t.type=="base64"&&(r=$n(r)),r=ts.utils.decode(1200,r.slice(2),"str"),t.type="binary",H8(r,t)}function yq(e){return e.match(/[^\x00-\x7F]/)?Jl(e):e}function yp(e,t,r,n){return n?(r.type="string",Qu.to_workbook(e,r)):Qu.to_workbook(t,r)}function Sg(e,t){hT();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Sg(new Uint8Array(e),(r=Pr(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Dc={},r.dateNF&&(Dc.dateNF=r.dateNF),r.type||(r.type=Ye&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Ye?"buffer":"binary",n=sH(e),typeof Uint8Array<"u"&&!Ye&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=yq(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Pr(r),r.type="array",Sg(Em(n),r)}switch((a=zm(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return vq(Ze.read(n,r),r);break;case 9:if(a[1]<=8)return B8(n,r);break;case 60:return wg(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Xz(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Wz.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?gq(n,r):yp(e,n,r,i);case 239:return a[3]===60?wg(n,r):yp(e,n,r,i);case 255:if(a[1]===254)return mq(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return yu.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return yu.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return W_.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return SW.to_workbook(n,r);break;case 10:case 13:case 32:return xq(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Vz.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?W_.to_workbook(n,r):yp(e,n,r,i)}function wq(e,t,r,n,a,i,s,o){var c=Dr(r),l=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,d=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!s||e[r])for(var h=t.s.c;h<=t.e.c;++h){var v=s?e[r][h]:e[n[h]+c];if(v===void 0||v.t===void 0){if(l===void 0)continue;i[h]!=null&&(d[i[h]]=l);continue}var p=v.v;switch(v.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(i[h]!=null){if(p==null)if(v.t=="e"&&p===null)d[i[h]]=null;else if(l!==void 0)d[i[h]]=l;else if(u&&p===null)d[i[h]]=null;else continue;else d[i[h]]=u&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?p:Pi(v,p,o);p!=null&&(f=!1)}}return{row:d,isempty:f}}function Ag(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},l=t||{},u=l.range!=null?l.range:e["!ref"];switch(l.header===1?n=1:l.header==="A"?n=2:Array.isArray(l.header)?n=3:l.header==null&&(n=0),typeof u){case"string":c=$t(u);break;case"number":c=$t(e["!ref"]),c.s.r=u;break;default:c=u}n>0&&(a=0);var f=Dr(c.s.r),d=[],h=[],v=0,p=0,x=Array.isArray(e),y=c.s.r,w=0,m={};x&&!e[y]&&(e[y]=[]);var _=l.skipHidden&&e["!cols"]||[],S=l.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(_[w]||{}).hidden)switch(d[w]=ur(w),r=x?e[y][w]:e[d[w]+f],n){case 1:i[w]=w-c.s.c;break;case 2:i[w]=d[w];break;case 3:i[w]=l.header[w-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Pi(r,null,l),p=m[s]||0,!p)m[s]=1;else{do o=s+"_"+p++;while(m[o]);m[s]=p,m[o]=1}i[w]=o}for(y=c.s.r+a;y<=c.e.r;++y)if(!(S[y]||{}).hidden){var A=wq(e,c,y,d,n,i,x,l);(A.isempty===!1||(n===1?l.blankrows!==!1:l.blankrows))&&(h[v++]=A.row)}return h.length=v,h}var cE=/"/g;function _q(e,t,r,n,a,i,s,o){for(var c=!0,l=[],u="",f=Dr(r),d=t.s.c;d<=t.e.c;++d)if(n[d]){var h=o.dense?(e[r]||[])[d]:e[n[d]+f];if(h==null)u="";else if(h.v!=null){c=!1,u=""+(o.rawNumbers&&h.t=="n"?h.v:Pi(h,null,o));for(var v=0,p=0;v!==u.length;++v)if((p=u.charCodeAt(v))===a||p===i||p===34||o.forceQuotes){u='"'+u.replace(cE,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(c=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(cE,'""')+'"')):u="";l.push(u)}return o.blankrows===!1&&c?null:l.join(s)}function V8(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=$t(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),l=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var d=n.skipHidden&&e["!cols"]||[],h=n.skipHidden&&e["!rows"]||[],v=a.s.c;v<=a.e.c;++v)(d[v]||{}).hidden||(f[v]=ur(v));for(var p=0,x=a.s.r;x<=a.e.r;++x)(h[x]||{}).hidden||(u=_q(e,a,x,f,s,c,i,n),u!=null&&(n.strip&&(u=u.replace(l,"")),(u||n.blankrows!==!1)&&r.push((p++?o:"")+u)));return delete n.dense,r.join("")}function Eq(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=V8(e,t);return r}function Cq(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=$t(e["!ref"]),i="",s=[],o,c=[],l=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=ur(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=Dr(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=l?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function z8(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?un(n.origin):n.origin;s=c.r,o=c.c}var l,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=$t(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var d=n.header||[],h=0;t.forEach(function(p,x){ii(p).forEach(function(y){(h=d.indexOf(y))==-1&&(d[h=d.length]=y);var w=p[y],m="z",_="",S=Be({c:o+h,r:s+x+a});l=rf(i,S),w&&typeof w=="object"&&!(w instanceof Date)?i[S]=w:(typeof w=="number"?m="n":typeof w=="boolean"?m="b":typeof w=="string"?m="s":w instanceof Date?(m="d",n.cellDates||(m="n",w=hn(w)),_=n.dateNF||He[14]):w===null&&n.nullError&&(m="e",w=0),l?(l.t=m,l.v=w,delete l.w,delete l.R,_&&(l.z=_)):i[S]=l={t:m,v:w},_&&(l.z=_))})}),u.e.c=Math.max(u.e.c,o+d.length-1);var v=Dr(s);if(a)for(h=0;h<d.length;++h)i[ur(h+o)+v]={t:"s",v:d[h]};return i["!ref"]=Qe(u),i}function Sq(e,t){return z8(null,e,t)}function rf(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=un(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?rf(e,Be(t)):rf(e,Be({r:t,c:r||0}))}function Aq(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Wm(){return{SheetNames:[],Sheets:{}}}function Gm(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(lY(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function bq(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Aq(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Tq(e,t){return e.z=t,e}function W8(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function kq(e,t,r){return W8(e,"#"+t,r)}function Iq(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Nq(e,t,r,n){for(var a=typeof t!="string"?t:$t(t),i=typeof t=="string"?t:Qe(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var c=rf(e,s,o);c.t="n",c.F=i,delete c.v,s==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Oq={encode_col:ur,encode_row:Dr,encode_cell:Be,encode_range:Qe,decode_col:Om,decode_row:Nm,split_cell:HH,decode_cell:un,decode_range:xl,format_cell:Pi,sheet_add_aoa:YT,sheet_add_json:z8,sheet_add_dom:j8,aoa_to_sheet:ml,json_to_sheet:Sq,table_to_sheet:U8,table_to_book:XY,sheet_to_csv:V8,sheet_to_txt:Eq,sheet_to_json:Ag,sheet_to_html:GY,sheet_to_formulae:Cq,sheet_to_row_object_array:Ag,sheet_get_cell:rf,book_new:Wm,book_append_sheet:Gm,book_set_sheet_visibility:bq,cell_set_number_format:Tq,cell_set_hyperlink:W8,cell_set_internal_link:kq,cell_add_comment:Iq,sheet_set_array_formula:Nq,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const G8=Nh(e=>({pushToken:null,setPushToken:t=>e({pushToken:t})})),lE=Object.freeze(Object.defineProperty({__proto__:null,useNotificationStore:G8},Symbol.toStringTag,{value:"Module"}));function Rq({open:e,onOpenChange:t}){const{categories:r,fetchCategories:n,updateCategory:a,deleteCategory:i}=Oh(),[s,o]=E.useState(null),[c,l]=E.useState(""),[u,f]=E.useState("");if(E.useEffect(()=>{e&&r.length===0&&n()},[e,r.length,n]),!e)return null;const d=(x,y)=>{o(x),l(y)},h=async x=>{if(!c.trim()){ln.error("      ");return}try{await a(x,c.trim()),ln.success("   "),o(null)}catch{ln.error("   ")}},v=async x=>{if(confirm("              ."))try{await i(x),ln.success("   ")}catch{ln.error("   ")}},p=r.filter(x=>x.name.toLowerCase().includes(u.toLowerCase()));return g.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>t(!1),children:g.jsxs("div",{className:"bg-background rounded-2xl shadow-neu w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh]",onClick:x=>x.stopPropagation(),dir:"rtl",children:[g.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-100 bg-gray-50/50",children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900",children:" "}),g.jsx("button",{onClick:()=>t(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:g.jsx(Co,{size:20})})]}),g.jsx("div",{className:"p-4 border-b border-gray-100",children:g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",placeholder:"  ...",value:u,onChange:x=>f(x.target.value),className:"w-full bg-background border-none shadow-neu-inset rounded-xl py-2.5 px-4 pr-10 outline-none focus:ring-2 focus:ring-primary/20 transition-all text-sm"}),g.jsx(Ix,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})}),g.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:p.length===0?g.jsx("div",{className:"text-center py-12 text-gray-500",children:"    "}):p.map(x=>g.jsx("div",{className:"flex items-center justify-between p-3 rounded-xl border-none shadow-neu hover:shadow-neu-sm bg-background group transition-all",children:s===x.id?g.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[g.jsx("input",{type:"text",value:c,onChange:y=>l(y.target.value),className:"flex-1 border border-blue-200 bg-blue-50/50 rounded-lg px-3 py-1.5 outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 text-sm font-medium text-gray-900",autoFocus:!0,onKeyDown:y=>y.key==="Enter"&&h(x.id)}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("button",{onClick:()=>h(x.id),className:"p-1.5 sm:p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",title:"",children:g.jsx(bx,{size:16})}),g.jsx("button",{onClick:()=>o(null),className:"p-1.5 sm:p-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",title:"",children:g.jsx(Co,{size:16})})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"font-medium text-gray-900 flex-1",children:x.name}),g.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>d(x.id,x.name),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:g.jsx(DN,{size:16})}),g.jsx("button",{onClick:()=>v(x.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:g.jsx(pf,{size:16})})]})]})},x.id))})]})})}function Pq(){const{pushToken:e}=G8();if(!e)return null;const t=()=>{navigator.clipboard.writeText(e),ln.success("   ")};return g.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4 mb-6 flex items-center justify-between gap-4",children:[g.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[g.jsx("div",{className:"bg-blue-100 p-2 rounded-full text-blue-600",children:g.jsx(_N,{size:20})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-bold text-blue-900",children:"  "}),g.jsx("p",{className:"text-xs text-blue-500 truncate",dir:"ltr",children:e})]})]}),g.jsxs(Ne,{variant:"outline",size:"sm",onClick:t,className:"shrink-0 gap-2 bg-background hover:bg-blue-50 text-blue-700 border-none shadow-neu hover:shadow-neu-sm active:shadow-neu-inset",children:[g.jsx(TN,{size:16}),g.jsx("span",{children:" "})]})]})}function Dq(){const{products:e,toggleProductAvailability:t,fetchProductsByCategory:r,addProductsBatch:n,searchProducts:a,deleteProduct:i,batchAssignCategory:s,loading:o,error:c,hasMore:l}=Oh(),[u,f]=E.useState(!1),[d,h]=E.useState(null),[v,p]=E.useState(""),[x,y]=E.useState(0),[w,m]=E.useState(!1),[_,S]=E.useState(null),[A,C]=E.useState(new Set),[b,T]=E.useState(!1),[O,U]=E.useState(""),[R,H]=E.useState([]),[K,Q]=E.useState(!1),[J,se]=E.useState(""),[Y,L]=E.useState([]),[le,de]=E.useState(!1),N=E.useRef(null),G=E.useRef(null);E.useEffect(()=>{const oe=v.trim();if(!oe)return;const Ee=setTimeout(()=>{a(oe,!1)},400);return()=>clearTimeout(Ee)},[v,a]),E.useEffect(()=>{v.trim()===""&&(y(0),r(null,0))},[v,r]),E.useEffect(()=>{y(0),r(null,0)},[r]),E.useEffect(()=>{const oe=new IntersectionObserver(Te=>{if(Te[0].isIntersecting&&l&&!o&&v.trim()===""){const rt=x+1;y(rt),r(null,rt)}},{threshold:.1}),Ee=N.current;return Ee&&oe.observe(Ee),()=>{Ee&&oe.unobserve(Ee)}},[l,o,x,r,v]);const V=oe=>{h(oe),f(!0)},z=()=>{h(null),f(!0)},W=()=>{y(0),r(null,0)},X=oe=>{f(oe),oe||(y(0),r(null,0))},ie=oe=>{t(oe)},ne=E.useCallback(async oe=>{window.confirm(`      "${oe.name}"
     .`)&&await i(oe.id)},[i]),q=E.useCallback(oe=>{C(Ee=>{const Te=new Set(Ee);return Te.has(oe)?Te.delete(oe):Te.add(oe),Te})},[]);E.useEffect(()=>{if(!b)return;const oe=setTimeout(async()=>{let Ee=_e.from("products").select("id, name").is("parent_id",null).order("name",{ascending:!0}).limit(15);O.trim()&&(Ee=Ee.ilike("name",`%${O}%`));const{data:Te}=await Ee;Te&&H(Te.filter(ve=>!A.has(ve.id)))},300);return()=>clearTimeout(oe)},[O,b,A]);const ge=async oe=>{try{const Ee=Array.from(A),{error:Te}=await _e.from("products").update({parent_id:oe}).in("id",Ee);if(Te)throw Te;ln.success(`  ${Ee.length}   !`),C(new Set),T(!1),U(""),y(0),r(null,0)}catch(Ee){console.error("Batch assign error:",Ee),ln.error("    ")}},P=async oe=>{var Te;const Ee=(Te=oe.target.files)==null?void 0:Te[0];if(Ee){m(!0),S(null);try{const ve=new FileReader;ve.onload=async rt=>{var Mt;try{const Cr=(Mt=rt.target)==null?void 0:Mt.result,dr=Sg(Cr,{type:"binary"}),La=dr.SheetNames[0],hr=dr.Sheets[La],Wt=Oq.sheet_to_json(hr);console.log(" Raw Excel Data:",Wt),console.log(" First row keys:",Wt.length>0?Object.keys(Wt[0]):"No data");const gn=lt=>lt.normalize("NFKC").replace(/[\u064B-\u065F]/g,"").replace(/\u0640/g,"").replace(/[]/g,"").replace(//g,"").replace(//g,"").trim(),ht=(lt,Fe)=>{for(const Gt of Fe)if(lt[Gt]!==void 0)return lt[Gt];const _t=Object.keys(lt);for(const Gt of Fe){const Et=gn(Gt);for(const Ar of _t)if(gn(Ar)===Et)return lt[Ar]}},Sr=Wt.map(lt=>{const Fe={name:ht(lt,["","name","Name",""," ","Product Name"])||"",price:parseFloat(ht(lt,["","price","Price",""])||0),category:ht(lt,["","category","Category","",""])||" ",image:ht(lt,["","image","Image",""])||"/placeholder.svg",stock:parseInt(ht(lt,["","stock","Stock","",""])||0,10),barcode:ht(lt,["","barcode","Barcode",""])||void 0};return console.log(" Parsed product:",Fe),Fe}).filter(lt=>lt.name&&lt.price>0);if(console.log(" Valid products to import:",Sr.length,Sr),Sr.length===0){S({success:0,failed:0}),m(!1);return}const Qt=await n(Sr);S(Qt)}catch(Cr){console.error("Error processing file:",Cr),S({success:0,failed:-1})}finally{m(!1)}},ve.readAsBinaryString(Ee)}catch(ve){console.error("Error reading file:",ve),m(!1),S({success:0,failed:-1})}G.current&&(G.current.value="")}};E.useEffect(()=>{if(!J.trim()&&K){L([]);return}const oe=setTimeout(async()=>{let Ee=_e.from("categories").select("id, name").order("name",{ascending:!0}).limit(10);J.trim()&&(Ee=Ee.ilike("name",`%${J}%`));const{data:Te}=await Ee;Te&&L(Te)},300);return()=>clearTimeout(oe)},[J,K]);const De=async oe=>{try{const Ee=Array.from(A);await s(Ee,oe),ln.success(`  ${Ee.length}    "${oe}" !`),C(new Set),Q(!1),se(""),y(0),r(null,0)}catch{ln.error("    ")}};return g.jsxs("div",{className:"space-y-6",children:[g.jsx("input",{type:"file",ref:G,onChange:P,accept:".xlsx,.xls,.csv",className:"hidden"}),g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:[g.jsxs("div",{className:"text-right",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[g.jsx("button",{onClick:()=>window.history.back(),className:"p-2 -mr-2 rounded-full hover:bg-gray-100 transition-colors text-gray-500",title:"",children:g.jsx(Uu,{size:24})}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "})]}),g.jsx("p",{className:"text-gray-500 text-sm mr-10",children:"    "})]}),g.jsx("div",{className:"flex flex-wrap gap-2 w-full md:w-auto",children:g.jsxs("div",{className:"flex flex-row flex-wrap justify-end gap-2 sm:gap-3 w-full",children:[g.jsxs(Ne,{onClick:()=>de(!0),variant:"outline",className:"gap-2 bg-background text-gray-700 shadow-neu hover:shadow-neu-sm border-none active:shadow-neu-inset flex-none h-10 px-3 sm:px-4",children:[g.jsx(D1,{size:20}),g.jsx("span",{className:"hidden sm:inline",children:" "})]}),g.jsxs(Ne,{onClick:()=>{var oe;return(oe=G.current)==null?void 0:oe.click()},variant:"outline",className:"gap-2 bg-background text-gray-700 shadow-neu hover:shadow-neu-sm border-none active:shadow-neu-inset flex-none h-10 px-3 sm:px-4",children:[g.jsx(hC,{size:20}),g.jsx("span",{className:"hidden sm:inline",children:""})]}),g.jsx(Ne,{onClick:W,variant:"outline",className:"px-3 bg-background text-gray-700 shadow-neu hover:shadow-neu-sm border-none active:shadow-neu-inset h-10",children:g.jsx(MN,{size:20,className:"text-gray-600"})}),g.jsxs(Ne,{onClick:z,className:"gap-2 bg-primary hover:bg-primary/90 shadow-neu hover:shadow-neu-sm active:shadow-neu-inset text-primary-foreground border-none flex-none h-10 px-3 sm:px-4",children:[g.jsx(_v,{size:20}),g.jsx("span",{className:"hidden sm:inline",children:" "})]})]})})]}),g.jsx(Pq,{}),g.jsx("div",{className:"mb-8"}),_&&g.jsxs("div",{className:`px-4 py-3 rounded-lg ${_.failed===-1?"bg-destructive/10 border border-destructive/20 text-destructive":_.success>0?"bg-green-500/10 border border-green-500/20 text-green-700":"bg-yellow-500/10 border border-yellow-500/20 text-yellow-700"}`,children:[_.failed===-1?g.jsx("span",{children:"   .      Excel  CSV ."}):g.jsxs("span",{children:[" : ",_.success,"  ",_.failed>0&&` | : ${_.failed} `]}),g.jsx("button",{onClick:()=>S(null),className:"mr-4 underline hover:no-underline",children:""})]}),g.jsxs("div",{className:"relative",children:[g.jsx(Ix,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),g.jsx(zt,{type:"text",placeholder:"     ...",value:v,onChange:oe=>p(oe.target.value),className:"pr-10 text-right"})]}),c&&g.jsx("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg",children:c}),g.jsxs("div",{className:"flex items-center gap-2 text-right",children:[g.jsx(Rr,{size:20}),g.jsxs("h2",{className:"text-lg font-semibold",children:["  (",e.length,")"]})]}),e.length===0&&!o?g.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[g.jsx(Rr,{size:64,className:"mx-auto mb-4 opacity-30"}),g.jsx("p",{className:"text-lg font-medium",children:"  "}),g.jsx("p",{className:"text-sm mt-1",children:"   "})]}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:e.map(oe=>g.jsxs("div",{className:`
                group relative bg-background rounded-2xl overflow-hidden
                shadow-neu hover:shadow-neu-sm
                transition-all duration-300 border-none
                flex flex-col
                ${A.has(oe.id)?"shadow-[0_0_15px_rgba(59,130,246,0.5)]":""}
                ${oe.isAvailable===!1?"opacity-75 grayscale-[0.5]":""}
              `,children:[g.jsx("button",{type:"button",onClick:Ee=>{Ee.stopPropagation(),q(oe.id)},className:`absolute top-3 left-3 z-20 w-6 h-6 rounded-md border-2 flex items-center justify-center transition-all
                  ${A.has(oe.id)?"bg-blue-500 border-blue-500 text-white":"bg-white/80 border-gray-300 text-transparent hover:border-blue-400"}`,children:g.jsx(bx,{size:14})}),g.jsx("div",{className:"relative pt-6 px-4 sm:px-6 pb-2 flex justify-center overflow-hidden",children:g.jsx("div",{className:"mx-auto w-[90%] aspect-square max-w-[200px] rounded-[2rem] flex items-center justify-center text-gray-900 overflow-hidden shadow-neu-inset bg-background relative group p-1 sm:p-2",children:g.jsx("img",{src:oe.image||"/placeholder.svg",alt:oe.name,className:"w-full h-full object-contain mix-blend-multiply transition-transform duration-500 group-hover:scale-[1.15]",loading:"lazy"})})}),g.jsxs("div",{className:"p-5 text-center flex-1 flex flex-col items-center",children:[g.jsxs("div",{className:"flex gap-2 mb-2 items-center flex-wrap justify-center",children:[g.jsx("p",{className:"text-xs font-bold tracking-widest text-gray-400 uppercase",children:oe.category}),oe.parent_id&&g.jsx(ac,{variant:"secondary",className:"text-[10px] bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border-indigo-100 px-1.5 py-0",children:""})]}),g.jsxs("h3",{className:"font-bold text-gray-900 text-sm mb-3 min-h-[2.5rem] line-clamp-2 leading-relaxed",children:[oe.name,oe.parent_id&&g.jsx("span",{className:"block text-xs font-normal text-muted-foreground mt-1",children:"  "})]}),g.jsx("p",{className:"text-xs text-gray-400 line-clamp-2 mb-4 px-2",children:"       ."}),g.jsx("div",{className:"mt-auto items-baseline gap-2 mb-4",children:g.jsx("span",{className:"text-2xl font-bold text-gray-900",children:sr(oe.price)})})]}),g.jsxs("div",{className:"p-4 flex items-center justify-between bg-background gap-2 border-none",children:[g.jsxs("div",{className:"flex items-center gap-1.5 text-gray-300 text-xs font-medium",children:[g.jsx(Rr,{size:14}),g.jsx("span",{children:oe.stock})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>ie(oe.id),className:`
                        text-xs font-bold tracking-wider uppercase transition-colors px-2 py-1
                        ${oe.isAvailable!==!1?"text-green-600 hover:text-green-700":"text-gray-400 hover:text-gray-600"}
                        `,children:oe.isAvailable!==!1?"":" "}),g.jsx("div",{className:"w-px h-4 bg-gray-200 mx-1"}),g.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),V(oe)},className:"w-8 h-8 rounded-full bg-background shadow-neu hover:shadow-neu-sm active:shadow-neu-inset text-gray-600 hover:text-blue-600 flex items-center justify-center transition-all border-none",title:"",children:g.jsx(jN,{size:14})}),g.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),ne(oe)},className:"w-8 h-8 rounded-full bg-background shadow-neu hover:shadow-neu-sm active:shadow-neu-inset text-red-500 hover:text-red-700 flex items-center justify-center transition-all border-none",title:"",children:g.jsx(pf,{size:14})})]})]})]},oe.id))}),g.jsx("div",{ref:N,className:"h-4"}),o&&g.jsx("div",{className:"flex justify-center py-8",children:g.jsx(wv,{className:"animate-spin text-primary",size:32})}),A.size>0&&g.jsxs("div",{className:"fixed bottom-20 left-1/2 -translate-x-1/2 z-[999] bg-gray-900 text-white px-6 py-3 rounded-2xl shadow-2xl flex items-center gap-4 animate-in slide-in-from-bottom-4",children:[g.jsxs("span",{className:"text-sm font-medium",children:[A.size,"  "]}),g.jsxs(Ne,{size:"sm",variant:"secondary",className:"gap-2 rounded-xl bg-gray-700 hover:bg-gray-600 border-none",onClick:()=>Q(!0),children:[g.jsx(D1,{size:16}),"  "]}),g.jsxs(Ne,{size:"sm",variant:"secondary",className:"gap-2 rounded-xl",onClick:()=>T(!0),children:[g.jsx(dy,{size:16})," "]}),g.jsx(Ne,{size:"sm",variant:"ghost",className:"text-white hover:text-red-300 hover:bg-white/10 rounded-xl px-2",onClick:()=>C(new Set),children:g.jsx(Co,{size:16})})]}),b&&g.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>T(!1),children:g.jsxs("div",{className:"bg-background rounded-2xl shadow-neu border-none w-full max-w-md p-6 space-y-4",onClick:oe=>oe.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold text-right",children:"  "}),g.jsxs("p",{className:"text-sm text-gray-500 text-right",children:["  ",A.size,"     "]}),g.jsx(zt,{value:O,onChange:oe=>U(oe.target.value),placeholder:"   ...",className:"text-right",autoFocus:!0}),g.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-1",children:[R.map(oe=>g.jsxs("button",{type:"button",className:"w-full text-right px-4 py-3 rounded-lg hover:bg-blue-50 text-sm transition-colors flex items-center justify-between",onClick:()=>ge(oe.id),children:[g.jsx(dy,{size:14,className:"text-gray-400"}),g.jsx("span",{children:oe.name})]},oe.id)),R.length===0&&g.jsx("div",{className:"text-center text-gray-400 py-4 text-sm",children:"  "})]}),g.jsx("div",{className:"flex justify-end",children:g.jsx(Ne,{variant:"ghost",onClick:()=>T(!1),children:""})})]})}),g.jsx(I$,{open:u,onOpenChange:X,product:d}),K&&g.jsx("div",{className:"fixed inset-0 z-[1000] bg-black/50 flex items-center justify-center p-4",onClick:()=>Q(!1),children:g.jsxs("div",{className:"bg-background rounded-2xl shadow-neu border-none w-full max-w-md p-6 space-y-4",onClick:oe=>oe.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold text-right",children:"   "}),g.jsxs("p",{className:"text-sm text-gray-500 text-right",children:["  ",A.size,"       ."]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(zt,{value:J,onChange:oe=>se(oe.target.value),placeholder:"     ...",className:"text-right",autoFocus:!0,onKeyDown:oe=>{oe.key==="Enter"&&J.trim()&&De(J.trim())}}),J.trim()&&!Y.some(oe=>oe.name===J.trim())&&g.jsxs("button",{type:"button",className:"w-full text-right px-4 py-3 rounded-lg bg-green-50 text-green-700 text-sm font-medium hover:bg-green-100 transition-colors flex items-center justify-between",onClick:()=>De(J.trim()),children:[g.jsx(_v,{size:14,className:"text-green-500"}),g.jsxs("span",{children:['  : "',J,'"']})]})]}),g.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-1",children:[Y.map(oe=>g.jsxs("button",{type:"button",className:"w-full text-right px-4 py-3 rounded-lg hover:bg-blue-50 text-sm transition-colors flex items-center justify-between group",onClick:()=>De(oe.name),children:[g.jsx(D1,{size:14,className:"text-gray-400 group-hover:text-blue-500"}),g.jsx("span",{children:oe.name})]},oe.id)),Y.length===0&&!J.trim()&&g.jsx("div",{className:"text-center text-gray-400 py-4 text-sm",children:"   "})]}),g.jsx("div",{className:"flex justify-end pt-2 border-t border-gray-100",children:g.jsx(Ne,{variant:"ghost",onClick:()=>Q(!1),children:""})})]})}),g.jsx(Rq,{open:le,onOpenChange:de})]})}const hi=Rf("PushNotifications",{});var uE;(function(e){e[e.Sunday=1]="Sunday",e[e.Monday=2]="Monday",e[e.Tuesday=3]="Tuesday",e[e.Wednesday=4]="Wednesday",e[e.Thursday=5]="Thursday",e[e.Friday=6]="Friday",e[e.Saturday=7]="Saturday"})(uE||(uE={}));const fE=Rf("LocalNotifications",{web:()=>Na(()=>import("./web-BDQmqAmh.js"),[]).then(e=>new e.LocalNotificationsWeb)}),io={init:async()=>{if(!Qn.isNativePlatform()){console.log("Push notifications not supported on web");return}try{await hi.createChannel({id:"orders_channel",name:"New Orders",description:"Notifications for new orders",importance:5,visibility:1,sound:"notification_sound.mp3",vibration:!0}),await hi.createChannel({id:"default",name:"Default",description:"General notifications",importance:5,visibility:1,sound:"default",vibration:!0});let e=await hi.checkPermissions();e.receive==="prompt"&&(e=await hi.requestPermissions());let t=await fE.checkPermissions();t.display==="prompt"&&(t=await fE.requestPermissions()),e.receive!=="granted"&&console.log("User denied push permissions!"),await hi.register(),hi.addListener("registration",r=>{console.log("Push registration success, token: "+r.value),Na(async()=>{const{useNotificationStore:n}=await Promise.resolve().then(()=>lE);return{useNotificationStore:n}},void 0).then(({useNotificationStore:n})=>{n.getState().setPushToken(r.value)}),io.saveTokenToDb(r.value),ln.success("   !",{description:"       ."})}),hi.addListener("registrationError",r=>{console.error("Error on registration: "+JSON.stringify(r))}),hi.addListener("pushNotificationReceived",async r=>{console.log("Push received: "+JSON.stringify(r)),ln(r.title||"New Notification",{description:r.body})}),hi.addListener("pushNotificationActionPerformed",r=>{console.log("Push action performed: "+JSON.stringify(r))})}catch(e){console.error("Error initializing push notifications",e)}},saveTokenToDb:async e=>{if(!e){const{useNotificationStore:n}=await Na(async()=>{const{useNotificationStore:a}=await Promise.resolve().then(()=>lE);return{useNotificationStore:a}},void 0);e=n.getState().pushToken||localStorage.getItem("push_token")||void 0}if(!e){console.log("No token found to save");return}e&&e!==localStorage.getItem("push_token")&&localStorage.setItem("push_token",e);const{supabase:t}=await Na(async()=>{const{supabase:n}=await Promise.resolve().then(()=>BF);return{supabase:n}},void 0),{data:{user:r}}=await t.auth.getUser();if(r){console.log("Saving token to database for user:",r.id);const{error:n}=await t.from("user_fcm_tokens").upsert({user_id:r.id,token:e,last_updated:new Date().toISOString(),device_name:Qn.getPlatform()},{onConflict:"user_id,token"});n?console.error("Error saving token to DB:",n):console.log("Token saved successfully")}},getStoredToken:()=>localStorage.getItem("push_token"),testLocalNotification:async()=>{ln.info("Testing Push Token",{description:"To test real notifications, please initiate an order status change from another device."}),console.log("Test notification triggered (mock)")}},Fq=Object.freeze(Object.defineProperty({__proto__:null,NotificationService:io},Symbol.toStringTag,{value:"Module"}));function Mq(){Lo();const[e,t]=E.useState(!1),[r,n]=E.useState(io.getStoredToken());return g.jsx("div",{className:"p-6 space-y-8",dir:"rtl",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold",children:" "}),g.jsx(Ne,{variant:"outline",onClick:()=>t(!e),children:e?"  ":" "})]}),e&&g.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg mb-6 ltr",children:[g.jsx("h3",{className:"font-bold mb-2",children:"Notification Debugger"}),g.jsxs("div",{className:"space-y-2 text-sm",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{children:"Push Token:"}),g.jsx("span",{className:r?"text-green-600 font-mono":"text-red-600",children:r?"Present":"Missing"}),r&&g.jsx(Ne,{size:"sm",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(r),ln.success("Token copied")},children:"Copy"})]}),g.jsxs("div",{className:"flex gap-2 mt-4",children:[g.jsx(Ne,{size:"sm",onClick:()=>io.testLocalNotification(),children:"Test Local Notification"}),g.jsx(Ne,{size:"sm",variant:"secondary",onClick:()=>io.init(),children:"Re-Init Service"}),g.jsx(Ne,{size:"sm",variant:"secondary",onClick:()=>{const a=io.getStoredToken();n(a),ln.info("Refreshed: "+(a?"Yes":"No"))},children:"Refresh Status"})]})]})]}),g.jsx(Dq,{})]})})}const dE={pending:"bg-yellow-500",confirmed:"bg-blue-500",preparing:"bg-orange-500",ready:"bg-green-500",delivered:"bg-gray-500",cancelled:"bg-red-500"},wp={pending:" ",confirmed:"",preparing:" ",ready:"",delivered:" ",cancelled:""},Lq=({item:e})=>{var t,r,n,a;return g.jsxs(Dh,{children:[g.jsx(Fh,{asChild:!0,children:g.jsx("div",{className:"p-4 rounded-xl border-none shadow-neu hover:shadow-neu-sm bg-background transition-all cursor-pointer",children:g.jsxs("div",{className:"flex items-center gap-4",children:[(t=e.product)!=null&&t.image?g.jsx("img",{src:e.product.image,alt:e.product.name,className:"w-16 h-16 rounded-lg object-cover"}):g.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:g.jsx(Rr,{size:24,className:"text-gray-400"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"font-semibold text-gray-900",children:(r=e.product)==null?void 0:r.name}),g.jsxs("p",{className:"text-sm text-gray-500",children:[": ",e.quantity]}),g.jsx("p",{className:"text-sm font-medium text-gray-900",children:sr(e.unit_price)})]}),g.jsx("div",{className:"text-left",children:g.jsx("p",{className:"font-bold text-gray-900",children:sr(e.total_price)})})]})})}),g.jsxs(Tf,{className:"sm:max-w-md",children:[g.jsx(kf,{children:g.jsx(If,{children:(n=e.product)==null?void 0:n.name})}),g.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[(a=e.product)!=null&&a.image?g.jsx("img",{src:e.product.image,alt:e.product.name,className:"w-full max-h-64 object-contain rounded-lg"}):g.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-lg flex items-center justify-center",children:g.jsx(Rr,{size:48})}),g.jsxs("div",{className:"text-center space-y-2 w-full",children:[g.jsx("p",{className:"text-lg font-bold",children:sr(e.unit_price)}),g.jsxs("p",{className:"text-sm text-gray-500",children:[": ",e.quantity]}),g.jsxs("p",{className:"text-sm font-semibold",children:[": ",sr(e.total_price)]})]})]})]})]})};function Bq(){var w,m;const{orderId:e}=XP(),t=Ms(),r=Lo(),{orders:n,loading:a,updateOrderStatus:i,deleteOrder:s,approveOrder:o}=Wh(),{toast:c}=Do(),[l,u]=E.useState(null),f=((w=t.state)==null?void 0:w.scannedOrderId)||e,d=n.find(_=>_.id===f||_.id.includes(f)||(f==null?void 0:f.includes(_.id)));E.useEffect(()=>{!d&&f&&console.log("Order not found:",f)},[d,f]);const h=async _=>{if(d)try{await i(d.id,_),c({title:"   ",description:`   : ${wp[_]}`})}catch{c({title:"",description:"     ",variant:"destructive"})}},v=async()=>{if(d)try{const _=await o(d.id);_.success?c({title:" ",description:"    ",className:"bg-green-500 text-white border-none"}):c({title:"",description:_.error||"   ",variant:"destructive"})}catch{c({title:"",description:"   ",variant:"destructive"})}},p=async()=>{if(d){u(d.id);try{const _=await s(d.id);_.success?(c({title:"  ",description:"   "}),r("/orders")):c({title:"",description:_.error||"    ",variant:"destructive"})}catch{c({title:"",description:"   ",variant:"destructive"})}finally{u(null)}}},x=()=>{if(!d||!d.customer_phone)return;let _=d.customer_phone.replace(/\D/g,"");_.startsWith("0")&&(_="964"+_.substring(1)),!_.startsWith("964")&&_.length<=10&&(_="964"+_);const S=d.id.slice(0,8);let A=` ${d.customer_name}!

   #${S}

: ${wp[d.status]}

  .`;const C=`https://wa.me/${_}?text=${encodeURIComponent(A)}`;window.open(C,"_blank"),c({title:"  ",description:"      "})};if(a)return g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"text-lg",children:"   ..."})});if(!d)return g.jsx("div",{className:"p-6",dir:"rtl",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsx("div",{className:"mb-6",children:g.jsxs(Ne,{variant:"ghost",onClick:()=>r(-1),className:"flex items-center gap-2 mb-4",children:[g.jsx(Uu,{size:20}),""]})}),g.jsxs("div",{className:"bg-background rounded-[2rem] p-8 text-center shadow-neu border-none",children:[g.jsx(Rr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),g.jsx("h3",{className:"text-xl font-semibold mb-2",children:"  "}),g.jsxs("p",{className:"text-gray-500 mb-6",children:["     : ",f]}),g.jsx(Ne,{onClick:()=>r("/orders"),children:"  "})]})]})});const y=d.order_items.reduce((_,S)=>_+S.quantity,0);return g.jsx("div",{className:"p-6",dir:"rtl",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("div",{className:"mb-6",children:[g.jsxs(Ne,{variant:"ghost",onClick:()=>r(-1),className:"flex items-center gap-2 mb-4",children:[g.jsx(Uu,{size:20}),""]}),((m=t.state)==null?void 0:m.scannedOrderId)&&g.jsx("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 px-4 py-2 rounded-lg mb-4",children:g.jsxs("p",{className:"text-sm font-medium",children:["  : ",f]})})]}),g.jsxs("div",{className:"bg-background rounded-[2rem] p-6 shadow-neu border-none",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-2xl bg-background flex items-center justify-center text-primary shadow-neu-inset border-none",children:g.jsx(Rr,{size:24})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[" #",d.id.slice(0,8)]}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("p",{className:"text-gray-600 font-medium",children:d.customer_name}),d.customer_phone&&g.jsx("p",{className:"text-gray-400 text-sm font-mono mt-0.5",dir:"ltr",children:d.customer_phone})]})]})]}),g.jsx("span",{className:"text-sm font-semibold text-gray-400 bg-gray-50 px-3 py-1 rounded-full",children:new Date(d.created_at).toLocaleDateString("ar-SA")})]}),g.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[g.jsx("span",{className:Se("px-4 py-2 rounded-full text-sm font-bold",dE[d.status].replace("bg-","bg-").replace("500","100")+" "+dE[d.status].replace("bg-","text-")),children:wp[d.status]}),g.jsxs("span",{className:"px-4 py-2 rounded-full text-sm font-bold bg-gray-100 text-gray-600",children:[y," "]}),g.jsx("span",{className:"px-4 py-2 rounded-full text-sm font-bold bg-blue-50 text-blue-600",children:sr(d.total_amount)})]}),d.notes&&g.jsx("div",{className:"bg-yellow-50/50 p-4 rounded-xl shadow-neu-inset border-none mb-6",children:g.jsxs("p",{className:"text-sm text-yellow-800 font-medium",children:[g.jsx("span",{className:"font-bold",children:":"})," ",d.notes]})}),g.jsxs("div",{className:"mb-6",children:[g.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[" (",d.order_items.length,")"]}),g.jsx("div",{className:"space-y-3",children:d.order_items.map((_,S)=>g.jsx(Lq,{item:_},S))})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{children:d.approved_by?g.jsxs("div",{className:"w-full bg-green-50 border border-green-200 text-green-700 font-bold h-12 rounded-xl flex items-center justify-center",children:[g.jsx($u,{className:"ml-2 h-4 w-4"}),"   "]}):g.jsxs(Ne,{onClick:v,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold h-12 rounded-xl shadow-sm",children:[g.jsx($u,{className:"ml-2 h-5 w-5"}),"  "]})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(Vh,{value:d.status,onValueChange:h,children:[g.jsx(Nf,{className:"flex-1 h-12 rounded-xl bg-gray-900 text-white hover:bg-gray-800 border-none font-bold",children:g.jsx(zh,{placeholder:" "})}),g.jsxs(Of,{children:[g.jsx(Ut,{value:"pending",children:" "}),g.jsx(Ut,{value:"confirmed",children:""}),g.jsx(Ut,{value:"preparing",children:" "}),g.jsx(Ut,{value:"ready",children:""}),g.jsx(Ut,{value:"delivered",children:" "}),g.jsx(Ut,{value:"cancelled",children:""})]})]}),g.jsxs(Dh,{children:[g.jsx(Fh,{asChild:!0,children:g.jsx("button",{className:"h-12 w-12 rounded-xl border-none shadow-neu hover:shadow-neu-sm active:shadow-neu-inset bg-background flex items-center justify-center text-gray-400 hover:text-red-500 transition-colors",children:g.jsx(pf,{size:20})})}),g.jsxs(Tf,{children:[g.jsxs(kf,{children:[g.jsx(If,{children:" "}),g.jsx(Lh,{children:"      "})]}),g.jsxs(Mh,{children:[g.jsx(jh,{children:""}),g.jsx(Bh,{onClick:p,className:"bg-destructive hover:bg-destructive/90",children:""})]})]})]})]}),d.customer_phone&&g.jsxs(Ne,{variant:"ghost",className:"w-full text-green-600 hover:text-green-700 hover:bg-green-50 h-10 rounded-xl",onClick:x,children:[g.jsx(kx,{size:16,className:"ml-2"}),"  "]})]})]})]})})}const jq=()=>{const e=Ms();return E.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),g.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),g.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function Uq(){const e=Ms(),{user:t}=qx(),{orders:r,fetchOrders:n,subscribeToOrders:a}=Wh(),[i,s]=E.useState(null);E.useEffect(()=>{n();const l=a();return()=>l()},[n,a]),E.useEffect(()=>{(async()=>{if(t){const{data:u,error:f}=await _e.from("profiles").select("role").eq("user_id",t.id).single();!f&&u&&s(u.role)}})()},[t]);const o=r.filter(l=>l.status==="pending"||l.status==="confirmed"||l.status==="preparing").length,c=i==="admin"?[{path:"/management",label:"Manage",icon:dC},{path:"/orders",label:"Orders",icon:Ev,badge:o>0},{path:"/",label:"Home",icon:yv}]:[{path:"/user-orders",label:"Orders",icon:Ev},{path:"/",label:"Home",icon:yv}];return g.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50",children:g.jsx("div",{className:"flex items-center justify-center gap-6 bg-background px-8 py-4 rounded-full shadow-neu border-none",children:c.map(l=>{const u=e.pathname===l.path,f=l.icon;return g.jsxs(mD,{to:l.path,className:Se("relative flex items-center justify-center w-12 h-12 rounded-full transition-all duration-300",u?"bg-background text-primary shadow-neu-inset scale-95":"text-muted-foreground hover:text-foreground hover:shadow-neu"),children:[g.jsx(f,{size:22,strokeWidth:u?2.5:2}),l.badge&&g.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full border-2 border-background animate-pulse"}),u&&g.jsx("span",{className:"absolute -bottom-8 text-[10px] font-bold text-foreground bg-background border-none px-2 py-0.5 rounded-full shadow-neu opacity-0 animate-in fade-in slide-in-from-top-1 hidden",children:l.label})]},l.path)})})})}function $q({children:e}){return g.jsxs("div",{className:"min-h-screen bg-background pb-32 font-sans selection:bg-primary selection:text-primary-foreground",dir:"rtl",children:[g.jsx("main",{className:"w-full",children:e}),g.jsx(Uq,{})]})}const Hq=new gP,Vq=()=>{const{user:e,loading:t}=qx();return t?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),g.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):e?g.jsx(vD,{children:g.jsx($q,{children:g.jsxs(cD,{children:[g.jsx(Ks,{path:"/",element:g.jsx(HM,{})}),g.jsx(Ks,{path:"/orders",element:g.jsx(PL,{})}),g.jsx(Ks,{path:"/user-orders",element:g.jsx(LL,{})}),g.jsx(Ks,{path:"/order-details/:orderId",element:g.jsx(Bq,{})}),g.jsx(Ks,{path:"/management",element:g.jsx(Mq,{})}),g.jsx(Ks,{path:"*",element:g.jsx(jq,{})})]})})}):g.jsx(o9,{onAuth:()=>{}})},zq=()=>(E.useEffect(()=>{io.init()},[]),g.jsx(mP,{client:Hq,children:g.jsxs(GR,{children:[g.jsx(kO,{}),g.jsx(s5,{}),g.jsx(jF,{children:g.jsx(Vq,{})})]})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});D4(document.getElementById("root")).render(g.jsx(zq,{}));export{fm as W,Na as _};
